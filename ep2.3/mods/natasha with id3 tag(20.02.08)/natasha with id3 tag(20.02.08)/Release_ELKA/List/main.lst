##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    19/Feb/2008  23:55:53 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  D:\Pasha\elf\_MY_PROJECT_\natasha with id3           #
#                       tag(20.02.08)\main.c                                 #
#    Command line    =  "D:\Pasha\elf\_MY_PROJECT_\natasha with id3          #
#                       tag(20.02.08)\main.c" -D NEWSGOLD -D ELKA -D         #
#                       UIN_WRITE --preprocess "D:\Pasha\elf\_MY_PROJECT_\na #
#                       tasha with id3 tag(20.02.08)\Release_ELKA\List\"     #
#                       -lC "D:\Pasha\elf\_MY_PROJECT_\natasha with id3      #
#                       tag(20.02.08)\Release_ELKA\List\" -o                 #
#                       "D:\Pasha\elf\_MY_PROJECT_\natasha with id3          #
#                       tag(20.02.08)\Release_ELKA\Obj\" -s9 --no_unroll     #
#                       --cpu_mode arm --endian little --cpu ARM926EJ-S      #
#                       --stack_align 4 --interwork -e --fpu None            #
#                       --dlib_config "D:\Pasha\Embedded Workbench 4.0       #
#                       Evaluation2\ARM\LIB\dl5tpainl8n.h" -I                #
#                       "D:\Pasha\Embedded Workbench 4.0                     #
#                       Evaluation2\ARM\INC\" --inline_threshold=2           #
#    List file       =  D:\Pasha\elf\_MY_PROJECT_\natasha with id3           #
#                       tag(20.02.08)\Release_ELKA\List\main.lst             #
#    Object file     =  D:\Pasha\elf\_MY_PROJECT_\natasha with id3           #
#                       tag(20.02.08)\Release_ELKA\Obj\main.r79              #
#                                                                            #
#                                                                            #
##############################################################################

D:\Pasha\elf\_MY_PROJECT_\natasha with id3 tag(20.02.08)\main.c
      1          #include "../inc/swilib.h"
      2          #include "../inc/cfg_items.h"
      3          #include "../inc/pnglist.h"
      4          //#include "NatICQ.h"
      5          #include "rect_patcher.h"
      6          #include "naticq.h"
      7          #include "history.h"
      8          #include "conf_loader.h"
      9          #include "mainmenu.h"
     10          #include "main.h"
     11          #include "language.h"
     12          #include "../inc/xtask_ipc.h"
     13          #include "smiles.h"
     14          #include "naticq_ipc.h"
     15          #include "status_change.h"
     16          #include "strings.h"
     17          //#include "string_util_int.h"
     18          #include "manage_cl.h"
     19          #include "cl_work.h"
     20          #include "select_smile.h"
     21          #include "revision.h"
     22          #include "print.h"
     23          #ifdef NEWSGOLD
     24          #include "player_tags.h"
     25          #endif
     26          #include "swilib2.h"
     27          
     28          #ifndef NEWSGOLD
     29          #define SEND_TIMER
     30          #endif
     31          extern const int DEVELOP_IF;

   \                                 In segment DATA_Z, align 4, align-sorted
     32          int popups=0;
   \                     popups:
   \   00000000                      DS8 4
     33          
     34          extern const unsigned int Vibra_cc;
     35          #ifdef ELKA
     36          #pragma swi_number=54
     37          __swi __arm void SLI_SetState(unsigned char state);
     38          #endif
     39          
     40          #define IN_TICKS(sec) (sec * TMR_SECOND)
     41          extern int janis;
     42          extern const unsigned int date_X;
     43          extern const unsigned int date_Y;
     44          extern const unsigned int unread_X;
     45          extern const unsigned int unread_Y;
     46          extern  const int show_xstatus;
     47          extern const char fontpath[64];
     48          #ifdef EVILFOX
     49          int fonto=1;
     50          int space=1;
     51          #else
     52          extern const unsigned int fonto;
     53          extern const unsigned int spaco1;
     54          extern const unsigned int spaco2;
     55          extern int *XStatusesIconArray;
     56          #endif
     57          int align=0;
     58          //int space=1;
     59          void *canvasdata;
     60          //#ifdef ELKA
     61          int paused_height;
     62          //#endif
     63          //char lielims[128];
     64          extern const unsigned int AUTO_ENGADE;
     65          char talk_sound[128];
     66          int uins;
     67          //char m_1[]="unofficial! private use only";
     68          //char m_2[]="mod by (c)Evilfox 315384924";
     69          char unread_msg_info[64];
     70          extern const int Is_Unread_On;
     71          #ifdef NEWSGOLD
     72          extern char teast2[256];
     73          #endif
     74          
     75          #ifdef ELKA
     76          char last_msg_buffer[4048];
     77          #endif
     78          ///////////////////////////////////////////////auto ping////////////////////
     79          GBSTMR mytmr3;
     80          static void PingToServer2(void)
     81          {
     82            TPKT *p;
     83            p=malloc(sizeof(PKT)+sizeof(TTime));
     84            GetDateTime(NULL,(TTime *)p->data);
     85            p->pkt.uin=0;
     86            p->pkt.type=T_ECHO;
     87            p->pkt.data_len=sizeof(TTime);
     88            SUBPROC((void *)SendAnswer,0,p);
     89          }
     90          
     91          int Is_PING_On;
     92          

   \                                 In segment CODE, align 4, keep-with-next
     93          void Pinger2()
     94          {
     95            if(Is_PING_On)
   \                     Pinger2:
   \   00000000   ........           LDR      R0,??DataTable33  ;; S_ICONS
   \   00000004   70402DE9           PUSH     {R4-R6,LR}
   \   00000008   ........           LDR      R5,??DataTable1  ;; Pinger2
   \   0000000C   A410A0E3           MOV      R1,#+164
   \   00000010   4C1D81E3           ORR      R1,R1,#0x1300
   \   00000014   004081E0           ADD      R4,R1,R0
   \   00000018   A80090E5           LDR      R0,[R0, #+168]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   1500000A           BEQ      ??Pinger2_0
     96            {
     97              PingToServer2();
   \   00000024   1000A0E3           MOV      R0,#+16
   \   00000028   140000EF           SWI      +20
   \   0000002C   0060A0E1           MOV      R6,R0
   \   00000030   081086E2           ADD      R1,R6,#+8
   \   00000034   0000A0E3           MOV      R0,#+0
   \   00000038   B40000EF           SWI      +180
   \   0000003C   0000A0E3           MOV      R0,#+0
   \   00000040   000086E5           STR      R0,[R6, #+0]
   \   00000044   1200A0E3           MOV      R0,#+18
   \   00000048   B400C6E1           STRH     R0,[R6, #+4]
   \   0000004C   0800A0E3           MOV      R0,#+8
   \   00000050   B600C6E1           STRH     R0,[R6, #+6]
   \   00000054   ........           LDR      R0,??DataTable2  ;; SendAnswer
   \   00000058   0620A0E1           MOV      R2,R6
   \   0000005C   0010A0E3           MOV      R1,#+0
   \   00000060   710100EF           SWI      +369
     98              GBS_StartTimerProc(&mytmr3, 12960, Pinger2);
   \   00000064   0520A0E1           MOV      R2,R5
   \   00000068   A010A0E3           MOV      R1,#+160
   \   0000006C   C81D81E3           ORR      R1,R1,#0x3200
   \   00000070   0400A0E1           MOV      R0,R4
   \   00000074   4D0000EF           SWI      +77
   \   00000078   7080BDE8           POP      {R4-R6,PC}
     99            }
    100            else
    101              GBS_StartTimerProc(&mytmr3, 2160, Pinger2);
   \                     ??Pinger2_0:
   \   0000007C   0520A0E1           MOV      R2,R5
   \   00000080   871EA0E3           MOV      R1,#+2160
   \   00000084   0400A0E1           MOV      R0,R4
   \   00000088   4D0000EF           SWI      +77
    102          }
   \   0000008C   7080BDE8           POP      {R4-R6,PC}       ;; return
    103          //////////////////////////////////////auto ping/////////////////////////////
    104          extern volatile int total_smiles;
    105          extern volatile int total_xstatuses;
    106          extern volatile int xstatuses_load;
    107          extern volatile int pictures_max;
    108          extern volatile int pictures_loaded;
    109          #ifdef ELKA
    110          int Is_SLI_On;
    111          /*
    112          #pragma swi_number=0x221
    113          __swi __arm int SetCpuClockLow();
    114          
    115          #pragma swi_number=0x222
    116          __swi __arm int SetCpuClockTempHi();
    117          */
    118          #endif
    119          int Is_SMARTCPU_On;
    120          int Is_INC_On;
    121          int Is_ILU_On;
    122          
    123          int Is_Double_Vibra_On;
    124          int total_unread;
    125          int total_unread2;
    126          #ifdef ELKA
    127          //extern

   \                                 In segment DATA_C, align 4, align-sorted
    128          const int SLI_TYPE=1;
   \                     SLI_TYPE:
   \   00000000   01000000           DC32 1
    129          #endif
    130          char PINGO[256];
    131          //extern const int VIBRA_TYPE;
    132          //unsigned int SLI_STATUS;
    133          #ifdef ELKA
    134          extern const unsigned int SLI_time;
    135          extern const unsigned int SLI_time2;
    136          #endif
    137          #define USE_MLMENU
    138          
    139          #define TMR_SECOND 216
    140          
    141          //IPC
    142          const char ipc_my_name[32]=IPC_NATICQ_NAME;
    143          const char ipc_xtask_name[]=IPC_XTASK_NAME;
    144          const char ipc_test_name[]="test";
    145          IPC_REQ gipc;
    146          
    147          
    148          char elf_path[256];
    149          int maincsm_id;
    150          int maingui_id;
    151          

   \                                 In segment CODE, align 4, keep-with-next
    152          void SMART_REDRAW(void)
    153          {
   \                     SMART_REDRAW:
   \   00000000   10402DE9           PUSH     {R4,LR}
    154            int f;
    155            LockSched();
   \   00000004   460100EF           SWI      +326
    156            f=IsGuiOnTop(maingui_id);
   \   00000008   1C009FE5           LDR      R0,??SMART_REDRAW_0  ;; S_ICONS + 204
   \   0000000C   000090E5           LDR      R0,[R0, #+0]
   \   00000010   350100EF           SWI      +309
   \   00000014   0040A0E1           MOV      R4,R0
    157            UnlockSched();
   \   00000018   470100EF           SWI      +327
    158            if (f) REDRAW();
   \   0000001C   000054E3           CMP      R4,#+0
   \   00000020   1080BD08           POPEQ    {R4,PC}
   \   00000024   720100EF           SWI      +370
    159          }
   \   00000028   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??SMART_REDRAW_0:
   \   0000002C   ........           DC32     S_ICONS + 204
    160          
    161          //По 10 секунд
    162          #ifdef EVILFOX
    163          #define ACTIVE_TIME 30
    164          #else
    165          #define ACTIVE_TIME 360
    166          #endif
    167          
    168          //Максимальное количество сообщений в логе
    169          #ifdef EVILFOX
    170          #define MAXLOGMSG (10)
    171          #else
    172          #define MAXLOGMSG (20)
    173          #endif
    174          
    175          // Строковые описания статусов
    176          
    177          const char S_OFFLINE[]="Offline";
    178          const char S_INVISIBLE[]="Invisible";
    179          const char S_AWAY[]="Away";
    180          const char S_NA[]="N/A";
    181          const char S_OCCUPIED[]="Occupied";
    182          const char S_DND[]="DND";
    183          const char S_ONLINE[]="Online";
    184          const char S_FFC[]="FFC";
    185          
    186          volatile int SENDMSGCOUNT;
    187          
    188          int IsActiveUp=0;
    189          
    190          int Is_Vibra_Enabled;
    191          int Is_Id3tag_Enabled;
    192          unsigned int Is_Sounds_Enabled;
    193          int Is_Show_Offline;
    194          int Is_Show_Groups;
    195          
    196          int S_ICONS[TOTAL_ICONS+1];
    197          
    198          #define EOP -10
    199          int CurrentStatus;
    200          #ifdef NEWSGOLD
    201          extern int CurrentXStatus;
    202          #else
    203          int CurrentXStatus;
    204          #endif
    205          
    206          WSHDR *ews;
    207          
    208          extern const unsigned int UIN;
    209          extern const char PASS[];
    210          
    211          static const char * const icons_names[TOTAL_ICONS]=
    212          {
    213            "offline.png",
    214            "invisible.png",
    215            "away.png",
    216            "na.png",
    217            "occupied.png",
    218            "dnd.png",
    219            "depression.png",
    220            "evil.png",
    221            "home.png",
    222            "lunch.png",
    223            "work.png",
    224            "online.png",
    225            "ffc.png",
    226            "message.png",
    227            "unknown.png",
    228            "groupon.png",
    229            "groupoff.png",
    230            "null.png",
    231            "addcont.png",
    232            "head.png",
    233            "logo.png",
    234            "ping.png",
    235            "settings.png",
    236            "vis1.png",
    237            "vis2.png",
    238            "vis3.png",
    239            "vis4.png",
    240            "vis5.png"  
    241          };
    242          
    243          extern const char ICON_PATH[];
    244          
    245          ////=================================away_msg==============
    246          #pragma swi_number=0x0C5
    247          __swi __arm int IsIdleUiOnTop();
    248          
    249          //#ifdef EVILFOX
    250          int msg_away_timer=0;
    251          extern const char away_msg2[64];
    252          char *inp_away_msg2;
    253          char away_msg[264];
    254          char away_msg_time[64];

   \                                 In segment DATA_Z, align 4, align-sorted
    255          char away_msg_time2[64];
   \                     away_msg_time2:
   \   00000000                      DS8 64
    256          char away_msg_time_dace[16];
    257          char tim_zone[16];
    258          extern const int time_zone;

   \                                 In segment DATA_Z, align 4, align-sorted
    259          int timeh;
   \                     timeh:
   \   00000000                      DS8 4

   \                                 In segment DATA_Z, align 4, align-sorted
    260          int timemin;
   \                     timemin:
   \   00000000                      DS8 4
    261          int away_m;
    262          int status_rem;
    263          int change_back_status;
    264          GBSTMR away_tmr;
    265          extern const int Auto_Status;
    266          int CurrentPrivateStatus;
    267          extern const int SendIsInviz;

   \                                 In segment CODE, align 4, keep-with-next
    268          void away_timer()
    269          {
    270            if(msg_away_timer==AUTO_ENGADE)
   \                     away_timer:
   \   00000000   ........           LDR      R1,??DataTable3  ;; AUTO_ENGADE
   \   00000004   30402DE9           PUSH     {R4,R5,LR}
   \   00000008   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   0000000C   08D04DE2           SUB      SP,SP,#+8
   \   00000010   E00094E5           LDR      R0,[R4, #+224]
   \   00000014   001091E5           LDR      R1,[R1, #+0]
   \   00000018   010050E1           CMP      R0,R1
   \   0000001C   2700001A           BNE      ??away_timer_0
    271            {
    272              if((CurrentPrivateStatus==1) && (SendIsInviz==0)) goto next;//Если в инвизе и не отправлять если в инвизе    
   \   00000020   F40094E5           LDR      R0,[R4, #+244]
   \   00000024   010050E3           CMP      R0,#+1
   \   00000028   0300001A           BNE      ??away_timer_1
   \   0000002C   C4009FE5           LDR      R0,??away_timer_2  ;; SendIsInviz
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   2000000A           BEQ      ??away_timer_0
    273              TTime tt;
    274          //    TDate d;
    275             GetDateTime(NULL,&tt);
    276          //#ifdef EVILFOX
    277             sprintf(away_msg_time_dace, "%02d:%02d", tt.hour, tt.min);
   \                     ??away_timer_1:
   \   0000003C   B8509FE5           LDR      R5,??away_timer_2+0x4  ;; `?<Constant "%02d:%02d">`
   \   00000040   0D10A0E1           MOV      R1,SP
   \   00000044   0000A0E3           MOV      R0,#+0
   \   00000048   B40000EF           SWI      +180
   \   0000004C   0130DDE5           LDRB     R3,[SP, #+1]
   \   00000050   0020DDE5           LDRB     R2,[SP, #+0]
   \   00000054   0510A0E1           MOV      R1,R5
   \   00000058   FC00A0E3           MOV      R0,#+252
   \   0000005C   540D80E3           ORR      R0,R0,#0x1500
   \   00000060   040080E0           ADD      R0,R0,R4
   \   00000064   160000EF           SWI      +22
    278           //#endif
    279             sprintf(away_msg_time, "(отсутствую примерно с %02d:%02d (%s) )", tt.hour, tt.min, tim_zone);
   \   00000068   0C00A0E3           MOV      R0,#+12
   \   0000006C   580D80E3           ORR      R0,R0,#0x1600
   \   00000070   040080E0           ADD      R0,R0,R4
   \   00000074   01002DE9           PUSH     {R0}
   \   00000078   0530DDE5           LDRB     R3,[SP, #+5]
   \   0000007C   0420DDE5           LDRB     R2,[SP, #+4]
   \   00000080   0C1085E2           ADD      R1,R5,#+12
   \   00000084   BC00A0E3           MOV      R0,#+188
   \   00000088   540D80E3           ORR      R0,R0,#0x1500
   \   0000008C   040080E0           ADD      R0,R0,R4
   \   00000090   160000EF           SWI      +22
    280             away_m=1;
    281             if(CurrentStatus!=2)
   \   00000094   340194E5           LDR      R0,[R4, #+308]
   \   00000098   0150A0E3           MOV      R5,#+1
   \   0000009C   E85084E5           STR      R5,[R4, #+232]
   \   000000A0   020050E3           CMP      R0,#+2
   \   000000A4   04D08DE2           ADD      SP,SP,#+4
   \   000000A8   0400000A           BEQ      ??away_timer_0
    282              {
    283               status_rem=CurrentStatus;
   \   000000AC   EC0084E5           STR      R0,[R4, #+236]
    284               CurrentStatus=2;
   \   000000B0   0200A0E3           MOV      R0,#+2
   \   000000B4   340184E5           STR      R0,[R4, #+308]
    285               set_my_status();
   \   000000B8   ........           BL       set_my_status
    286          //      SUBPROC((void*)WriteDefSettings);
    287               change_back_status=1;
   \   000000BC   F05084E5           STR      R5,[R4, #+240]
    288             }    
    289            }
    290          next:
    291            if(Auto_Status)
   \                     ??away_timer_0:
   \   000000C0   ........           LDR      R0,??DataTable5  ;; Auto_Status
    292               msg_away_timer++;
    293            GBS_StartTimerProc(&away_tmr, 216*5, away_timer);
   \   000000C4   34209FE5           LDR      R2,??away_timer_2+0x8  ;; away_timer
   \   000000C8   000090E5           LDR      R0,[R0, #+0]
   \   000000CC   3810A0E3           MOV      R1,#+56
   \   000000D0   000050E3           CMP      R0,#+0
   \   000000D4   E0009415           LDRNE    R0,[R4, #+224]
   \   000000D8   401E81E3           ORR      R1,R1,#0x400
   \   000000DC   01008012           ADDNE    R0,R0,#+1
   \   000000E0   E0008415           STRNE    R0,[R4, #+224]
   \   000000E4   1C00A0E3           MOV      R0,#+28
   \   000000E8   580D80E3           ORR      R0,R0,#0x1600
   \   000000EC   040080E0           ADD      R0,R0,R4
   \   000000F0   4D0000EF           SWI      +77
    294          }
   \   000000F4   3380BDE8           POP      {R0,R1,R4,R5,PC}  ;; return
   \                     ??away_timer_2:
   \   000000F8   ........           DC32     SendIsInviz
   \   000000FC   ........           DC32     `?<Constant "%02d:%02d">`
   \   00000100   ........           DC32     away_timer
    295          //#endif

   \                                 In segment CODE, align 4, keep-with-next
    296          void init_time_zone()
    297          {
    298            switch(time_zone)
   \                     init_time_zone:
   \   00000000   50219FE5           LDR      R2,??init_time_zone_1  ;; time_zone
   \   00000004   50019FE5           LDR      R0,??init_time_zone_1+0x4  ;; S_ICONS + 5644
   \   00000008   50119FE5           LDR      R1,??init_time_zone_1+0x8  ;; `?<Constant "GMT -12:00">`
   \   0000000C   00402DE9           PUSH     {LR}
   \   00000010   002092E5           LDR      R2,[R2, #+0]
   \   00000014   200052E3           CMP      R2,#+32
   \   00000018   0080BD88           POPHI    {PC}
   \   0000001C   013F8FE2           ADR      R3,??init_time_zone_0
   \   00000020   0230D3E7           LDRB     R3,[R3, R2]
   \   00000024   03F18FE0           ADD      PC,PC,R3, LSL #+2
   \                     ??init_time_zone_0:
   \   00000028   0C080B0E           DC8      +12,+8,+11,+14
   \   0000002C   10121416           DC8      +16,+18,+20,+22
   \   00000030   181A1C1E           DC8      +24,+26,+28,+30
   \   00000034   20222426           DC8      +32,+34,+36,+38
   \   00000038   282A2C2E           DC8      +40,+42,+44,+46
   \   0000003C   30323436           DC8      +48,+50,+52,+54
   \   00000040   383A3C3E           DC8      +56,+58,+60,+62
   \   00000044   40424446           DC8      +64,+66,+68,+70
   \   00000048   48000000           DC8      +72,+0,+0,+0
    299            {
    300            case 0:
    301              sprintf(tim_zone, "GMT -12:00");
    302              break;
    303            case 1:
    304              sprintf(tim_zone, "GMT -11:00");
   \                     ??init_time_zone_2:
   \   0000004C   0C1081E2           ADD      R1,R1,#+12
   \   00000050   160000EF           SWI      +22
   \   00000054   0080BDE8           POP      {PC}
    305              break;
    306            case 2:
    307              sprintf(tim_zone, "GMT -10:00");
   \                     ??init_time_zone_3:
   \   00000058   181081E2           ADD      R1,R1,#+24
   \                     ??init_time_zone_4:
   \   0000005C   160000EF           SWI      +22
   \   00000060   0080BDE8           POP      {PC}
    308              break;
    309            case 3:
    310              sprintf(tim_zone, "GMT -09:00");
   \                     ??init_time_zone_5:
   \   00000064   241081E2           ADD      R1,R1,#+36
   \   00000068   FBFFFFEA           B        ??init_time_zone_4
    311              break;
    312            case 4:
    313              sprintf(tim_zone, "GMT -08:00");
   \                     ??init_time_zone_6:
   \   0000006C   301081E2           ADD      R1,R1,#+48
   \   00000070   F9FFFFEA           B        ??init_time_zone_4
    314              break;
    315            case 5:
    316              sprintf(tim_zone, "GMT -07:00");
   \                     ??init_time_zone_7:
   \   00000074   3C1081E2           ADD      R1,R1,#+60
   \   00000078   F7FFFFEA           B        ??init_time_zone_4
    317              break;
    318            case 6:
    319              sprintf(tim_zone, "GMT -06:00");
   \                     ??init_time_zone_8:
   \   0000007C   481081E2           ADD      R1,R1,#+72
   \   00000080   F5FFFFEA           B        ??init_time_zone_4
    320              break;
    321            case 7:
    322              sprintf(tim_zone, "GMT -05:00");
   \                     ??init_time_zone_9:
   \   00000084   541081E2           ADD      R1,R1,#+84
   \   00000088   F3FFFFEA           B        ??init_time_zone_4
    323              break;
    324            case 8:
    325              sprintf(tim_zone, "GMT -04:00");
   \                     ??init_time_zone_10:
   \   0000008C   601081E2           ADD      R1,R1,#+96
   \   00000090   F1FFFFEA           B        ??init_time_zone_4
    326              break;
    327            case 9:
    328              sprintf(tim_zone, "GMT -03:30");
   \                     ??init_time_zone_11:
   \   00000094   6C1081E2           ADD      R1,R1,#+108
   \   00000098   EFFFFFEA           B        ??init_time_zone_4
    329              break;
    330            case 10:
    331              sprintf(tim_zone, "GMT -03:00");
   \                     ??init_time_zone_12:
   \   0000009C   781081E2           ADD      R1,R1,#+120
   \   000000A0   EDFFFFEA           B        ??init_time_zone_4
    332              break;
    333            case 11:
    334              sprintf(tim_zone, "GMT -02:00");
   \                     ??init_time_zone_13:
   \   000000A4   841081E2           ADD      R1,R1,#+132
   \   000000A8   EBFFFFEA           B        ??init_time_zone_4
    335              break;
    336            case 12:
    337              sprintf(tim_zone, "GMT -01:00");
   \                     ??init_time_zone_14:
   \   000000AC   901081E2           ADD      R1,R1,#+144
   \   000000B0   E9FFFFEA           B        ??init_time_zone_4
    338              break;
    339            case 13:
    340              sprintf(tim_zone, "GMT 00:00");
   \                     ??init_time_zone_15:
   \   000000B4   9C1081E2           ADD      R1,R1,#+156
   \   000000B8   E7FFFFEA           B        ??init_time_zone_4
    341              break;
    342            case 14:
    343              sprintf(tim_zone, "GMT +01:00");
   \                     ??init_time_zone_16:
   \   000000BC   A81081E2           ADD      R1,R1,#+168
   \   000000C0   E5FFFFEA           B        ??init_time_zone_4
    344              break;
    345            case 15:
    346              sprintf(tim_zone, "GMT +02:00");
   \                     ??init_time_zone_17:
   \   000000C4   B41081E2           ADD      R1,R1,#+180
   \   000000C8   E3FFFFEA           B        ??init_time_zone_4
    347              break;
    348            case 16:
    349              sprintf(tim_zone, "GMT +03:00");
   \                     ??init_time_zone_18:
   \   000000CC   C01081E2           ADD      R1,R1,#+192
   \   000000D0   E1FFFFEA           B        ??init_time_zone_4
    350              break;
    351            case 17:
    352              sprintf(tim_zone, "GMT +03:30");
   \                     ??init_time_zone_19:
   \   000000D4   CC1081E2           ADD      R1,R1,#+204
   \   000000D8   DFFFFFEA           B        ??init_time_zone_4
    353              break;
    354            case 18:
    355              sprintf(tim_zone, "GMT +04:00");
   \                     ??init_time_zone_20:
   \   000000DC   D81081E2           ADD      R1,R1,#+216
   \   000000E0   DDFFFFEA           B        ??init_time_zone_4
    356              break;
    357            case 19:
    358              sprintf(tim_zone, "GMT +04:30");
   \                     ??init_time_zone_21:
   \   000000E4   E41081E2           ADD      R1,R1,#+228
   \   000000E8   DBFFFFEA           B        ??init_time_zone_4
    359              break;
    360            case 20:
    361              sprintf(tim_zone, "GMT +05:00");
   \                     ??init_time_zone_22:
   \   000000EC   601F81E2           ADD      R1,R1,#+384
   \   000000F0   D9FFFFEA           B        ??init_time_zone_4
    362              break;
    363            case 21:
    364              sprintf(tim_zone, "GMT +05:30");
   \                     ??init_time_zone_23:
   \   000000F4   F01081E2           ADD      R1,R1,#+240
   \   000000F8   D7FFFFEA           B        ??init_time_zone_4
    365              break;
    366            case 22:
    367              sprintf(tim_zone, "GMT +05:45");
   \                     ??init_time_zone_24:
   \   000000FC   FC1081E2           ADD      R1,R1,#+252
   \   00000100   D5FFFFEA           B        ??init_time_zone_4
    368              break;
    369            case 23:
    370              sprintf(tim_zone, "GMT +06:00");
   \                     ??init_time_zone_25:
   \   00000104   421F81E2           ADD      R1,R1,#+264
   \   00000108   D3FFFFEA           B        ??init_time_zone_4
    371              break;
    372            case 24:
    373              sprintf(tim_zone, "GMT +06:30");
   \                     ??init_time_zone_26:
   \   0000010C   451F81E2           ADD      R1,R1,#+276
   \   00000110   D1FFFFEA           B        ??init_time_zone_4
    374              break;
    375            case 25:
    376              sprintf(tim_zone, "GMT +07:00");
   \                     ??init_time_zone_27:
   \   00000114   481F81E2           ADD      R1,R1,#+288
   \   00000118   CFFFFFEA           B        ??init_time_zone_4
    377              break;
    378            case 26:
    379              sprintf(tim_zone, "GMT +08:00");
   \                     ??init_time_zone_28:
   \   0000011C   4B1F81E2           ADD      R1,R1,#+300
   \   00000120   CDFFFFEA           B        ??init_time_zone_4
    380              break;
    381            case 27:
    382              sprintf(tim_zone, "GMT +09:00");
   \                     ??init_time_zone_29:
   \   00000124   4E1F81E2           ADD      R1,R1,#+312
   \   00000128   CBFFFFEA           B        ??init_time_zone_4
    383              break;
    384            case 28:
    385              sprintf(tim_zone, "GMT +09:30");
   \                     ??init_time_zone_30:
   \   0000012C   511F81E2           ADD      R1,R1,#+324
   \   00000130   C9FFFFEA           B        ??init_time_zone_4
    386              break;
    387            case 29:
    388              sprintf(tim_zone, "GMT +10:00");
   \                     ??init_time_zone_31:
   \   00000134   541F81E2           ADD      R1,R1,#+336
   \   00000138   C7FFFFEA           B        ??init_time_zone_4
    389              break;
    390            case 30:
    391              sprintf(tim_zone, "GMT +11:00");
   \                     ??init_time_zone_32:
   \   0000013C   571F81E2           ADD      R1,R1,#+348
   \   00000140   C5FFFFEA           B        ??init_time_zone_4
    392              break;
    393            case 31:
    394              sprintf(tim_zone, "GMT +12:00");
   \                     ??init_time_zone_33:
   \   00000144   5A1F81E2           ADD      R1,R1,#+360
   \   00000148   C3FFFFEA           B        ??init_time_zone_4
    395              break;
    396            case 32:
    397              sprintf(tim_zone, "GMT +13:00");
   \                     ??init_time_zone_34:
   \   0000014C   5D1F81E2           ADD      R1,R1,#+372
   \   00000150   160000EF           SWI      +22
    398              break;
    399            }
    400          }
   \                     ??init_time_zone_35:
   \   00000154   0080BDE8           POP      {PC}             ;; return
   \                     ??init_time_zone_1:
   \   00000158   ........           DC32     time_zone
   \   0000015C   ........           DC32     S_ICONS + 5644
   \   00000160   ........           DC32     `?<Constant "GMT -12:00">`
    401          
    402          //=================================away_msg===============
    403          //////////////////////////////////////////tozhe dlja auto ping///////////////
    404          

   \                                 In segment CODE, align 4, keep-with-next
    405          void Draw(void *canv)
    406          {
    407          #ifdef EVILFOX
    408            PrintField(date_X,date_Y, PINGO, align, fonto, space);
    409          #else
    410            PrintField(date_X,date_Y, PINGO, align, fonto, spaco1);
   \                     Draw:
   \   00000000   ........           LDR      R1,??DataTable19  ;; spaco1
   \   00000004   ........           LDR      R0,??DataTable33  ;; S_ICONS
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   001091E5           LDR      R1,[R1, #+0]
   \   00000010   02002DE9           PUSH     {R1}
   \   00000014   ........           LDR      R1,??DataTable20  ;; fonto
   \   00000018   001091E5           LDR      R1,[R1, #+0]
   \   0000001C   02002DE9           PUSH     {R1}
   \   00000020   983090E5           LDR      R3,[R0, #+152]
   \   00000024   B410A0E3           MOV      R1,#+180
   \   00000028   4C1D81E3           ORR      R1,R1,#0x1300
   \   0000002C   002081E0           ADD      R2,R1,R0
   \   00000030   10009FE5           LDR      R0,??Draw_0      ;; date_Y
   \   00000034   001090E5           LDR      R1,[R0, #+0]
   \   00000038   0C009FE5           LDR      R0,??Draw_0+0x4  ;; date_X
   \   0000003C   000090E5           LDR      R0,[R0, #+0]
   \   00000040   ........           _BLF     PrintField,??PrintField??rA
    411          #endif
    412          }
   \   00000044   0380BDE8           POP      {R0,R1,PC}       ;; return
   \                     ??Draw_0:
   \   00000048   ........           DC32     date_Y
   \   0000004C   ........           DC32     date_X
    413          //////////////////////////////////////////tozhe dlja auto ping///////////////
    414          GBSTMR mytmr;
    415          GBSTMR mytmr2;
    416          volatile int vibra_count;
    417          #ifdef ELKA
    418          void SLI_Off(void);
    419          #endif
    420          void start_vibra2(void);
    421          //////////////////////////reminder timer/////////////////////////

   \                                 In segment CODE, align 4, keep-with-next
    422          void Remind_Timer2()
    423          {
   \                     Remind_Timer2:
   \   00000000   10402DE9           PUSH     {R4,LR}
    424            if (total_unread)
   \   00000004   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   00000008   C00094E5           LDR      R0,[R4, #+192]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1080BD08           POPEQ    {R4,PC}
    425            {
    426              vibra_count=Vibra_cc;
   \   00000014   24009FE5           LDR      R0,??Remind_Timer2_0  ;; Vibra_cc
   \   00000018   000090E5           LDR      R0,[R0, #+0]
   \   0000001C   F80084E5           STR      R0,[R4, #+248]
    427              start_vibra2();
   \   00000020   ........           BL       start_vibra2
    428              GBS_StartTimerProc(&mytmr2, 6480, Remind_Timer2);
   \   00000024   ........           LDR      R2,??DataTable11  ;; Remind_Timer2
   \   00000028   5010A0E3           MOV      R1,#+80
   \   0000002C   641D81E3           ORR      R1,R1,#0x1900
   \   00000030   C50F41E2           SUB      R0,R1,#+788
   \   00000034   040080E0           ADD      R0,R0,R4
   \   00000038   4D0000EF           SWI      +77
    429            }
    430          }
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??Remind_Timer2_0:
   \   00000040   ........           DC32     Vibra_cc
    431          

   \                                 In segment CODE, align 4, keep-with-next
    432          void Reminder_timer()
    433          {
    434            GBS_StartTimerProc(&mytmr2, 6480, Remind_Timer2);
   \                     Reminder_timer:
   \   00000000   ........           LDR      R2,??DataTable11  ;; Remind_Timer2
   \   00000004   10009FE5           LDR      R0,??Reminder_timer_0  ;; S_ICONS + 5692
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   5010A0E3           MOV      R1,#+80
   \   00000010   641D81E3           ORR      R1,R1,#0x1900
   \   00000014   4D0000EF           SWI      +77
    435          }
   \   00000018   0080BDE8           POP      {PC}             ;; return
   \                     ??Reminder_timer_0:
   \   0000001C   ........           DC32     S_ICONS + 5692
    436          //////////////////////////reminder timer/////////////////////////
    437          
    438          //////////////////////////uptime//////////////////////////
    439          int Is_UPTIME_On;
    440          //int bubins;
    441          int xstatus_old;
    442          int minimum_xstatus;
    443          int maximum;
    444          //int UPTIME;
    445          extern const unsigned int date_X2;
    446          extern const unsigned int date_Y2;
    447          

   \                                 In segment CODE, align 4, keep-with-next
    448          void xstatuse()
    449          {
    450            maximum++;
   \                     xstatuse:
   \   00000000   ........           LDR      R0,??DataTable33  ;; S_ICONS
   \   00000004   081190E5           LDR      R1,[R0, #+264]
    451            if(maximum==60)
   \   00000008   042190E5           LDR      R2,[R0, #+260]
   \   0000000C   011081E2           ADD      R1,R1,#+1
   \   00000010   3C0051E3           CMP      R1,#+60
    452            {
    453              maximum=0;
   \   00000014   0010A003           MOVEQ    R1,#+0
    454              minimum_xstatus++;
   \   00000018   01208202           ADDEQ    R2,R2,#+1
   \   0000001C   081180E5           STR      R1,[R0, #+264]
    455            }
    456            if(minimum_xstatus==60)
   \   00000020   3C0052E3           CMP      R2,#+60
   \   00000024   0300001A           BNE      ??xstatuse_0
    457            {
    458              minimum_xstatus=0;
    459              xstatus_old++;
   \   00000028   001190E5           LDR      R1,[R0, #+256]
   \   0000002C   0020A0E3           MOV      R2,#+0
   \   00000030   011081E2           ADD      R1,R1,#+1
   \   00000034   001180E5           STR      R1,[R0, #+256]
   \                     ??xstatuse_0:
   \   00000038   042180E5           STR      R2,[R0, #+260]
    460            }
    461          }
   \   0000003C   1EFF2FE1           BX       LR               ;; return
    462          
    463          GBSTMR mytmr4;
    464          #ifdef NEWSGOLD
    465          GBSTMR tracktmr;
    466          int tracktimer;
    467          #endif
    468          extern const int Pause_Time;
    469          

   \                                 In segment CODE, align 4, keep-with-next
    470          void x_zstatus()
    471          {
   \                     x_zstatus:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    472            if(connect_state==3)
   \   00000004   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   00000008   84609FE5           LDR      R6,??x_zstatus_0  ;; x_zstatus
   \   0000000C   4C00A0E3           MOV      R0,#+76
   \   00000010   580D80E3           ORR      R0,R0,#0x1600
   \   00000014   045080E0           ADD      R5,R0,R4
   \   00000018   440194E5           LDR      R0,[R4, #+324]
   \   0000001C   0070A0E3           MOV      R7,#+0
   \   00000020   030050E3           CMP      R0,#+3
   \   00000024   0F00001A           BNE      ??x_zstatus_1
    473            {
    474            xstatuse();
   \   00000028   ........           BL       xstatuse
    475          #ifdef NEWSGOLD
    476            if (tracktimer>=10)/*&&(_GetPlayStatus()!=1))*/
   \   0000002C   0C0194E5           LDR      R0,[R4, #+268]
   \   00000030   0A0050E3           CMP      R0,#+10
   \   00000034   070000BA           BLT      ??x_zstatus_2
    477              {
    478                GBS_StartTimerProc(&tracktmr, 216*5, GetTags);
   \   00000038   ........           LDR      R2,??DataTable14  ;; GetTags
   \   0000003C   3810A0E3           MOV      R1,#+56
   \   00000040   401E81E3           ORR      R1,R1,#0x400
   \   00000044   5C00A0E3           MOV      R0,#+92
   \   00000048   580D80E3           ORR      R0,R0,#0x1600
   \   0000004C   040080E0           ADD      R0,R0,R4
   \   00000050   4D0000EF           SWI      +77
    479                tracktimer=0;
   \   00000054   0C7184E5           STR      R7,[R4, #+268]
    480              }
    481              tracktimer++;
   \                     ??x_zstatus_2:
   \   00000058   0C0194E5           LDR      R0,[R4, #+268]
   \   0000005C   010080E2           ADD      R0,R0,#+1
   \   00000060   0C0184E5           STR      R0,[R4, #+268]
    482          #endif
    483            GBS_StartTimerProc(&mytmr4, 216, x_zstatus);
   \   00000064   050000EA           B        ??x_zstatus_3
    484            }
    485            else
    486            {
    487              if(!Pause_Time)
   \                     ??x_zstatus_1:
   \   00000068   28009FE5           LDR      R0,??x_zstatus_0+0x4  ;; Pause_Time
   \   0000006C   000090E5           LDR      R0,[R0, #+0]
   \   00000070   000050E3           CMP      R0,#+0
    488              {
    489              xstatus_old=0;
   \   00000074   00718405           STREQ    R7,[R4, #+256]
    490              minimum_xstatus=0;
   \   00000078   04718405           STREQ    R7,[R4, #+260]
    491              maximum=0;
   \   0000007C   08718405           STREQ    R7,[R4, #+264]
    492              }
    493              GBS_StartTimerProc(&mytmr4, 216, x_zstatus);
   \                     ??x_zstatus_3:
   \   00000080   0620A0E1           MOV      R2,R6
   \   00000084   D810A0E3           MOV      R1,#+216
   \   00000088   0500A0E1           MOV      R0,R5
   \   0000008C   4D0000EF           SWI      +77
    494            }
    495          }
   \   00000090   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??x_zstatus_0:
   \   00000094   ........           DC32     x_zstatus
   \   00000098   ........           DC32     Pause_Time
    496          
    497          char hah[128];
    498          

   \                                 In segment CODE, align 4, keep-with-next
    499          void Draw2(void *canv)
    500          {  
    501            if(connect_state==3)
   \                     Draw2:
   \   00000000   80109FE5           LDR      R1,??Draw2_0     ;; `?<Constant "online: %02d:%02d:%02d">`
   \   00000004   30402DE9           PUSH     {R4,R5,LR}
   \   00000008   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   0000000C   6C00A0E3           MOV      R0,#+108
   \   00000010   580D80E3           ORR      R0,R0,#0x1600
   \   00000014   045080E0           ADD      R5,R0,R4
   \   00000018   440194E5           LDR      R0,[R4, #+324]
   \   0000001C   030050E3           CMP      R0,#+3
   \   00000020   0700001A           BNE      ??Draw2_1
    502            {
    503              sprintf(hah,"online: %02d:%02d:%02d", xstatus_old, minimum_xstatus, maximum);
   \   00000024   080194E5           LDR      R0,[R4, #+264]
   \   00000028   01002DE9           PUSH     {R0}
   \   0000002C   043194E5           LDR      R3,[R4, #+260]
   \   00000030   002194E5           LDR      R2,[R4, #+256]
   \   00000034   0500A0E1           MOV      R0,R5
   \   00000038   160000EF           SWI      +22
   \   0000003C   04D08DE2           ADD      SP,SP,#+4
   \   00000040   020000EA           B        ??Draw2_2
    504            }
    505            else
    506              sprintf(hah,"Offline");
   \                     ??Draw2_1:
   \   00000044   181081E2           ADD      R1,R1,#+24
   \   00000048   0500A0E1           MOV      R0,R5
   \   0000004C   160000EF           SWI      +22
    507          #ifdef EVILFOX
    508            PrintField(date_X2,date_Y2, hah, align, fonto, space);
    509          #else
    510            PrintField(date_X2,date_Y2, hah, align, fonto, spaco1);
   \                     ??Draw2_2:
   \   00000050   ........           LDR      R0,??DataTable19  ;; spaco1
   \   00000054   0520A0E1           MOV      R2,R5
   \   00000058   000090E5           LDR      R0,[R0, #+0]
   \   0000005C   01002DE9           PUSH     {R0}
   \   00000060   ........           LDR      R0,??DataTable20  ;; fonto
   \   00000064   000090E5           LDR      R0,[R0, #+0]
   \   00000068   01002DE9           PUSH     {R0}
   \   0000006C   983094E5           LDR      R3,[R4, #+152]
   \   00000070   14009FE5           LDR      R0,??Draw2_0+0x4  ;; date_Y2
   \   00000074   001090E5           LDR      R1,[R0, #+0]
   \   00000078   10009FE5           LDR      R0,??Draw2_0+0x8  ;; date_X2
   \   0000007C   000090E5           LDR      R0,[R0, #+0]
   \   00000080   ........           _BLF     PrintField,??PrintField??rA
    511          #endif
    512          }
   \   00000084   3380BDE8           POP      {R0,R1,R4,R5,PC}  ;; return
   \                     ??Draw2_0:
   \   00000088   ........           DC32     `?<Constant "online: %02d:%02d:%02d">`
   \   0000008C   ........           DC32     date_Y2
   \   00000090   ........           DC32     date_X2
    513          
    514          //-------------------------------------------//
    515          
    516          extern const unsigned int auto_x;
    517          extern const unsigned int auto_y;
    518          int automsg=0;
    519          

   \                                 In segment CODE, align 4, keep-with-next
    520          void DrawAutoMSG(void *canv)
    521          {  
   \                     DrawAutoMSG:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
    522            if(automsg)
   \   00000004   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   00000008   100194E5           LDR      R0,[R4, #+272]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   3080BD08           POPEQ    {R4,R5,PC}
    523            {
    524              sprintf(hah,"Away from [%s]",away_msg_time_dace);
   \   00000014   54109FE5           LDR      R1,??DrawAutoMSG_0  ;; `?<Constant "Away from [%s]">`
   \   00000018   6C00A0E3           MOV      R0,#+108
   \   0000001C   580D80E3           ORR      R0,R0,#0x1600
   \   00000020   045080E0           ADD      R5,R0,R4
   \   00000024   700040E2           SUB      R0,R0,#+112
   \   00000028   042080E0           ADD      R2,R0,R4
   \   0000002C   0500A0E1           MOV      R0,R5
   \   00000030   160000EF           SWI      +22
    525              PrintField(auto_x,auto_y, hah, align, fonto, spaco1);
   \   00000034   ........           LDR      R0,??DataTable19  ;; spaco1
   \   00000038   0520A0E1           MOV      R2,R5
   \   0000003C   000090E5           LDR      R0,[R0, #+0]
   \   00000040   01002DE9           PUSH     {R0}
   \   00000044   ........           LDR      R0,??DataTable20  ;; fonto
   \   00000048   000090E5           LDR      R0,[R0, #+0]
   \   0000004C   01002DE9           PUSH     {R0}
   \   00000050   983094E5           LDR      R3,[R4, #+152]
   \   00000054   18009FE5           LDR      R0,??DrawAutoMSG_0+0x4  ;; auto_y
   \   00000058   001090E5           LDR      R1,[R0, #+0]
   \   0000005C   14009FE5           LDR      R0,??DrawAutoMSG_0+0x8  ;; auto_x
   \   00000060   000090E5           LDR      R0,[R0, #+0]
   \   00000064   ........           _BLF     PrintField,??PrintField??rA
   \   00000068   08D08DE2           ADD      SP,SP,#+8
    526            }  
    527          }
   \   0000006C   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??DrawAutoMSG_0:
   \   00000070   ........           DC32     `?<Constant "Away from [%s]">`
   \   00000074   ........           DC32     auto_y
   \   00000078   ........           DC32     auto_x
    528          
    529          //-------------------------------Input away msg------------------------------//
    530          
    531          
    532          int input_awaymsg_id;
    533          
    534          const HEADER_DESC input_awaymsg_hdr={0,0,131,21,NULL,(int)"Input away msg",LGP_NULL};
    535          void UpdateCLheader(void);
    536          int inp_away_m=0;

   \                                 In segment CODE, align 4, keep-with-next
    537          int input_awaymsg_onkey(GUI *data, GUI_MSG *msg)
    538          {
   \                     input_awaymsg_onkey:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   2CD04DE2           SUB      SP,SP,#+44
   \   00000008   0070A0E1           MOV      R7,R0
   \   0000000C   0140A0E1           MOV      R4,R1
    539            WSHDR *ws=AllocWS(64);
    540            if (msg->keys==0x0FFF || msg->keys==VOL_DOWN_BUTTON)//0xFFF
   \   00000010   ........           LDR      R6,??DataTable33  ;; S_ICONS
   \   00000014   4000A0E3           MOV      R0,#+64
   \   00000018   250100EF           SWI      +293
   \   0000001C   F200D4E1           LDRSH    R0,[R4, #+2]
   \   00000020   0050A0E3           MOV      R5,#+0
   \   00000024   FF10A0E3           MOV      R1,#+255
   \   00000028   F01E81E3           ORR      R1,R1,#0xF00
   \   0000002C   010050E1           CMP      R0,R1
   \   00000030   0E005013           CMPNE    R0,#+14
   \   00000034   3A00001A           BNE      ??input_awaymsg_onkey_0
    541            {
    542              EDITCONTROL ec;
    543              char *s;
    544              ExtractEditControl(data,2,&ec);	
   \   00000038   0D20A0E1           MOV      R2,SP
   \   0000003C   0210A0E3           MOV      R1,#+2
   \   00000040   0700A0E1           MOV      R0,R7
   \   00000044   690100EF           SWI      +361
    545              ws=ec.pWS;
    546              inp_away_msg2=malloc(ec.maxlen);
   \   00000048   F801DDE1           LDRSH    R0,[SP, #+24]
   \   0000004C   28809DE5           LDR      R8,[SP, #+40]
    547          //    ws_2str(ws,inp_away_msg2,ec.maxlen);    
    548              int i=0;
    549              for(i=0;i<ws->wsbody[0];i++)
   \   00000050   0090A0E3           MOV      R9,#+0
   \   00000054   140000EF           SWI      +20
   \   00000058   E40086E5           STR      R0,[R6, #+228]
   \   0000005C   000098E5           LDR      R0,[R8, #+0]
   \   00000060   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000064   000050E3           CMP      R0,#+0
   \   00000068   0600001A           BNE      ??input_awaymsg_onkey_1
   \   0000006C   090000EA           B        ??input_awaymsg_onkey_2
    550                *(inp_away_msg2+i)=char16to8(ws->wsbody[i+1]);
   \                     ??input_awaymsg_onkey_3:
   \   00000070   890080E0           ADD      R0,R0,R9, LSL #+1
   \   00000074   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000078   ........           _BLF     char16to8,??char16to8??rA
   \   0000007C   E41096E5           LDR      R1,[R6, #+228]
   \   00000080   0100C9E7           STRB     R0,[R9, +R1]
   \   00000084   019089E2           ADD      R9,R9,#+1
   \                     ??input_awaymsg_onkey_1:
   \   00000088   000098E5           LDR      R0,[R8, #+0]
   \   0000008C   B010D0E1           LDRH     R1,[R0, #+0]
   \   00000090   010059E1           CMP      R9,R1
   \   00000094   F5FFFFBA           BLT      ??input_awaymsg_onkey_3
    551                *(inp_away_msg2+i++)=0;
   \                     ??input_awaymsg_onkey_2:
   \   00000098   E40096E5           LDR      R0,[R6, #+228]
    552                
    553              ExtractEditControl(data,4,&ec);	
   \   0000009C   0D20A0E1           MOV      R2,SP
   \   000000A0   0050C9E7           STRB     R5,[R9, +R0]
   \   000000A4   0410A0E3           MOV      R1,#+4
   \   000000A8   0700A0E1           MOV      R0,R7
   \   000000AC   690100EF           SWI      +361
    554              ws=ec.pWS;
    555              s=malloc(ec.maxlen);
   \   000000B0   F801DDE1           LDRSH    R0,[SP, #+24]
   \   000000B4   28709DE5           LDR      R7,[SP, #+40]
    556              for(i=0;i<ws->wsbody[0];i++)
   \   000000B8   0090A0E3           MOV      R9,#+0
   \   000000BC   140000EF           SWI      +20
   \   000000C0   0080A0E1           MOV      R8,R0
   \   000000C4   000097E5           LDR      R0,[R7, #+0]
   \   000000C8   B000D0E1           LDRH     R0,[R0, #+0]
   \   000000CC   000050E3           CMP      R0,#+0
   \   000000D0   0500001A           BNE      ??input_awaymsg_onkey_4
   \   000000D4   080000EA           B        ??input_awaymsg_onkey_5
    557                *(s+i)=char16to8(ws->wsbody[i+1]);
   \                     ??input_awaymsg_onkey_6:
   \   000000D8   890080E0           ADD      R0,R0,R9, LSL #+1
   \   000000DC   B200D0E1           LDRH     R0,[R0, #+2]
   \   000000E0   ........           _BLF     char16to8,??char16to8??rA
   \   000000E4   0800C9E7           STRB     R0,[R9, +R8]
   \   000000E8   019089E2           ADD      R9,R9,#+1
   \                     ??input_awaymsg_onkey_4:
   \   000000EC   000097E5           LDR      R0,[R7, #+0]
   \   000000F0   B010D0E1           LDRH     R1,[R0, #+0]
   \   000000F4   010059E1           CMP      R9,R1
   \   000000F8   F6FFFFBA           BLT      ??input_awaymsg_onkey_6
    558                *(s+i++)=0;
   \                     ??input_awaymsg_onkey_5:
   \   000000FC   0850C9E7           STRB     R5,[R9, +R8]
    559              strcat(inp_away_msg2,s);
   \   00000100   E40096E5           LDR      R0,[R6, #+228]
   \   00000104   0810A0E1           MOV      R1,R8
   \   00000108   170000EF           SWI      +23
    560              inp_away_m=1;
   \   0000010C   0100A0E3           MOV      R0,#+1
   \   00000110   180186E5           STR      R0,[R6, #+280]
    561                
    562              UpdateCLheader();
   \   00000114   ........           BL       UpdateCLheader
    563              GeneralFunc_flag1(input_awaymsg_id,1);
   \   00000118   140196E5           LDR      R0,[R6, #+276]
   \   0000011C   0110A0E3           MOV      R1,#+1
   \   00000120   3D0100EF           SWI      +317
    564            }
    565            if(msg->keys==LEFT_SOFT || msg->keys==RED_BUTTON)
   \                     ??input_awaymsg_onkey_0:
   \   00000124   F200D4E1           LDRSH    R0,[R4, #+2]
   \   00000128   010050E3           CMP      R0,#+1
   \   0000012C   0C005013           CMPNE    R0,#+12
   \   00000130   0300001A           BNE      ??input_awaymsg_onkey_7
    566            {
    567               msg_away_timer=0;
   \   00000134   E05086E5           STR      R5,[R6, #+224]
    568               away_m=0;
   \   00000138   E85086E5           STR      R5,[R6, #+232]
    569               automsg=0;
   \   0000013C   105186E5           STR      R5,[R6, #+272]
    570               UpdateCLheader();
   \   00000140   ........           BL       UpdateCLheader
    571            }
    572          return(0);
   \                     ??input_awaymsg_onkey_7:
   \   00000144   0000A0E3           MOV      R0,#+0
   \   00000148   2CD08DE2           ADD      SP,SP,#+44
   \   0000014C   F083BDE8           POP      {R4-R9,PC}       ;; return
    573          }
    574          

   \                                 In segment CODE, align 4, keep-with-next
    575          void input_awaymsg_ghook(GUI *gui, int cmd)
    576          { 
   \                     input_awaymsg_ghook:
   \   00000000   00402DE9           PUSH     {LR}
    577            static SOFTKEY_DESC sk={0x0FFF,0x0000,(int)"Сохранить"};
    578            if (cmd==7)
   \   00000004   070051E3           CMP      R1,#+7
   \   00000008   0300001A           BNE      ??input_awaymsg_ghook_0
    579            {
    580              SetSoftKey(gui,&sk,SET_SOFT_KEY_N);
   \   0000000C   2C109FE5           LDR      R1,??input_awaymsg_ghook_1  ;; ??sk
   \   00000010   0020A0E3           MOV      R2,#+0
   \   00000014   680100EF           SWI      +360
   \   00000018   0080BDE8           POP      {PC}
    581            }
    582            if(cmd==0xA)
   \                     ??input_awaymsg_ghook_0:
   \   0000001C   0A0051E3           CMP      R1,#+10
   \   00000020   0100001A           BNE      ??input_awaymsg_ghook_2
    583            {
    584              DisableIDLETMR(); // Отключаем таймер выхода по таймауту
   \   00000024   7F0100EF           SWI      +383
   \   00000028   0080BDE8           POP      {PC}
    585            }
    586            if (cmd==0x0C)
   \                     ??input_awaymsg_ghook_2:
   \   0000002C   0C0051E3           CMP      R1,#+12
   \   00000030   0080BD18           POPNE    {PC}
    587            {
    588              EDIT_SetCursorPos(gui,1);
   \   00000034   0110A0E3           MOV      R1,#+1
   \   00000038   D40100EF           SWI      +468
    589            }
    590            if(cmd==0x03){}
    591          }
   \   0000003C   0080BDE8           POP      {PC}             ;; return
   \                     ??input_awaymsg_ghook_1:
   \   00000040   ........           DC32     ??sk
    592          

   \                                 In segment CODE, align 4, keep-with-next
    593          void input_awaymsg_locret(void){}
   \                     input_awaymsg_locret:
   \   00000000   1EFF2FE1           BX       LR               ;; return
    594          
    595          SOFTKEY_DESC input_awaymsg_sk[]=
    596          {
    597            {0x0018,0x0000,(int)"Лев"},
    598            {0x0001,0x0000,(int)"Прав"},
    599            {0x003D,0x0000,(int)LGP_DOIT_PIC}
    600          };
    601          
    602          SOFTKEYSTAB input_awaymsg_skt=
    603          {
    604            input_awaymsg_sk,0
    605          };
    606          
    607          const INPUTDIA_DESC input_awaymsg_desc=
    608          {
    609            1,
    610            input_awaymsg_onkey,
    611            input_awaymsg_ghook,
    612            (void *)input_awaymsg_locret,
    613            0,
    614            &input_awaymsg_skt,
    615            {0,NULL,NULL,NULL},
    616            FONT_SMALL,
    617            100,
    618            101,
    619            0,
    620            0x00000000,
    621            0x40000000
    622          };
    623          

   \                                 In segment CODE, align 4, keep-with-next
    624          void InputAwayMsg()
    625          {
   \                     InputAwayMsg:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
    626             WSHDR *wss=AllocWS(256);
    627             void *ma=malloc_adr();
    628             void *eq=AllocEQueue(ma, mfree_adr());
    629             EDITCONTROL ec;
    630             PrepareEditControl(&ec);
    631             wsprintf(wss,"%t","Сообщение:\n");
   \   00000004   C4519FE5           LDR      R5,??InputAwayMsg_0+0x4  ;; input_awaymsg_desc
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   400FA0E3           MOV      R0,#+256
   \   00000010   250100EF           SWI      +293
   \   00000014   0060A0E1           MOV      R6,R0
   \   00000018   148000EF           SWI      +32788
   \   0000001C   0070A0E1           MOV      R7,R0
   \   00000020   158000EF           SWI      +32789
   \   00000024   0010A0E1           MOV      R1,R0
   \   00000028   0700A0E1           MOV      R0,R7
   \   0000002C   630100EF           SWI      +355
   \   00000030   0040A0E1           MOV      R4,R0
   \   00000034   0D00A0E1           MOV      R0,SP
   \   00000038   640100EF           SWI      +356
   \   0000003C   628F8FE2           ADR      R8,??InputAwayMsg_0  ;; "%t"
   \   00000040   4C2085E2           ADD      R2,R5,#+76
   \   00000044   0810A0E1           MOV      R1,R8
   \   00000048   0600A0E1           MOV      R0,R6
   \   0000004C   240100EF           SWI      +292
    632             ConstructEditControl(&ec,ECT_HEADER,ECF_NORMAL_STR,wss,32);
   \   00000050   2000A0E3           MOV      R0,#+32
   \   00000054   01002DE9           PUSH     {R0}
   \   00000058   0630A0E1           MOV      R3,R6
   \   0000005C   0020A0E3           MOV      R2,#+0
   \   00000060   0110A0E3           MOV      R1,#+1
   \   00000064   04008DE2           ADD      R0,SP,#+4
   \   00000068   650100EF           SWI      +357
    633             AddEditControlToEditQend(eq,&ec,ma);  
   \   0000006C   0720A0E1           MOV      R2,R7
   \   00000070   04108DE2           ADD      R1,SP,#+4
   \   00000074   0400A0E1           MOV      R0,R4
   \   00000078   660100EF           SWI      +358
    634          
    635             PrepareEditControl(&ec);
   \   0000007C   04008DE2           ADD      R0,SP,#+4
   \   00000080   640100EF           SWI      +356
    636             CutWSTR(wss,0);
   \   00000084   0010A0E3           MOV      R1,#+0
   \   00000088   0600A0E1           MOV      R0,R6
   \   0000008C   260100EF           SWI      +294
    637             ascii2ws(wss,away_msg2);
   \   00000090   ........           LDR      R1,??DataTable22  ;; away_msg2
   \   00000094   0600A0E1           MOV      R0,R6
   \   00000098   ........           _BLF     ascii2ws,??ascii2ws??rA
    638             ConstructEditControl(&ec,ECT_NORMAL_TEXT,ECF_APPEND_EOL,wss,255);
   \   0000009C   FF00A0E3           MOV      R0,#+255
   \   000000A0   01002DE9           PUSH     {R0}
   \   000000A4   0630A0E1           MOV      R3,R6
   \   000000A8   4020A0E3           MOV      R2,#+64
   \   000000AC   0310A0E3           MOV      R1,#+3
   \   000000B0   08008DE2           ADD      R0,SP,#+8
   \   000000B4   650100EF           SWI      +357
    639             AddEditControlToEditQend(eq,&ec,ma);
   \   000000B8   0720A0E1           MOV      R2,R7
   \   000000BC   08108DE2           ADD      R1,SP,#+8
   \   000000C0   0400A0E1           MOV      R0,R4
   \   000000C4   660100EF           SWI      +358
    640             
    641             PrepareEditControl(&ec);
   \   000000C8   08008DE2           ADD      R0,SP,#+8
   \   000000CC   640100EF           SWI      +356
    642             wsprintf(wss,"%t","Сообщение 2:\n");
   \   000000D0   582085E2           ADD      R2,R5,#+88
   \   000000D4   0810A0E1           MOV      R1,R8
   \   000000D8   0600A0E1           MOV      R0,R6
   \   000000DC   240100EF           SWI      +292
    643             ConstructEditControl(&ec,ECT_HEADER,ECF_NORMAL_STR,wss,32);
   \   000000E0   2000A0E3           MOV      R0,#+32
   \   000000E4   01002DE9           PUSH     {R0}
   \   000000E8   0630A0E1           MOV      R3,R6
   \   000000EC   0020A0E3           MOV      R2,#+0
   \   000000F0   0110A0E3           MOV      R1,#+1
   \   000000F4   0C008DE2           ADD      R0,SP,#+12
   \   000000F8   650100EF           SWI      +357
    644             AddEditControlToEditQend(eq,&ec,ma);  
   \   000000FC   0720A0E1           MOV      R2,R7
   \   00000100   0C108DE2           ADD      R1,SP,#+12
   \   00000104   0400A0E1           MOV      R0,R4
   \   00000108   660100EF           SWI      +358
    645          
    646             ascii2ws(wss,"когда смогу отвечу:)");
   \   0000010C   681085E2           ADD      R1,R5,#+104
   \   00000110   0600A0E1           MOV      R0,R6
   \   00000114   ........           _BLF     ascii2ws,??ascii2ws??rA
    647             ConstructEditControl(&ec,ECT_NORMAL_TEXT,ECF_APPEND_EOL,wss,255);
   \   00000118   FF00A0E3           MOV      R0,#+255
   \   0000011C   01002DE9           PUSH     {R0}
   \   00000120   0630A0E1           MOV      R3,R6
   \   00000124   4020A0E3           MOV      R2,#+64
   \   00000128   0310A0E3           MOV      R1,#+3
   \   0000012C   10008DE2           ADD      R0,SP,#+16
   \   00000130   650100EF           SWI      +357
    648             AddEditControlToEditQend(eq,&ec,ma);
   \   00000134   0720A0E1           MOV      R2,R7
   \   00000138   10108DE2           ADD      R1,SP,#+16
   \   0000013C   0400A0E1           MOV      R0,R4
   \   00000140   660100EF           SWI      +358
    649             
    650             patch_header(&input_awaymsg_hdr);
   \   00000144   0060A0E3           MOV      R6,#+0
   \   00000148   B863C5E1           STRH     R6,[R5, #+56]
   \   0000014C   1800A0E3           MOV      R0,#+24
   \   00000150   BA03C5E1           STRH     R0,[R5, #+58]
   \   00000154   888100EF           SWI      +33160
   \   00000158   010040E2           SUB      R0,R0,#+1
   \   0000015C   BC03C5E1           STRH     R0,[R5, #+60]
   \   00000160   8A8100EF           SWI      +33162
   \   00000164   170080E2           ADD      R0,R0,#+23
   \   00000168   BE03C5E1           STRH     R0,[R5, #+62]
    651             patch_input(&input_awaymsg_desc);      
   \   0000016C   B861C5E1           STRH     R6,[R5, #+24]
   \   00000170   8A8100EF           SWI      +33162
   \   00000174   190080E2           ADD      R0,R0,#+25
   \   00000178   BA01C5E1           STRH     R0,[R5, #+26]
   \   0000017C   888100EF           SWI      +33160
   \   00000180   010040E2           SUB      R0,R0,#+1
   \   00000184   BC01C5E1           STRH     R0,[R5, #+28]
   \   00000188   898100EF           SWI      +33161
   \   0000018C   0060A0E1           MOV      R6,R0
   \   00000190   8B8100EF           SWI      +33163
   \   00000194   000046E0           SUB      R0,R6,R0
   \   00000198   010040E2           SUB      R0,R0,#+1
   \   0000019C   BE01C5E1           STRH     R0,[R5, #+30]
    652           
    653             input_awaymsg_id=CreateInputTextDialog(&input_awaymsg_desc,&input_awaymsg_hdr,eq,1,0);//создаем диалоговое окно
   \   000001A0   0000A0E3           MOV      R0,#+0
   \   000001A4   01002DE9           PUSH     {R0}
   \   000001A8   0130A0E3           MOV      R3,#+1
   \   000001AC   0420A0E1           MOV      R2,R4
   \   000001B0   381085E2           ADD      R1,R5,#+56
   \   000001B4   0500A0E1           MOV      R0,R5
   \   000001B8   670100EF           SWI      +359
   \   000001BC   10109FE5           LDR      R1,??InputAwayMsg_0+0x8  ;; S_ICONS + 276
   \   000001C0   000081E5           STR      R0,[R1, #+0]
    654          }
   \   000001C4   40D08DE2           ADD      SP,SP,#+64
   \   000001C8   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??InputAwayMsg_0:
   \   000001CC   25740000           DC8      "%t",+0
   \   000001D0   ........           DC32     input_awaymsg_desc
   \   000001D4   ........           DC32     S_ICONS + 276
    655          
    656          //////////////////////////uptime//////////////////////////
    657          #ifdef ELKA

   \                                 In segment CODE, align 4, keep-with-next
    658          void SLI_On()
    659          {
   \                     SLI_On:
   \   00000000   10402DE9           PUSH     {R4,LR}
    660          //  SLI_STATUS=0;
    661             if(Is_SLI_On)
   \   00000004   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   00000008   AC0094E5           LDR      R0,[R4, #+172]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0100000A           BEQ      ??SLI_On_0
    662              SLI_SetState(1);   
   \   00000014   0100A0E3           MOV      R0,#+1
   \   00000018   360000EF           SWI      +54
    663             GBS_StartTimerProc(&mytmr, IN_TICKS(2) / 20, SLI_Off);
   \                     ??SLI_On_0:
   \   0000001C   14209FE5           LDR      R2,??SLI_On_1    ;; SLI_Off
   \   00000020   1510A0E3           MOV      R1,#+21
   \   00000024   2C00A0E3           MOV      R0,#+44
   \   00000028   580D80E3           ORR      R0,R0,#0x1600
   \   0000002C   040080E0           ADD      R0,R0,R4
   \   00000030   4D0000EF           SWI      +77
    664          }
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??SLI_On_1:
   \   00000038   ........           DC32     SLI_Off
    665          

   \                                 In segment CODE, align 4, keep-with-next
    666          void SLI_Off()
    667          {
   \                     SLI_Off:
   \   00000000   00402DE9           PUSH     {LR}
    668            SLI_SetState(2);
   \   00000004   0200A0E3           MOV      R0,#+2
   \   00000008   360000EF           SWI      +54
    669            if(total_unread)
   \   0000000C   ........           LDR      R0,??DataTable33  ;; S_ICONS
   \   00000010   C01090E5           LDR      R1,[R0, #+192]
   \   00000014   000051E3           CMP      R1,#+0
   \   00000018   0600000A           BEQ      ??SLI_Off_0
    670              GBS_StartTimerProc(&mytmr, IN_TICKS(2) / 20, SLI_On); //26*SLI_time2
   \   0000001C   20209FE5           LDR      R2,??SLI_Off_1   ;; SLI_On
   \   00000020   1510A0E3           MOV      R1,#+21
   \   00000024   2C30A0E3           MOV      R3,#+44
   \   00000028   583D83E3           ORR      R3,R3,#0x1600
   \   0000002C   000083E0           ADD      R0,R3,R0
   \   00000030   4D0000EF           SWI      +77
   \   00000034   0080BDE8           POP      {PC}
    671            else
    672          //           SLI_STATUS=1;
    673              SLI_SetState(0);
   \                     ??SLI_Off_0:
   \   00000038   0000A0E3           MOV      R0,#+0
   \   0000003C   360000EF           SWI      +54
    674          }
   \   00000040   0080BDE8           POP      {PC}             ;; return
   \                     ??SLI_Off_1:
   \   00000044   ........           DC32     SLI_On
    675          

   \                                 In segment CODE, align 4, keep-with-next
    676          void SLI_check()
    677          {
    678            if (total_unread)
   \                     SLI_check:
   \   00000000   14009FE5           LDR      R0,??SLI_check_0  ;; S_ICONS + 192
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0080BD08           POPEQ    {PC}
    679              SLI_On();
   \   00000014   ........           BL       SLI_On
    680          }
   \   00000018   0080BDE8           POP      {PC}             ;; return
   \                     ??SLI_check_0:
   \   0000001C   ........           DC32     S_ICONS + 192
    681          

   \                                 In segment CODE, align 4, keep-with-next
    682          void SLI_Timer()
    683          {
    684            GBS_StartTimerProc(&mytmr, 262, SLI_check); //262*SLI_time
   \                     SLI_Timer:
   \   00000000   14209FE5           LDR      R2,??SLI_Timer_0  ;; SLI_check
   \   00000004   14009FE5           LDR      R0,??SLI_Timer_0+0x4  ;; S_ICONS + 5676
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   0610A0E3           MOV      R1,#+6
   \   00000010   401F81E3           ORR      R1,R1,#0x100
   \   00000014   4D0000EF           SWI      +77
    685          }
   \   00000018   0080BDE8           POP      {PC}             ;; return
   \                     ??SLI_Timer_0:
   \   0000001C   ........           DC32     SLI_check
   \   00000020   ........           DC32     S_ICONS + 5676
    686          #endif
    687          

   \                                 In segment CODE, align 4, keep-with-next
    688          void setup_ICONS(void)
    689          {
   \                     setup_ICONS:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
    690            int i=0;
   \   00000004   ........           LDR      R5,??DataTable26  ;; S_ICONS
   \   00000008   0040A0E3           MOV      R4,#+0
    691            do
    692            {
    693              if (!S_ICONS[i]) S_ICONS[i]=(int)MakeGlobalString(ICON_PATH,'\\',icons_names[i]);
   \                     ??setup_ICONS_0:
   \   0000000C   040195E7           LDR      R0,[R5, +R4, LSL #+2]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0500001A           BNE      ??setup_ICONS_1
   \   00000018   20009FE5           LDR      R0,??setup_ICONS_2  ;; icons_names
   \   0000001C   5C10A0E3           MOV      R1,#+92
   \   00000020   042190E7           LDR      R2,[R0, +R4, LSL #+2]
   \   00000024   18009FE5           LDR      R0,??setup_ICONS_2+0x4  ;; ICON_PATH
   \   00000028   ........           _BLF     MakeGlobalString,??MakeGlobalString??rA
   \   0000002C   040185E7           STR      R0,[R5, +R4, LSL #+2]
    694              i++;
   \                     ??setup_ICONS_1:
   \   00000030   014084E2           ADD      R4,R4,#+1
    695            }
    696            while(i<TOTAL_ICONS);
   \   00000034   1C0054E3           CMP      R4,#+28
   \   00000038   F3FFFF3A           BCC      ??setup_ICONS_0
    697            return;
   \   0000003C   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??setup_ICONS_2:
   \   00000040   ........           DC32     icons_names
   \   00000044   ........           DC32     ICON_PATH
    698          }
    699          

   \                                 In segment CODE, align 4, keep-with-next
    700          void free_ICONS(void)
    701          {
   \                     free_ICONS:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
    702            int i=0;
   \   00000004   ........           LDR      R5,??DataTable26  ;; S_ICONS
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   0060A0E3           MOV      R6,#+0
    703            do
    704            {
    705              mfree((void*)S_ICONS[i]);
   \                     ??free_ICONS_0:
   \   00000010   040195E7           LDR      R0,[R5, +R4, LSL #+2]
   \   00000014   150000EF           SWI      +21
    706              S_ICONS[i]=0;
   \   00000018   046185E7           STR      R6,[R5, +R4, LSL #+2]
    707              i++;
   \   0000001C   014084E2           ADD      R4,R4,#+1
    708            }
    709            while(i<TOTAL_ICONS);
   \   00000020   1C0054E3           CMP      R4,#+28
   \   00000024   F9FFFF3A           BCC      ??free_ICONS_0
    710            return;
   \   00000028   7080BDE8           POP      {R4-R6,PC}       ;; return
    711          }
    712          
    713          extern const unsigned int IDLEICON_X;
    714          extern const unsigned int IDLEICON_Y;
    715          
    716          extern const unsigned int IDLEICON_XX;
    717          extern const unsigned int IDLEICON_YX;
    718          
    719          extern const unsigned int I_COLOR;
    720          extern const unsigned int TO_COLOR;
    721          extern const unsigned int X_COLOR;
    722          extern const unsigned int O_I_COLOR;
    723          extern const unsigned int O_TO_COLOR;
    724          extern const unsigned int O_X_COLOR;
    725          
    726          extern const unsigned int ED_FONT_SIZE;
    727          extern const unsigned int ED_H_FONT_SIZE;
    728          extern const unsigned int ED_X_FONT_SIZE;
    729          extern const unsigned int O_ED_FONT_SIZE;
    730          extern const unsigned int O_ED_H_FONT_SIZE;
    731          extern const unsigned int O_ED_X_FONT_SIZE;
    732          
    733          extern const unsigned int ACK_COLOR;
    734          extern const unsigned int UNACK_COLOR;
    735          
    736          extern const int ENA_AUTO_XTXT;
    737          extern const int NOT_LOG_SAME_XTXT;
    738          extern const int LOG_XTXT;
    739          
    740          extern const int HISTORY_BUFFER;
    741          
    742          const char percent_t[]="%t";
    743          const char percent_d[]="%d";
    744          const char empty_str[]="";
    745          const char I_str[]="I";
    746          const char x_status_change[]="X-Status change";
    747          
    748          char logmsg[256];
    749          
    750          //Illumination by BoBa 19.04.2007
    751          ///////////
    752          extern const unsigned int ILL_DISP_RECV;
    753          extern const unsigned int ILL_KEYS_RECV;
    754          extern const unsigned int ILL_DISP_SEND;
    755          extern const unsigned int ILL_KEYS_SEND;
    756          extern const unsigned int ILL_SEND_TMR;
    757          extern const unsigned int ILL_SEND_FADE;
    758          extern const unsigned int ILL_RECV_TMR;
    759          extern const unsigned int ILL_RECV_FADE;
    760          extern const unsigned int ILL_OFF_FADE;
    761          
    762          GBSTMR tmr_illumination;
    763          

   \                                 In segment CODE, align 4, keep-with-next
    764          void IlluminationOff()
    765          {
    766            SetIllumination(0,1,0,ILL_OFF_FADE);
   \                     IlluminationOff:
   \   00000000   30009FE5           LDR      R0,??IlluminationOff_0  ;; ILL_OFF_FADE
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   004090E5           LDR      R4,[R0, #+0]
   \   0000000C   0020A0E3           MOV      R2,#+0
   \   00000010   0430A0E1           MOV      R3,R4
   \   00000014   0110A0E3           MOV      R1,#+1
   \   00000018   0000A0E3           MOV      R0,#+0
   \   0000001C   080000EF           SWI      +8
    767            SetIllumination(1,1,0,ILL_OFF_FADE);
   \   00000020   0430A0E1           MOV      R3,R4
   \   00000024   0020A0E3           MOV      R2,#+0
   \   00000028   0110A0E3           MOV      R1,#+1
   \   0000002C   0100A0E1           MOV      R0,R1
   \   00000030   080000EF           SWI      +8
    768          }
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??IlluminationOff_0:
   \   00000038   ........           DC32     ILL_OFF_FADE
    769          

   \                                 In segment CODE, align 4, keep-with-next
    770          void IlluminationOn(const int disp, const int key, const int tmr, const int fade)
    771          {
   \                     IlluminationOn:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
    772            GBS_DelTimer(&tmr_illumination);
   \   00000004   5C809FE5           LDR      R8,??IlluminationOn_0  ;; S_ICONS + 6124
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   0260A0E1           MOV      R6,R2
   \   00000014   0370A0E1           MOV      R7,R3
   \   00000018   0800A0E1           MOV      R0,R8
   \   0000001C   8C0100EF           SWI      +396
    773            SetIllumination(0,1,disp,fade);
   \   00000020   0730A0E1           MOV      R3,R7
   \   00000024   0428A0E1           MOV      R2,R4, LSL #+16
   \   00000028   2228A0E1           MOV      R2,R2, LSR #+16
   \   0000002C   0110A0E3           MOV      R1,#+1
   \   00000030   0000A0E3           MOV      R0,#+0
   \   00000034   080000EF           SWI      +8
    774            SetIllumination(1,1,key,fade);
   \   00000038   0730A0E1           MOV      R3,R7
   \   0000003C   0528A0E1           MOV      R2,R5, LSL #+16
   \   00000040   2228A0E1           MOV      R2,R2, LSR #+16
   \   00000044   0110A0E3           MOV      R1,#+1
   \   00000048   0100A0E3           MOV      R0,#+1
   \   0000004C   080000EF           SWI      +8
    775            GBS_StartTimerProc(&tmr_illumination,tmr*216,IlluminationOff);
   \   00000050   14209FE5           LDR      R2,??IlluminationOn_0+0x4  ;; IlluminationOff
   \   00000054   D800A0E3           MOV      R0,#+216
   \   00000058   900601E0           MUL      R1,R0,R6
   \   0000005C   0800A0E1           MOV      R0,R8
   \   00000060   4D0000EF           SWI      +77
    776          }
   \   00000064   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??IlluminationOn_0:
   \   00000068   ........           DC32     S_ICONS + 6124
   \   0000006C   ........           DC32     IlluminationOff
    777          
    778          volatile int silenthide;    //by BoBa 25.06.07
    779          volatile int disautorecconect;	//by BoBa 10.07
    780          ///////////
    781          int Is_Vibra_Enabled;
    782          unsigned int Is_Sounds_Enabled;
    783          int Is_Show_Offline;
    784          int Is_Show_Groups;
    785          int CurrentStatus;
    786          extern int CurrentXStatus;
    787          //int CurrentPrivateStatus;
    788          
    789          //===================================================================
    790          const char def_setting[]="%sdef_settings_%d";   
    791            

   \                                 In segment CODE, align 4, keep-with-next
    792          void ReadDefSettings(void)
    793          {
    794            DEF_SETTINGS def_set;
    795            int f;
    796            unsigned int err;
    797            char str[128];
    798            snprintf(str,127,def_setting,elf_path,UIN);
   \                     ReadDefSettings:
   \   00000000   ........           LDR      R0,??DataTable31  ;; UIN
   \   00000004   ........           LDR      R2,??DataTable32  ;; def_setting
   \   00000008   70402DE9           PUSH     {R4-R6,LR}
   \   0000000C   ........           LDR      R4,??DataTable33  ;; S_ICONS
    799            if ((f=fopen(str,A_ReadOnly+A_BIN,P_READ,&err))!=-1)
   \   00000010   ........           LDR      R5,??DataTable34  ;; CurrentXStatus
   \   00000014   88D04DE2           SUB      SP,SP,#+136
   \   00000018   000090E5           LDR      R0,[R0, #+0]
   \   0000001C   7D3F84E2           ADD      R3,R4,#+500
   \   00000020   01002DE9           PUSH     {R0}
   \   00000024   7F10A0E3           MOV      R1,#+127
   \   00000028   0C008DE2           ADD      R0,SP,#+12
   \   0000002C   1B0100EF           SWI      +283
   \   00000030   08308DE2           ADD      R3,SP,#+8
   \   00000034   8020A0E3           MOV      R2,#+128
   \   00000038   801CA0E3           MOV      R1,#+32768
   \   0000003C   0C008DE2           ADD      R0,SP,#+12
   \   00000040   0A0000EF           SWI      +10
   \   00000044   0060A0E1           MOV      R6,R0
   \   00000048   010076E3           CMN      R6,#+1
   \   0000004C   04D08DE2           ADD      SP,SP,#+4
   \   00000050   3300000A           BEQ      ??ReadDefSettings_0
    800            {
    801              fread(f,&def_set,sizeof(DEF_SETTINGS),&err);
   \   00000054   04308DE2           ADD      R3,SP,#+4
   \   00000058   0420A0E3           MOV      R2,#+4
   \   0000005C   0D10A0E1           MOV      R1,SP
   \   00000060   0B0000EF           SWI      +11
    802              fclose(f,&err);
   \   00000064   04108DE2           ADD      R1,SP,#+4
   \   00000068   0600A0E1           MOV      R0,R6
   \   0000006C   0D0000EF           SWI      +13
    803              Is_Vibra_Enabled=def_set.vibra_status;
   \   00000070   0000DDE5           LDRB     R0,[SP, #+0]
   \   00000074   010000E2           AND      R0,R0,#0x1
   \   00000078   240184E5           STR      R0,[R4, #+292]
    804          #ifdef NEWSGOLD
    805              Is_Id3tag_Enabled=def_set.Id3tag_status;
   \   0000007C   0300DDE5           LDRB     R0,[SP, #+3]
   \   00000080   A013A0E1           LSR      R1,R0,#+7
   \   00000084   D81084E5           STR      R1,[R4, #+216]
    806          #endif
    807              Is_Sounds_Enabled=def_set.sound_status;
   \   00000088   0010DDE5           LDRB     R1,[SP, #+0]
   \   0000008C   021001E2           AND      R1,R1,#0x2
   \   00000090   A110A0E1           LSR      R1,R1,#+1
   \   00000094   281184E5           STR      R1,[R4, #+296]
    808          #ifdef ELKA
    809              Is_SLI_On=def_set.sli_state;
   \   00000098   011000E2           AND      R1,R0,#0x1
   \   0000009C   AC1084E5           STR      R1,[R4, #+172]
    810          #endif
    811              Is_SMARTCPU_On=def_set.smartcpu_state;
   \   000000A0   021000E2           AND      R1,R0,#0x2
   \   000000A4   A110A0E1           LSR      R1,R1,#+1
   \   000000A8   B01084E5           STR      R1,[R4, #+176]
    812              Is_INC_On=def_set.inc_state;
   \   000000AC   041000E2           AND      R1,R0,#0x4
   \   000000B0   2111A0E1           LSR      R1,R1,#+2
   \   000000B4   B41084E5           STR      R1,[R4, #+180]
    813              Is_ILU_On=def_set.ilu_state;
   \   000000B8   081000E2           AND      R1,R0,#0x8
   \   000000BC   A111A0E1           LSR      R1,R1,#+3
   \   000000C0   B81084E5           STR      R1,[R4, #+184]
    814              Is_PING_On=def_set.ping_state;
   \   000000C4   201000E2           AND      R1,R0,#0x20
   \   000000C8   A112A0E1           LSR      R1,R1,#+5
   \   000000CC   A81084E5           STR      R1,[R4, #+168]
    815              Is_UPTIME_On=def_set.uptime_state;
   \   000000D0   401000E2           AND      R1,R0,#0x40
   \   000000D4   2113A0E1           LSR      R1,R1,#+6
   \   000000D8   FC1084E5           STR      R1,[R4, #+252]
    816              Is_Show_Offline=def_set.off_contacts;
   \   000000DC   0010DDE5           LDRB     R1,[SP, #+0]
    817              Is_Show_Groups=def_set.show_groups;
    818              CurrentStatus=def_set.def_status+1;
    819              CurrentXStatus=def_set.def_xstatus;
    820          //    Is_SLI_On=def_set.sli_state;
    821              Is_Double_Vibra_On=def_set.remind_state;
   \   000000E0   100000E2           AND      R0,R0,#0x10
   \   000000E4   2002A0E1           LSR      R0,R0,#+4
   \   000000E8   041001E2           AND      R1,R1,#0x4
   \   000000EC   2111A0E1           LSR      R1,R1,#+2
   \   000000F0   2C1184E5           STR      R1,[R4, #+300]
   \   000000F4   0010DDE5           LDRB     R1,[SP, #+0]
   \   000000F8   081001E2           AND      R1,R1,#0x8
   \   000000FC   A111A0E1           LSR      R1,R1,#+3
   \   00000100   301184E5           STR      R1,[R4, #+304]
   \   00000104   0110DDE5           LDRB     R1,[SP, #+1]
   \   00000108   011081E2           ADD      R1,R1,#+1
   \   0000010C   341184E5           STR      R1,[R4, #+308]
   \   00000110   0210DDE5           LDRB     R1,[SP, #+2]
   \   00000114   BC0084E5           STR      R0,[R4, #+188]
   \   00000118   001085E5           STR      R1,[R5, #+0]
   \   0000011C   88D08DE2           ADD      SP,SP,#+136
   \   00000120   7080BDE8           POP      {R4-R6,PC}
    822          //    Is_ILU_On=def_set.ilu_state;
    823            }
    824            else
    825            {
    826              Is_Vibra_Enabled=0;
   \                     ??ReadDefSettings_0:
   \   00000124   0010A0E3           MOV      R1,#+0
   \   00000128   241184E5           STR      R1,[R4, #+292]
    827          #ifdef NEWSGOLD
    828              Is_Id3tag_Enabled=0;
   \   0000012C   D81084E5           STR      R1,[R4, #+216]
    829          #endif
    830              Is_Sounds_Enabled=0;
   \   00000130   281184E5           STR      R1,[R4, #+296]
    831              Is_Show_Offline=0;
   \   00000134   2C1184E5           STR      R1,[R4, #+300]
    832              Is_Show_Groups=1;
   \   00000138   0120A0E3           MOV      R2,#+1
   \   0000013C   302184E5           STR      R2,[R4, #+304]
    833              CurrentStatus=IS_ONLINE;
   \   00000140   0B00A0E3           MOV      R0,#+11
   \   00000144   340184E5           STR      R0,[R4, #+308]
    834              CurrentXStatus=0;
   \   00000148   001085E5           STR      R1,[R5, #+0]
    835          #ifdef ELKA
    836              Is_SLI_On=1;
   \   0000014C   AC2084E5           STR      R2,[R4, #+172]
    837          #endif
    838              Is_SMARTCPU_On=1;
   \   00000150   B02084E5           STR      R2,[R4, #+176]
    839              Is_INC_On=1;
   \   00000154   B42084E5           STR      R2,[R4, #+180]
    840              Is_Double_Vibra_On=1;
   \   00000158   0100A0E3           MOV      R0,#+1
    841              Is_ILU_On=1;
   \   0000015C   B82084E5           STR      R2,[R4, #+184]
    842              Is_PING_On=0;
   \   00000160   A81084E5           STR      R1,[R4, #+168]
    843              Is_UPTIME_On=0;
   \   00000164   FC1084E5           STR      R1,[R4, #+252]
   \   00000168   BC0084E5           STR      R0,[R4, #+188]
    844            }
    845          }
   \   0000016C   88D08DE2           ADD      SP,SP,#+136
   \   00000170   7080BDE8           POP      {R4-R6,PC}       ;; return
    846          void UpdateCLheader(void);

   \                                 In segment CODE, align 4, keep-with-next
    847          void WriteDefSettings(void)
    848          {
    849            DEF_SETTINGS def_set;
    850            int f;
    851            unsigned int err;
    852            char str[128];
    853            snprintf(str,127,def_setting,elf_path,UIN);
   \                     WriteDefSettings:
   \   00000000   ........           LDR      R0,??DataTable31  ;; UIN
   \   00000004   ........           LDR      R2,??DataTable32  ;; def_setting
   \   00000008   30402DE9           PUSH     {R4,R5,LR}
   \   0000000C   ........           LDR      R4,??DataTable33  ;; S_ICONS
   \   00000010   88D04DE2           SUB      SP,SP,#+136
   \   00000014   000090E5           LDR      R0,[R0, #+0]
   \   00000018   7D3F84E2           ADD      R3,R4,#+500
   \   0000001C   01002DE9           PUSH     {R0}
   \   00000020   7F10A0E3           MOV      R1,#+127
   \   00000024   0C008DE2           ADD      R0,SP,#+12
   \   00000028   1B0100EF           SWI      +283
    854            if ((f=fopen(str,A_WriteOnly+A_BIN+A_Create+A_Truncate,P_WRITE,&err))!=-1)
   \   0000002C   08308DE2           ADD      R3,SP,#+8
   \   00000030   402FA0E3           MOV      R2,#+256
   \   00000034   0110A0E3           MOV      R1,#+1
   \   00000038   831C81E3           ORR      R1,R1,#0x8300
   \   0000003C   0C008DE2           ADD      R0,SP,#+12
   \   00000040   0A0000EF           SWI      +10
   \   00000044   0050A0E1           MOV      R5,R0
   \   00000048   010075E3           CMN      R5,#+1
   \   0000004C   04D08DE2           ADD      SP,SP,#+4
   \   00000050   4400000A           BEQ      ??WriteDefSettings_0
    855            {
    856              def_set.vibra_status=Is_Vibra_Enabled;
   \   00000054   0010DDE5           LDRB     R1,[SP, #+0]
   \   00000058   242194E5           LDR      R2,[R4, #+292]
   \   0000005C   FE1001E2           AND      R1,R1,#0xFE
   \   00000060   012002E2           AND      R2,R2,#0x1
   \   00000064   011082E1           ORR      R1,R2,R1
   \   00000068   0010CDE5           STRB     R1,[SP, #+0]
    857          #ifdef NEWSGOLD
    858              def_set.Id3tag_status=Is_Id3tag_Enabled;
   \   0000006C   0310DDE5           LDRB     R1,[SP, #+3]
   \   00000070   D82094E5           LDR      R2,[R4, #+216]
    859          #endif
    860              def_set.sound_status=Is_Sounds_Enabled;
    861              def_set.off_contacts=Is_Show_Offline;
    862              def_set.show_groups=Is_Show_Groups;
   \   00000074   0230A0E3           MOV      R3,#+2
   \   00000078   7F1001E2           AND      R1,R1,#0x7F
   \   0000007C   821381E1           ORR      R1,R1,R2, LSL #+7
   \   00000080   0310CDE5           STRB     R1,[SP, #+3]
   \   00000084   0010DDE5           LDRB     R1,[SP, #+0]
   \   00000088   282194E5           LDR      R2,[R4, #+296]
   \   0000008C   F11001E2           AND      R1,R1,#0xF1
   \   00000090   822003E0           AND      R2,R3,R2, LSL #+1
   \   00000094   011082E1           ORR      R1,R2,R1
   \   00000098   2C2194E5           LDR      R2,[R4, #+300]
   \   0000009C   0430A0E3           MOV      R3,#+4
   \   000000A0   022103E0           AND      R2,R3,R2, LSL #+2
   \   000000A4   011082E1           ORR      R1,R2,R1
   \   000000A8   302194E5           LDR      R2,[R4, #+304]
   \   000000AC   0830A0E3           MOV      R3,#+8
   \   000000B0   822103E0           AND      R2,R3,R2, LSL #+3
   \   000000B4   011082E1           ORR      R1,R2,R1
   \   000000B8   0010CDE5           STRB     R1,[SP, #+0]
    863              def_set.def_status=CurrentStatus-1;
   \   000000BC   341194E5           LDR      R1,[R4, #+308]
    864              def_set.def_xstatus=CurrentXStatus;
    865          #ifdef ELKA
    866              def_set.sli_state=Is_SLI_On;
    867          #endif
    868              def_set.smartcpu_state=Is_SMARTCPU_On;
    869              def_set.inc_state=Is_INC_On;
    870              def_set.remind_state=Is_Double_Vibra_On;
    871              def_set.ilu_state=Is_ILU_On;
    872              def_set.ping_state=Is_PING_On;
    873              def_set.uptime_state=Is_UPTIME_On;
   \   000000C0   0230A0E3           MOV      R3,#+2
   \   000000C4   011041E2           SUB      R1,R1,#+1
   \   000000C8   0110CDE5           STRB     R1,[SP, #+1]
   \   000000CC   ........           LDR      R1,??DataTable34  ;; CurrentXStatus
   \   000000D0   001091E5           LDR      R1,[R1, #+0]
   \   000000D4   0210CDE5           STRB     R1,[SP, #+2]
   \   000000D8   0310DDE5           LDRB     R1,[SP, #+3]
   \   000000DC   AC2094E5           LDR      R2,[R4, #+172]
   \   000000E0   801001E2           AND      R1,R1,#0x80
   \   000000E4   012002E2           AND      R2,R2,#0x1
   \   000000E8   011082E1           ORR      R1,R2,R1
   \   000000EC   B02094E5           LDR      R2,[R4, #+176]
   \   000000F0   822003E0           AND      R2,R3,R2, LSL #+1
   \   000000F4   011082E1           ORR      R1,R2,R1
   \   000000F8   B42094E5           LDR      R2,[R4, #+180]
   \   000000FC   0430A0E3           MOV      R3,#+4
   \   00000100   022103E0           AND      R2,R3,R2, LSL #+2
   \   00000104   011082E1           ORR      R1,R2,R1
   \   00000108   BC2094E5           LDR      R2,[R4, #+188]
   \   0000010C   1030A0E3           MOV      R3,#+16
   \   00000110   022203E0           AND      R2,R3,R2, LSL #+4
   \   00000114   011082E1           ORR      R1,R2,R1
   \   00000118   B82094E5           LDR      R2,[R4, #+184]
   \   0000011C   0830A0E3           MOV      R3,#+8
   \   00000120   822103E0           AND      R2,R3,R2, LSL #+3
   \   00000124   011082E1           ORR      R1,R2,R1
   \   00000128   A82094E5           LDR      R2,[R4, #+168]
   \   0000012C   2030A0E3           MOV      R3,#+32
   \   00000130   822203E0           AND      R2,R3,R2, LSL #+5
   \   00000134   011082E1           ORR      R1,R2,R1
   \   00000138   FC2094E5           LDR      R2,[R4, #+252]
   \   0000013C   4030A0E3           MOV      R3,#+64
   \   00000140   022303E0           AND      R2,R3,R2, LSL #+6
   \   00000144   011082E1           ORR      R1,R2,R1
   \   00000148   0310CDE5           STRB     R1,[SP, #+3]
    874              fwrite(f,&def_set,sizeof(DEF_SETTINGS),&err);
   \   0000014C   04308DE2           ADD      R3,SP,#+4
   \   00000150   0420A0E3           MOV      R2,#+4
   \   00000154   0D10A0E1           MOV      R1,SP
   \   00000158   0C0000EF           SWI      +12
    875              fclose(f,&err);
   \   0000015C   04108DE2           ADD      R1,SP,#+4
   \   00000160   0500A0E1           MOV      R0,R5
   \   00000164   0D0000EF           SWI      +13
    876            }
    877            UpdateCLheader();
   \                     ??WriteDefSettings_0:
   \   00000168   ........           BL       UpdateCLheader
    878          }
   \   0000016C   88D08DE2           ADD      SP,SP,#+136
   \   00000170   3080BDE8           POP      {R4,R5,PC}       ;; return
    879          //by KreN 27.09.2007
    880          //===================================================================
    881          extern S_SMILES *s_top;
    882          extern DYNPNGICONLIST *SmilesImgList;
    883          extern DYNPNGICONLIST *XStatusesImgList;
    884          
    885          //=============================Проигрывание звука=======================
    886          extern const char sndStartup[];
    887          extern const char sndSrvMsg[];
    888          extern const char sndGlobal[];
    889          extern const char sndGlobal2[];
    890          extern const char sndMsg[];
    891          extern const char sndMsg2[];
    892          extern const unsigned int extended_sounds;
    893          extern const char sndMsgSent[];
    894          extern const unsigned int sndVolume;
    895          
    896          

   \                                 In segment CODE, align 4, keep-with-next
    897          void Play(const char *fname)
    898          {
   \                     Play:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   D0D04DE2           SUB      SP,SP,#+208
   \   00000008   0060A0E1           MOV      R6,R0
    899            if ((!IsCalling())&&Is_Sounds_Enabled)
   \   0000000C   6E0000EF           SWI      +110
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   4100001A           BNE      ??Play_0
   \   00000018   08019FE5           LDR      R0,??Play_1      ;; S_ICONS + 296
   \   0000001C   000090E5           LDR      R0,[R0, #+0]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   3D00000A           BEQ      ??Play_0
    900            {
    901              FSTATS fstats;
    902              unsigned int err;
    903              if (GetFileStats(fname,&fstats,&err)!=-1)
   \   00000028   0D20A0E1           MOV      R2,SP
   \   0000002C   A8108DE2           ADD      R1,SP,#+168
   \   00000030   0600A0E1           MOV      R0,R6
   \   00000034   840000EF           SWI      +132
   \   00000038   010070E3           CMN      R0,#+1
   \   0000003C   3700000A           BEQ      ??Play_0
    904              {
    905                PLAYFILE_OPT _sfo1;
    906                WSHDR* sndPath=AllocWS(128);
   \   00000040   8000A0E3           MOV      R0,#+128
   \   00000044   250100EF           SWI      +293
   \   00000048   0040A0E1           MOV      R4,R0
    907                WSHDR* sndFName=AllocWS(128);
   \   0000004C   8000A0E3           MOV      R0,#+128
   \   00000050   250100EF           SWI      +293
   \   00000054   0050A0E1           MOV      R5,R0
    908                char s[128];
    909                const char *p=strrchr(fname,'\\')+1;
   \   00000058   5C10A0E3           MOV      R1,#+92
   \   0000005C   0600A0E1           MOV      R0,R6
   \   00000060   170100EF           SWI      +279
   \   00000064   017080E2           ADD      R7,R0,#+1
    910                str_2ws(sndFName,p,128);
   \   00000068   8020A0E3           MOV      R2,#+128
   \   0000006C   0710A0E1           MOV      R1,R7
   \   00000070   0500A0E1           MOV      R0,R5
   \   00000074   6C0100EF           SWI      +364
    911                strncpy(s,fname,p-fname);
   \   00000078   067047E0           SUB      R7,R7,R6
   \   0000007C   0720A0E1           MOV      R2,R7
   \   00000080   0610A0E1           MOV      R1,R6
   \   00000084   28008DE2           ADD      R0,SP,#+40
   \   00000088   160100EF           SWI      +278
    912                s[p-fname]='\0';
   \   0000008C   0060A0E3           MOV      R6,#+0
   \   00000090   28008DE2           ADD      R0,SP,#+40
   \   00000094   0060C7E7           STRB     R6,[R7, +R0]
    913                str_2ws(sndPath,s,128);
   \   00000098   8020A0E3           MOV      R2,#+128
   \   0000009C   28108DE2           ADD      R1,SP,#+40
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   6C0100EF           SWI      +364
    914                
    915                zeromem(&_sfo1,sizeof(PLAYFILE_OPT));
   \   000000A8   2410A0E3           MOV      R1,#+36
   \   000000AC   04008DE2           ADD      R0,SP,#+4
   \   000000B0   1D0100EF           SWI      +285
    916                _sfo1.repeat_num=1;
    917                _sfo1.time_between_play=0;
    918                _sfo1.play_first=0;
    919                _sfo1.volume=sndVolume;
   \   000000B4   70209FE5           LDR      R2,??Play_1+0x4  ;; sndVolume
   \   000000B8   0100A0E3           MOV      R0,#+1
   \   000000BC   B400CDE1           STRH     R0,[SP, #+4]
   \   000000C0   08608DE5           STR      R6,[SP, #+8]
   \   000000C4   0C608DE5           STR      R6,[SP, #+12]
   \   000000C8   002092E5           LDR      R2,[R2, #+0]
    920          #ifdef NEWSGOLD
    921                _sfo1.unk6=1;
    922                _sfo1.unk7=1;
    923                _sfo1.unk9=2;
   \   000000CC   0210A0E3           MOV      R1,#+2
   \   000000D0   10208DE5           STR      R2,[SP, #+16]
   \   000000D4   18008DE5           STR      R0,[SP, #+24]
   \   000000D8   1C008DE5           STR      R0,[SP, #+28]
   \   000000DC   24108DE5           STR      R1,[SP, #+36]
    924                PlayFile(0x10, sndPath, sndFName, GBS_GetCurCepid(), MSG_PLAYFILE_REPORT, &_sfo1);
   \   000000E0   450100EF           SWI      +325
   \   000000E4   04108DE2           ADD      R1,SP,#+4
   \   000000E8   02002DE9           PUSH     {R1}
   \   000000EC   0030A0E1           MOV      R3,R0
   \   000000F0   0520A0E1           MOV      R2,R5
   \   000000F4   1000A0E3           MOV      R0,#+16
   \   000000F8   BC10A0E3           MOV      R1,#+188
   \   000000FC   701C81E3           ORR      R1,R1,#0x7000
   \   00000100   02002DE9           PUSH     {R1}
   \   00000104   0410A0E1           MOV      R1,R4
   \   00000108   4A0000EF           SWI      +74
    925          #else
    926          #ifdef X75
    927                _sfo1.unk4=0x80000000;
    928                _sfo1.unk5=1;
    929                PlayFile(0xC, sndPath, sndFName, 0,GBS_GetCurCepid(), MSG_PLAYFILE_REPORT, &_sfo1);
    930          #else
    931                _sfo1.unk5=1;
    932                PlayFile(0xC, sndPath, sndFName, GBS_GetCurCepid(), MSG_PLAYFILE_REPORT, &_sfo1);
    933          #endif
    934          #endif
    935                FreeWS(sndPath);
   \   0000010C   0400A0E1           MOV      R0,R4
   \   00000110   290100EF           SWI      +297
    936                FreeWS(sndFName);
   \   00000114   0500A0E1           MOV      R0,R5
   \   00000118   290100EF           SWI      +297
   \   0000011C   08D08DE2           ADD      SP,SP,#+8
    937              }
    938            }
    939          }
   \                     ??Play_0:
   \   00000120   D0D08DE2           ADD      SP,SP,#+208      ;; stack cleaning
   \   00000124   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??Play_1:
   \   00000128   ........           DC32     S_ICONS + 296
   \   0000012C   ........           DC32     sndVolume
    940          
    941          GBSTMR tmr_vibra;
    942          
    943          

   \                                 In segment CODE, align 4, keep-with-next
    944          void start_vibra(void)
    945          {
   \                     start_vibra:
   \   00000000   10402DE9           PUSH     {R4,LR}
    946            extern const int VIBR_TYPE;
    947            void stop_vibra(void);
    948          //  if ((Is_Vibra_Enabled)&&(!IsCalling()))
    949          //          SLI_On();
    950          //            else
    951          //             SLI_Off();
    952            if((Is_Vibra_Enabled)&&(!IsCalling()))
   \   00000004   ........           LDR      R4,??DataTable56  ;; S_ICONS
   \   00000008   240194E5           LDR      R0,[R4, #+292]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1080BD08           POPEQ    {R4,PC}
   \   00000014   6E0000EF           SWI      +110
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   1080BD18           POPNE    {R4,PC}
    953            {
    954              extern const unsigned int vibraPower;
    955              SetVibration(vibraPower);
   \   00000020   ........           LDR      R0,??DataTable40  ;; vibraPower
   \   00000024   000090E5           LDR      R0,[R0, #+0]
   \   00000028   7C0000EF           SWI      +124
    956              if(VIBR_TYPE)
   \   0000002C   ........           LDR      R1,??DataTable43  ;; VIBR_TYPE
   \   00000030   28209FE5           LDR      R2,??start_vibra_0  ;; stop_vibra
   \   00000034   001091E5           LDR      R1,[R1, #+0]
   \   00000038   FC00A0E3           MOV      R0,#+252
   \   0000003C   5C0D80E3           ORR      R0,R0,#0x1700
   \   00000040   040080E0           ADD      R0,R0,R4
   \   00000044   000051E3           CMP      R1,#+0
   \   00000048   0100000A           BEQ      ??start_vibra_1
    957                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>2,stop_vibra);
   \   0000004C   3610A0E3           MOV      R1,#+54
   \   00000050   000000EA           B        ??start_vibra_2
    958              else
    959                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>1,stop_vibra);
   \                     ??start_vibra_1:
   \   00000054   6C10A0E3           MOV      R1,#+108
   \                     ??start_vibra_2:
   \   00000058   4D0000EF           SWI      +77
    960            }
    961          }
   \   0000005C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??start_vibra_0:
   \   00000060   ........           DC32     stop_vibra
    962          

   \                                 In segment CODE, align 4, keep-with-next
    963          void stop_vibra(void)
    964          {
   \                     stop_vibra:
   \   00000000   00402DE9           PUSH     {LR}
    965            extern const int VIBR_TYPE;
    966            SetVibration(0);
   \   00000004   0000A0E3           MOV      R0,#+0
   \   00000008   7C0000EF           SWI      +124
    967            if (--vibra_count)
   \   0000000C   ........           LDR      R0,??DataTable56  ;; S_ICONS
   \   00000010   F81090E5           LDR      R1,[R0, #+248]
   \   00000014   011051E2           SUBS     R1,R1,#+1
   \   00000018   F81080E5           STR      R1,[R0, #+248]
   \   0000001C   0080BD08           POPEQ    {PC}
    968            {
    969              if(VIBR_TYPE)
   \   00000020   2C209FE5           LDR      R2,??stop_vibra_0  ;; start_vibra
   \   00000024   FC10A0E3           MOV      R1,#+252
   \   00000028   5C1D81E3           ORR      R1,R1,#0x1700
   \   0000002C   000081E0           ADD      R0,R1,R0
   \   00000030   ........           LDR      R1,??DataTable43  ;; VIBR_TYPE
   \   00000034   001091E5           LDR      R1,[R1, #+0]
   \   00000038   000051E3           CMP      R1,#+0
   \   0000003C   0100000A           BEQ      ??stop_vibra_1
    970                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>5,start_vibra);
   \   00000040   0610A0E3           MOV      R1,#+6
   \   00000044   000000EA           B        ??stop_vibra_2
    971              else
    972                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>1,start_vibra);
   \                     ??stop_vibra_1:
   \   00000048   6C10A0E3           MOV      R1,#+108
   \                     ??stop_vibra_2:
   \   0000004C   4D0000EF           SWI      +77
    973            }
    974          }
   \   00000050   0080BDE8           POP      {PC}             ;; return
   \                     ??stop_vibra_0:
   \   00000054   ........           DC32     start_vibra
    975          

   \                                 In segment CODE, align 4, keep-with-next
    976          void start_vibra2(void)
    977          {
    978            extern const int VIBR_TYPE;
    979            void stop_vibra2(void);
    980          //  if ((Is_Vibra_Enabled)&&(!IsCalling()))
    981          //          SLI_On();
    982          //            else
    983          //             SLI_Off();
    984              extern const unsigned int vibraPower;
    985              SetVibration(vibraPower);
   \                     start_vibra2:
   \   00000000   ........           LDR      R0,??DataTable40  ;; vibraPower
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   7C0000EF           SWI      +124
    986              if(VIBR_TYPE)
   \   00000010   ........           LDR      R1,??DataTable43  ;; VIBR_TYPE
   \   00000014   18009FE5           LDR      R0,??start_vibra2_0  ;; S_ICONS + 6140
   \   00000018   001091E5           LDR      R1,[R1, #+0]
   \   0000001C   14209FE5           LDR      R2,??start_vibra2_0+0x4  ;; stop_vibra2
   \   00000020   000051E3           CMP      R1,#+0
    987                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>2,stop_vibra2);
   \   00000024   3610A013           MOVNE    R1,#+54
    988              else
    989                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>1,stop_vibra2);
   \   00000028   6C10A003           MOVEQ    R1,#+108
   \   0000002C   4D0000EF           SWI      +77
    990          }
   \   00000030   0080BDE8           POP      {PC}             ;; return
   \                     ??start_vibra2_0:
   \   00000034   ........           DC32     S_ICONS + 6140
   \   00000038   ........           DC32     stop_vibra2
    991          

   \                                 In segment CODE, align 4, keep-with-next
    992          void stop_vibra2(void)
    993          {
   \                     stop_vibra2:
   \   00000000   00402DE9           PUSH     {LR}
    994            extern const int VIBR_TYPE;
    995            SetVibration(0);
   \   00000004   0000A0E3           MOV      R0,#+0
   \   00000008   7C0000EF           SWI      +124
    996            if (--vibra_count)
   \   0000000C   ........           LDR      R0,??DataTable56  ;; S_ICONS
   \   00000010   F81090E5           LDR      R1,[R0, #+248]
   \   00000014   011051E2           SUBS     R1,R1,#+1
   \   00000018   F81080E5           STR      R1,[R0, #+248]
   \   0000001C   0080BD08           POPEQ    {PC}
    997            {
    998              if(VIBR_TYPE)
   \   00000020   2C209FE5           LDR      R2,??stop_vibra2_0  ;; start_vibra2
   \   00000024   FC10A0E3           MOV      R1,#+252
   \   00000028   5C1D81E3           ORR      R1,R1,#0x1700
   \   0000002C   000081E0           ADD      R0,R1,R0
   \   00000030   ........           LDR      R1,??DataTable43  ;; VIBR_TYPE
   \   00000034   001091E5           LDR      R1,[R1, #+0]
   \   00000038   000051E3           CMP      R1,#+0
   \   0000003C   0100000A           BEQ      ??stop_vibra2_1
    999                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>5,start_vibra2);
   \   00000040   0610A0E3           MOV      R1,#+6
   \   00000044   000000EA           B        ??stop_vibra2_2
   1000              else
   1001                GBS_StartTimerProc(&tmr_vibra,TMR_SECOND>>1,start_vibra2);
   \                     ??stop_vibra2_1:
   \   00000048   6C10A0E3           MOV      R1,#+108
   \                     ??stop_vibra2_2:
   \   0000004C   4D0000EF           SWI      +77
   1002            }
   1003          }
   \   00000050   0080BDE8           POP      {PC}             ;; return
   \                     ??stop_vibra2_0:
   \   00000054   ........           DC32     start_vibra2
   1004          

   \                                 In segment CODE, align 4, keep-with-next
   1005          void ChangeVibra(void)
   1006          {
   1007            if (!(Is_Vibra_Enabled=!(Is_Vibra_Enabled)))
   \                     ChangeVibra:
   \   00000000   ........           LDR      R0,??DataTable56  ;; S_ICONS
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   241190E5           LDR      R1,[R0, #+292]
   \   0000000C   000051E3           CMP      R1,#+0
   \   00000010   1C109FE5           LDR      R1,??ChangeVibra_0  ;; `?<Constant "\\302\\350\\341\\360\\340 \\356\\362\\352\\`
   \   00000014   0120A003           MOVEQ    R2,#+1
   \   00000018   0020A013           MOVNE    R2,#+0
   \   0000001C   242180E5           STR      R2,[R0, #+292]
   \   00000020   000052E3           CMP      R2,#+0
   1008              ShowMSG(1,(int)LG_MSGVIBRADIS);
   1009            else
   1010              ShowMSG(1,(int)LG_MSGVIBRAENA);
   \   00000024   14108112           ADDNE    R1,R1,#+20
   \   00000028   0100A0E3           MOV      R0,#+1
   \   0000002C   480100EF           SWI      +328
   1011          }
   \   00000030   0080BDE8           POP      {PC}             ;; return
   \                     ??ChangeVibra_0:
   \   00000034   ........           DC32     `?<Constant "\\302\\350\\341\\360\\340 \\356\\362\\352\\`
   1012          

   \                                 In segment CODE, align 4, keep-with-next
   1013          void ChangeSound(void)
   1014          {
   1015            if (!(Is_Sounds_Enabled=!(Is_Sounds_Enabled)))
   \                     ChangeSound:
   \   00000000   ........           LDR      R0,??DataTable56  ;; S_ICONS
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   281190E5           LDR      R1,[R0, #+296]
   \   0000000C   000051E3           CMP      R1,#+0
   \   00000010   1C109FE5           LDR      R1,??ChangeSound_0  ;; `?<Constant "\\307\\342\\363\\352\\350 \\356\\362\\352\\`
   \   00000014   0120A003           MOVEQ    R2,#+1
   \   00000018   0020A013           MOVNE    R2,#+0
   \   0000001C   282180E5           STR      R2,[R0, #+296]
   \   00000020   000052E3           CMP      R2,#+0
   1016              ShowMSG(1,(int)LG_MSGSNDDIS);
   1017            else
   1018              ShowMSG(1,(int)LG_MSGSNDENA);
   \   00000024   14108112           ADDNE    R1,R1,#+20
   \   00000028   0100A0E3           MOV      R0,#+1
   \   0000002C   480100EF           SWI      +328
   1019          }
   \   00000030   0080BDE8           POP      {PC}             ;; return
   \                     ??ChangeSound_0:
   \   00000034   ........           DC32     `?<Constant "\\307\\342\\363\\352\\350 \\356\\362\\352\\`
   1020          
   1021          //===================================================================
   1022          //Templates
   1023          char *templates_chars; //Собственно файл
   1024          char **templates_lines; //Массив указателей на строки
   1025          

   \                                 In segment CODE, align 4, keep-with-next
   1026          void FreeTemplates(void)
   1027          {
   \                     FreeTemplates:
   \   00000000   10402DE9           PUSH     {R4,LR}
   1028            if (templates_lines) mfree(templates_lines);
   \   00000004   ........           LDR      R4,??DataTable56  ;; S_ICONS
   \   00000008   3C0194E5           LDR      R0,[R4, #+316]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0000000A           BEQ      ??FreeTemplates_0
   \   00000014   150000EF           SWI      +21
   1029            if (templates_chars) mfree(templates_chars);
   \                     ??FreeTemplates_0:
   \   00000018   380194E5           LDR      R0,[R4, #+312]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0100000A           BEQ      ??FreeTemplates_1
   \   00000024   150000EF           SWI      +21
   1030            templates_lines=NULL;
   \   00000028   0000A0E3           MOV      R0,#+0
   \                     ??FreeTemplates_1:
   \   0000002C   3C0184E5           STR      R0,[R4, #+316]
   1031            templates_chars=NULL;
   \   00000030   380184E5           STR      R0,[R4, #+312]
   1032          }
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return
   1033          
   1034          extern const char TEMPLATES_PATH[];
   1035          

   \                                 In segment CODE, align 4, keep-with-next
   1036          int LoadTemplates(unsigned int uin)
   1037          {
   \                     LoadTemplates:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   1038            FSTATS stat;
   1039            char fn[256];
   1040            int f;
   1041            unsigned int ul;
   1042            int i;
   1043            int fsize;
   1044            char *p;
   1045            char *pp;
   1046            int c;
   1047            FreeTemplates();
   1048            strcpy(fn,TEMPLATES_PATH);
   1049            i=strlen(fn);
   1050            sprintf(fn+i,"\\%d.txt",uin);
   \   00000004   7C619FE5           LDR      R6,??LoadTemplates_0  ;; `?<Constant "\\\\%d.txt">`
   \   00000008   4BDF4DE2           SUB      SP,SP,#+300
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   ........           BL       FreeTemplates
   \   00000014   ........           LDR      R1,??DataTable47  ;; TEMPLATES_PATH
   \   00000018   2C008DE2           ADD      R0,SP,#+44
   \   0000001C   1A0000EF           SWI      +26
   \   00000020   2C008DE2           ADD      R0,SP,#+44
   \   00000024   1B0000EF           SWI      +27
   \   00000028   0070A0E1           MOV      R7,R0
   \   0000002C   2C008DE2           ADD      R0,SP,#+44
   \   00000030   005087E0           ADD      R5,R7,R0
   \   00000034   0420A0E1           MOV      R2,R4
   \   00000038   0610A0E1           MOV      R1,R6
   \   0000003C   0500A0E1           MOV      R0,R5
   \   00000040   160000EF           SWI      +22
   1051            if (GetFileStats(fn,&stat,&ul)==-1) goto L1;
   \   00000044   0040E0E3           MVN      R4,#+0
   \   00000048   0D20A0E1           MOV      R2,SP
   \   0000004C   04108DE2           ADD      R1,SP,#+4
   \   00000050   2C008DE2           ADD      R0,SP,#+44
   \   00000054   840000EF           SWI      +132
   \   00000058   040050E1           CMP      R0,R4
   \   0000005C   0A00000A           BEQ      ??LoadTemplates_1
   1052            if ((fsize=stat.size)<=0) goto L1;
   \   00000060   08709DE5           LDR      R7,[SP, #+8]
   \   00000064   010057E3           CMP      R7,#+1
   \   00000068   070000BA           BLT      ??LoadTemplates_1
   1053            if ((f=fopen(fn,A_ReadOnly+A_BIN,P_READ,&ul))==-1)
   \   0000006C   0D30A0E1           MOV      R3,SP
   \   00000070   8020A0E3           MOV      R2,#+128
   \   00000074   801CA0E3           MOV      R1,#+32768
   \   00000078   2C008DE2           ADD      R0,SP,#+44
   \   0000007C   0A0000EF           SWI      +10
   \   00000080   0080A0E1           MOV      R8,R0
   \   00000084   040058E1           CMP      R8,R4
   \   00000088   1400001A           BNE      ??LoadTemplates_2
   1054            {
   1055            L1:
   1056              strcpy(fn+i,"\\0.txt");
   \                     ??LoadTemplates_1:
   \   0000008C   081086E2           ADD      R1,R6,#+8
   \   00000090   0500A0E1           MOV      R0,R5
   \   00000094   1A0000EF           SWI      +26
   1057              if (GetFileStats(fn,&stat,&ul)==-1) return 0;
   \   00000098   0D20A0E1           MOV      R2,SP
   \   0000009C   04108DE2           ADD      R1,SP,#+4
   \   000000A0   2C008DE2           ADD      R0,SP,#+44
   \   000000A4   840000EF           SWI      +132
   \   000000A8   040050E1           CMP      R0,R4
   \   000000AC   0200001A           BNE      ??LoadTemplates_3
   \                     ??LoadTemplates_4:
   \   000000B0   0000A0E3           MOV      R0,#+0
   \                     ??LoadTemplates_5:
   \   000000B4   4BDF8DE2           ADD      SP,SP,#+300      ;; stack cleaning
   \   000000B8   F087BDE8           POP      {R4-R10,PC}      ;; return
   1058              if ((fsize=stat.size)<=0) return 0;
   \                     ??LoadTemplates_3:
   \   000000BC   08709DE5           LDR      R7,[SP, #+8]
   \   000000C0   010057E3           CMP      R7,#+1
   \   000000C4   F9FFFFBA           BLT      ??LoadTemplates_4
   1059              f=fopen(fn,A_ReadOnly+A_BIN,P_READ,&ul);
   \   000000C8   0D30A0E1           MOV      R3,SP
   \   000000CC   8020A0E3           MOV      R2,#+128
   \   000000D0   801CA0E3           MOV      R1,#+32768
   \   000000D4   2C008DE2           ADD      R0,SP,#+44
   \   000000D8   0A0000EF           SWI      +10
   \   000000DC   0080A0E1           MOV      R8,R0
   1060            }
   1061            if (f==-1) return 0;
   \                     ??LoadTemplates_2:
   \   000000E0   040058E1           CMP      R8,R4
   \   000000E4   F1FFFF0A           BEQ      ??LoadTemplates_4
   1062            p=templates_chars=malloc(fsize+1);
   \   000000E8   ........           LDR      R4,??DataTable56  ;; S_ICONS
   \   000000EC   010087E2           ADD      R0,R7,#+1
   \   000000F0   140000EF           SWI      +20
   \   000000F4   380184E5           STR      R0,[R4, #+312]
   \   000000F8   0060A0E1           MOV      R6,R0
   1063            p[fread(f,p,fsize,&ul)]=0;
   \   000000FC   0050A0E3           MOV      R5,#+0
   \   00000100   0D30A0E1           MOV      R3,SP
   \   00000104   0720A0E1           MOV      R2,R7
   \   00000108   0610A0E1           MOV      R1,R6
   \   0000010C   0800A0E1           MOV      R0,R8
   \   00000110   0B0000EF           SWI      +11
   \   00000114   0650C0E7           STRB     R5,[R0, +R6]
   1064            fclose(f,&ul);
   \   00000118   0D10A0E1           MOV      R1,SP
   \   0000011C   0800A0E1           MOV      R0,R8
   \   00000120   0D0000EF           SWI      +13
   1065            i=0;
   \   00000124   0070A0E3           MOV      R7,#+0
   1066            pp=p;
   \   00000128   0680A0E1           MOV      R8,R6
   \   0000012C   020000EA           B        ??LoadTemplates_6
   1067            for(;;)
   1068            {
   1069              c=*p;
   1070              if (c<32)
   1071              {
   1072                if (pp&&(pp!=p))
   1073                {
   1074          	templates_lines=realloc(templates_lines,(i+1)*sizeof(char *));
   1075          	templates_lines[i++]=pp;
   1076                }
   1077                pp=NULL;
   1078                if (!c) break;
   1079                *p=0;
   1080              }
   1081              else
   1082              {
   1083                if (pp==NULL) pp=p;
   \                     ??LoadTemplates_7:
   \   00000130   000058E3           CMP      R8,#+0
   \   00000134   0680A001           MOVEQ    R8,R6
   1084              }
   1085              p++;
   \                     ??LoadTemplates_8:
   \   00000138   016086E2           ADD      R6,R6,#+1
   \                     ??LoadTemplates_6:
   \   0000013C   0090D6E5           LDRB     R9,[R6, #+0]
   \   00000140   200059E3           CMP      R9,#+32
   \   00000144   F9FFFFAA           BGE      ??LoadTemplates_7
   \   00000148   000058E3           CMP      R8,#+0
   \   0000014C   06005811           CMPNE    R8,R6
   \   00000150   0600000A           BEQ      ??LoadTemplates_9
   \   00000154   3C0194E5           LDR      R0,[R4, #+316]
   \   00000158   01A087E2           ADD      R10,R7,#+1
   \   0000015C   0A11A0E1           LSL      R1,R10,#+2
   \   00000160   BA0000EF           SWI      +186
   \   00000164   3C0184E5           STR      R0,[R4, #+316]
   \   00000168   078180E7           STR      R8,[R0, +R7, LSL #+2]
   \   0000016C   0A70A0E1           MOV      R7,R10
   \                     ??LoadTemplates_9:
   \   00000170   0080A0E3           MOV      R8,#+0
   \   00000174   000059E3           CMP      R9,#+0
   1086            }
   1087            return i;
   \   00000178   0700A001           MOVEQ    R0,R7
   \   0000017C   CCFFFF0A           BEQ      ??LoadTemplates_5
   \   00000180   0050C6E5           STRB     R5,[R6, #+0]
   \   00000184   EBFFFFEA           B        ??LoadTemplates_8
   \                     ??LoadTemplates_0:
   \   00000188   ........           DC32     `?<Constant "\\\\%d.txt">`
   1088          }
   1089          
   1090          
   1091          //===================================================================
   1092          
   1093          typedef struct
   1094          {
   1095            CSM_RAM csm;
   1096            int gui_id;
   1097          }MAIN_CSM;
   1098          
   1099          typedef struct
   1100          {
   1101            GUI gui;
   1102            WSHDR *ws1;
   1103            WSHDR *ws2;
   1104            int i1;
   1105          }MAIN_GUI;
   1106          
   1107          
   1108          
   1109          int RXstate=EOP; //-sizeof(RXpkt)..-1 - receive header, 0..RXpkt.data_len - receive data
   1110          

   \                                 In segment DATA_Z, align 4, align-sorted
   1111          TPKT RXbuf;
   \                     RXbuf:
   \   00000000                      DS8 16392

   \                                 In segment DATA_Z, align 4, align-sorted
   1112          TPKT TXbuf;
   \                     TXbuf:
   \   00000000                      DS8 16392
   1113          
   1114          int connect_state=0;
   1115          
   1116          int sock=-1;
   1117          
   1118          volatile unsigned long TOTALRECEIVED;
   1119          volatile unsigned long TOTALSENDED;
   1120          volatile unsigned long ALLTOTALRECEIVED;	//by BoBa 10.07
   1121          volatile unsigned long ALLTOTALSENDED;
   1122          
   1123          volatile int sendq_l=0; //Длинна очереди для send
   1124          volatile void *sendq_p=NULL; //указатель очереди
   1125          
   1126          volatile int is_gprs_online=1;
   1127          
   1128          GBSTMR reconnect_tmr;
   1129          
   1130          extern void kill_data(void *p,void (*func_p)(void *));
   1131          

   \                                 In segment CODE, align 4, keep-with-next
   1132          void ElfKiller(void)
   1133          {
   \                     ElfKiller:
   \   00000000   00402DE9           PUSH     {LR}
   1134          //  if(SLI_TYPE)
   1135          //  GBS_StopTimer(&mytmr);
   1136          //  if(Is_Double_Vibra_On)
   1137          //  GBS_StopTimer(&mytmr2);
   1138          //  GBS_StopTimer(&mytmr3);
   1139          //  GBS_StopTimer(&mytmr4);
   1140          //  DoChangeWall2();
   1141            FontPathFree();
   \   00000004   ........           _BLF     FontPathFree,??FontPathFree??rA
   1142            extern void *ELF_BEGIN;
   1143            kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
   \   00000008   158000EF           SWI      +32789
   \   0000000C   0010A0E1           MOV      R1,R0
   \   00000010   04009FE5           LDR      R0,??ElfKiller_0  ;; ELF_BEGIN
   \   00000014   0040BDE8           POP      {LR}             ;; Pop
   \   00000018   ........           _BF      kill_data,??kill_data??rA  ;; tailcall
   \                     ??ElfKiller_0:
   \   0000001C   ........           DC32     ELF_BEGIN
   1144          }
   1145          /*
   1146          void ElfKiller2(void)
   1147          {
   1148            extern void *ELF_BEGIN;
   1149            kill_data(&ELF_BEGIN,(void (*)(void *))mfree_adr());
   1150          }
   1151          */
   1152          //===============================================================================================
   1153          /*#pragma inline
   1154          void patch_rect(RECT*rc,int x,int y, int x2, int y2)
   1155          {
   1156            rc->x=x;
   1157            rc->y=y;
   1158            rc->x2=x2;
   1159            rc->y2=y2;
   1160          }
   1161          
   1162          #pragma inline
   1163          void patch_header(const HEADER_DESC* head)
   1164          {
   1165            ((HEADER_DESC*)head)->rc.x=0;
   1166            ((HEADER_DESC*)head)->rc.y=YDISP;
   1167            ((HEADER_DESC*)head)->rc.x2=ScreenW()-1;
   1168            ((HEADER_DESC*)head)->rc.y2=HeaderH()+YDISP-1;
   1169          }
   1170          #pragma inline
   1171          void patch_input(const INPUTDIA_DESC* inp)
   1172          {
   1173            ((INPUTDIA_DESC*)inp)->rc.x=0;
   1174            ((INPUTDIA_DESC*)inp)->rc.y=HeaderH()+1+YDISP;
   1175            ((INPUTDIA_DESC*)inp)->rc.x2=ScreenW()-1;
   1176            ((INPUTDIA_DESC*)inp)->rc.y2=ScreenH()-SoftkeyH()-1;
   1177          }*/
   1178          //===============================================================================================
   1179          
   1180          volatile CLIST *cltop;
   1181          
   1182          volatile unsigned int GROUP_CACHE; //Текущая группа для добавления
   1183          
   1184          volatile int contactlist_menu_id;
   1185          
   1186          GBSTMR tmr_active;
   1187          
   1188          volatile int edchat_id;
   1189          
   1190          //Применяется для добавления сообщений
   1191          //CLIST *edcontact;
   1192          //void *edgui_data;
   1193          
   1194          static int prev_clmenu_itemcount;
   1195          
   1196          char clm_hdr_text[48];
   1197          static const char def_clm_hdr_text[] = LG_CLTITLE;
   1198          static const char key_clm_hdr_text[] = LG_CLT9INP;
   1199          
   1200          static const HEADER_DESC contactlist_menuhdr = {0, 0, 0, 0, S_ICONS+ICON_HEAD, (int)clm_hdr_text, LGP_NULL};
   1201          static const int menusoftkeys[] = {0,1,2};
   1202          static const SOFTKEY_DESC menu_sk[] =
   1203          {
   1204            {0x0018, 0x0000, (int)LG_OPTIONS},
   1205            {0x0001, 0x0000, (int)LG_CLOSE},
   1206            {0x003D, 0x0000, (int)LGP_DOIT_PIC}
   1207          };
   1208          
   1209          char clmenu_sk_r[16];
   1210          static const char def_clmenu_sk_r[] = LG_CLOSE;
   1211          static const char key_clmenu_sk_r[] = LG_CLEAR;
   1212          
   1213          static const SOFTKEY_DESC clmenu_sk[]=
   1214          {
   1215            {0x0018, 0x0000, (int)LG_OPTIONS},
   1216            {0x0001, 0x0000, (int)clmenu_sk_r},
   1217            {0x003D, 0x0000, (int)LGP_DOIT_PIC}
   1218          };
   1219          
   1220          const SOFTKEYSTAB menu_skt =
   1221          {
   1222            menu_sk, 0
   1223          };
   1224          
   1225          static const SOFTKEYSTAB clmenu_skt =
   1226          {
   1227            clmenu_sk, 0
   1228          };
   1229          
   1230          void contactlist_menu_ghook(void *data, int cmd);
   1231          int contactlist_menu_onkey(void *data, GUI_MSG *msg);
   1232          void contactlist_menu_iconhndl(void *data, int curitem, void *unk);
   1233          
   1234          #ifdef USE_MLMENU
   1235          static const ML_MENU_DESC contactlist_menu=
   1236          {
   1237            8,contactlist_menu_onkey,contactlist_menu_ghook,NULL,
   1238            menusoftkeys,
   1239            &clmenu_skt,
   1240            0x11, //+0x400
   1241            contactlist_menu_iconhndl,
   1242            NULL,   //Items
   1243            NULL,   //Procs
   1244            0,   //n
   1245            1 //Добавочных строк  
   1246          };
   1247          #else
   1248          static const MENU_DESC contactlist_menu=
   1249          {
   1250            8,contactlist_menu_onkey,contactlist_menu_ghook,NULL,
   1251            menusoftkeys,
   1252            &clmenu_skt,
   1253            0x11, //+0x400
   1254            contactlist_menu_iconhndl,
   1255            NULL,   //Items
   1256            NULL,   //Procs
   1257            0   //n
   1258          };
   1259          #endif
   1260          
   1261          //GBSTMR tmr_ping;
   1262          int tenseconds_to_ping;
   1263          

   \                                 In segment CODE, align 4, keep-with-next
   1264          LOGQ *NewLOGQ(const char *s)
   1265          {
   \                     NewLOGQ:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1266            LOGQ *p=malloc(sizeof(LOGQ)+1+strlen(s));
   \   00000008   1B0000EF           SWI      +27
   \   0000000C   610080E2           ADD      R0,R0,#+97
   \   00000010   140000EF           SWI      +20
   \   00000014   0050A0E1           MOV      R5,R0
   1267            zeromem(p,sizeof(LOGQ));
   \   00000018   6010A0E3           MOV      R1,#+96
   \   0000001C   1D0100EF           SWI      +285
   1268            strcpy(p->text,s);
   \   00000020   0410A0E1           MOV      R1,R4
   \   00000024   600085E2           ADD      R0,R5,#+96
   \   00000028   1A0000EF           SWI      +26
   1269            return p;
   \   0000002C   0500A0E1           MOV      R0,R5
   \   00000030   3080BDE8           POP      {R4,R5,PC}       ;; return
   1270          }
   1271          

   \                                 In segment CODE, align 4, keep-with-next
   1272          LOGQ *LastLOGQ(LOGQ **pp)
   1273          {
   1274            LOGQ *q=*pp;
   \                     LastLOGQ:
   \   00000000   000090E5           LDR      R0,[R0, #+0]
   1275            if (q)
   \   00000004   000050E3           CMP      R0,#+0
   \   00000008   1EFF2F01           BXEQ     LR
   \   0000000C   000000EA           B        ??LastLOGQ_0
   1276            {
   1277              while(q->next) q=q->next;
   \                     ??LastLOGQ_1:
   \   00000010   0100A0E1           MOV      R0,R1
   \                     ??LastLOGQ_0:
   \   00000014   001090E5           LDR      R1,[R0, #+0]
   \   00000018   000051E3           CMP      R1,#+0
   \   0000001C   FBFFFF1A           BNE      ??LastLOGQ_1
   1278            }
   1279            return(q);
   \   00000020   1EFF2FE1           BX       LR               ;; return
   1280          }
   1281          
   1282          //Уничтожить лог

   \                                 In segment CODE, align 4, keep-with-next
   1283          void FreeLOGQ(LOGQ **pp)
   1284          {
   \                     FreeLOGQ:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0010A0E1           MOV      R1,R0
   1285            LOGQ *p=*pp;
   \   00000008   000091E5           LDR      R0,[R1, #+0]
   1286            *pp=NULL; //Сразу обрежем
   \   0000000C   0020A0E3           MOV      R2,#+0
   \   00000010   002081E5           STR      R2,[R1, #+0]
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   1080BD08           POPEQ    {R4,PC}
   1287            while(p)
   1288            {
   1289              LOGQ *np=p->next;
   \                     ??FreeLOGQ_0:
   \   0000001C   004090E5           LDR      R4,[R0, #+0]
   1290              mfree(p);
   \   00000020   150000EF           SWI      +21
   1291              p=np;
   \   00000024   0400B0E1           MOVS     R0,R4
   1292            }
   \   00000028   FBFFFF1A           BNE      ??FreeLOGQ_0
   1293          }
   \   0000002C   1080BDE8           POP      {R4,PC}          ;; return
   1294          
   1295          //Удалить элемент из лога

   \                                 In segment CODE, align 4, keep-with-next
   1296          void RemoveLOGQ(LOGQ **queue, LOGQ *p)
   1297          {
   \                     RemoveLOGQ:
   \   00000000   00402DE9           PUSH     {LR}
   1298            LOGQ *q=(LOGQ *)queue;
   \   00000004   000000EA           B        ??RemoveLOGQ_0
   1299            LOGQ *qp;
   1300            while(qp=q->next)
   1301            {
   1302              if (qp==p)
   1303              {
   1304                q->next=p->next;
   1305                break;
   1306              }
   1307              q=qp;
   \                     ??RemoveLOGQ_1:
   \   00000008   0200A0E1           MOV      R0,R2
   \                     ??RemoveLOGQ_0:
   \   0000000C   002090E5           LDR      R2,[R0, #+0]
   \   00000010   000052E3           CMP      R2,#+0
   \   00000014   0300000A           BEQ      ??RemoveLOGQ_2
   \   00000018   010052E1           CMP      R2,R1
   \   0000001C   F9FFFF1A           BNE      ??RemoveLOGQ_1
   \   00000020   002091E5           LDR      R2,[R1, #+0]
   \   00000024   002080E5           STR      R2,[R0, #+0]
   1308            }
   1309            mfree(p); //Если элемент вообще не в логе
   \                     ??RemoveLOGQ_2:
   \   00000028   0100A0E1           MOV      R0,R1
   \   0000002C   150000EF           SWI      +21
   1310          }
   \   00000030   0080BDE8           POP      {PC}             ;; return
   1311          
   1312          //Добавить элемент в лог

   \                                 In segment CODE, align 4, keep-with-next
   1313          int AddLOGQ(LOGQ **queue, LOGQ *p)
   1314          {
   1315            LOGQ *q=(LOGQ *)queue;
   1316            LOGQ *qp;
   1317            int i=0;
   \                     AddLOGQ:
   \   00000000   0020A0E3           MOV      R2,#+0
   \   00000004   000000EA           B        ??AddLOGQ_0
   1318            while(qp=q->next) {q=qp;i++;}
   \                     ??AddLOGQ_1:
   \   00000008   0300A0E1           MOV      R0,R3
   \                     ??AddLOGQ_0:
   \   0000000C   003090E5           LDR      R3,[R0, #+0]
   \   00000010   012082E2           ADD      R2,R2,#+1
   \   00000014   000053E3           CMP      R3,#+0
   \   00000018   FAFFFF1A           BNE      ??AddLOGQ_1
   1319            p->next=NULL;
   \   0000001C   003081E5           STR      R3,[R1, #+0]
   1320            q->next=p;
   \   00000020   001080E5           STR      R1,[R0, #+0]
   1321            return(i+1); //Теперь всего в логе элементов
   \   00000024   0200A0E1           MOV      R0,R2
   \   00000028   1EFF2FE1           BX       LR               ;; return
   1322          }
   1323          

   \                                 In segment CODE, align 4, keep-with-next
   1324          char *GetLastXTextLOGQ(CLIST *t)
   1325          {
   1326            LOGQ *p = t->log;
   \                     GetLastXTextLOGQ:
   \   00000000   741090E5           LDR      R1,[R0, #+116]
   1327            char *s = 0;
   \   00000004   0000A0E3           MOV      R0,#+0
   1328            if(!p) return 0;
   \   00000008   000051E3           CMP      R1,#+0
   \   0000000C   0500001A           BNE      ??GetLastXTextLOGQ_0
   \   00000010   1EFF2FE1           BX       LR
   1329            while(p->next)
   1330            {
   1331              if((p->type&0x0F)==3)
   \                     ??GetLastXTextLOGQ_1:
   \   00000014   0C3091E5           LDR      R3,[R1, #+12]
   \   00000018   0F3003E2           AND      R3,R3,#0xF
   \   0000001C   030053E3           CMP      R3,#+3
   1332                s = p->text;
   \   00000020   60008102           ADDEQ    R0,R1,#+96
   1333              p = p->next;
   \   00000024   0210A0E1           MOV      R1,R2
   1334            }
   \                     ??GetLastXTextLOGQ_0:
   \   00000028   002091E5           LDR      R2,[R1, #+0]
   \   0000002C   000052E3           CMP      R2,#+0
   \   00000030   F7FFFF1A           BNE      ??GetLastXTextLOGQ_1
   1335            if((p->type&0x0F)==3)
   \   00000034   0C2091E5           LDR      R2,[R1, #+12]
   \   00000038   0F2002E2           AND      R2,R2,#0xF
   \   0000003C   030052E3           CMP      R2,#+3
   1336              s = p->text;
   \   00000040   60008102           ADDEQ    R0,R1,#+96
   1337            return s;
   \   00000044   1EFF2FE1           BX       LR               ;; return
   1338          }
   1339          

   \                                 In segment CODE, align 4, keep-with-next
   1340          int GetIconIndex(CLIST *t)
   1341          {
   1342            unsigned short s;
   1343            if (t)
   \                     GetIconIndex:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   3400000A           BEQ      ??GetIconIndex_0
   1344            {
   1345              s=t->state;
   1346              if (t->isgroup) return(IS_GROUP);
   \   00000008   082090E5           LDR      R2,[R0, #+8]
   \   0000000C   B415D0E1           LDRH     R1,[R0, #+84]
   \   00000010   000052E3           CMP      R2,#+0
   \   00000014   0F00A013           MOVNE    R0,#+15
   \   00000018   1EFF2F11           BXNE     LR
   1347              if (t->isunread)
   \   0000001C   640090E5           LDR      R0,[R0, #+100]
   \   00000020   000050E3           CMP      R0,#+0
   1348                return(IS_MSG);
   \   00000024   0D00A013           MOVNE    R0,#+13
   \   00000028   1EFF2F11           BXNE     LR
   1349              else
   1350              {
   1351                if (s==0xFFFF) return(IS_OFFLINE);
   \   0000002C   FF20A0E3           MOV      R2,#+255
   \   00000030   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000034   020051E1           CMP      R1,R2
   \   00000038   1EFF2F01           BXEQ     LR
   1352                if ((s&0xF000)==0x2000) return (IS_LUNCH);
   \   0000003C   F02C01E2           AND      R2,R1,#0xF000
   \   00000040   800D52E3           CMP      R2,#+8192
   \   00000044   0900A003           MOVEQ    R0,#+9
   \   00000048   1EFF2F01           BXEQ     LR
   1353                if ((s&0xF000)==0x3000) return (IS_EVIL);
   \   0000004C   C00D52E3           CMP      R2,#+12288
   \   00000050   0700A003           MOVEQ    R0,#+7
   \   00000054   1EFF2F01           BXEQ     LR
   1354                if ((s&0xF000)==0x4000) return (IS_DEPRESSION);
   \   00000058   400C52E3           CMP      R2,#+16384
   \   0000005C   0600A003           MOVEQ    R0,#+6
   \   00000060   1EFF2F01           BXEQ     LR
   1355                if ((s&0xF000)==0x5000) return (IS_HOME);
   \   00000064   500C52E3           CMP      R2,#+20480
   \   00000068   0800A003           MOVEQ    R0,#+8
   \   0000006C   1EFF2F01           BXEQ     LR
   1356                if ((s&0xF000)==0x6000) return (IS_WORK);
   \   00000070   F00C01E2           AND      R0,R1,#0xF000
   \   00000074   600C50E3           CMP      R0,#+24576
   \   00000078   0A00A003           MOVEQ    R0,#+10
   \   0000007C   1EFF2F01           BXEQ     LR
   1357                if (s & 0x0020) return(IS_FFC);
   \   00000080   200011E3           TST      R1,#0x20
   \   00000084   0100000A           BEQ      ??GetIconIndex_1
   \                     ??GetIconIndex_2:
   \   00000088   0C00A0E3           MOV      R0,#+12
   \   0000008C   1EFF2FE1           BX       LR
   1358                if (s & 0x0001) return(IS_AWAY);
   \                     ??GetIconIndex_1:
   \   00000090   010011E3           TST      R1,#0x1
   \   00000094   0200A013           MOVNE    R0,#+2
   \   00000098   1EFF2F11           BXNE     LR
   1359                if (s & 0x0005) return(IS_NA);
   \   0000009C   050011E3           TST      R1,#0x5
   \   000000A0   0300A013           MOVNE    R0,#+3
   \   000000A4   1EFF2F11           BXNE     LR
   1360                if (s & 0x0011) return(IS_OCCUPIED);
   \   000000A8   110011E3           TST      R1,#0x11
   \   000000AC   0400A013           MOVNE    R0,#+4
   \   000000B0   1EFF2F11           BXNE     LR
   1361                if (s & 0x0013) return(IS_DND);
   \   000000B4   130011E3           TST      R1,#0x13
   \   000000B8   0500A013           MOVNE    R0,#+5
   \   000000BC   1EFF2F11           BXNE     LR
   1362                if (s & 0x0002) return(IS_FFC);
   \   000000C0   020011E3           TST      R1,#0x2
   \   000000C4   EFFFFF1A           BNE      ??GetIconIndex_2
   1363                if (s & 0x0100) return(IS_INVISIBLE);
   \   000000C8   400F11E3           TST      R1,#0x100
   \   000000CC   0100A013           MOVNE    R0,#+1
   \   000000D0   1EFF2F11           BXNE     LR
   1364              }
   1365            }
   1366            else
   1367            {
   1368              return(IS_UNKNOWN);
   1369            }
   1370            return(IS_ONLINE);
   \   000000D4   0B00A0E3           MOV      R0,#+11
   \   000000D8   1EFF2FE1           BX       LR
   \                     ??GetIconIndex_0:
   \   000000DC   0E00A0E3           MOV      R0,#+14
   \   000000E0   1EFF2FE1           BX       LR               ;; return
   1371          }
   1372          

   \                                 In segment CODE, align 4, keep-with-next
   1373          LOGQ *FindContactLOGQByAck(TPKT *p)
   1374          {
   \                     FindContactLOGQByAck:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1375            CLIST *t;
   1376            LockSched();
   \   00000008   460100EF           SWI      +326
   1377            t=FindContactByUin(p->pkt.uin);
   \   0000000C   000094E5           LDR      R0,[R4, #+0]
   \   00000010   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   00000014   0050A0E1           MOV      R5,R0
   1378            UnlockSched();
   \   00000018   470100EF           SWI      +327
   1379            unsigned int id=*((unsigned short*)(p->data));
   \   0000001C   B840D4E1           LDRH     R4,[R4, #+8]
   1380            LOGQ *q;
   1381            if (!t) return NULL;
   \   00000020   000055E3           CMP      R5,#+0
   \   00000024   0000A003           MOVEQ    R0,#+0
   \   00000028   3080BD08           POPEQ    {R4,R5,PC}
   1382            LockSched();
   \   0000002C   460100EF           SWI      +326
   1383            q=t->log;
   \   00000030   745095E5           LDR      R5,[R5, #+116]
   \   00000034   000000EA           B        ??FindContactLOGQByAck_0
   1384            while(q)
   1385            {
   1386              if (q->ID==id) break;
   1387              q=q->next;
   \                     ??FindContactLOGQByAck_1:
   \   00000038   005095E5           LDR      R5,[R5, #+0]
   \                     ??FindContactLOGQByAck_0:
   \   0000003C   000055E3           CMP      R5,#+0
   \   00000040   08009515           LDRNE    R0,[R5, #+8]
   \   00000044   04005011           CMPNE    R0,R4
   \   00000048   FAFFFF1A           BNE      ??FindContactLOGQByAck_1
   1388            }
   1389            UnlockSched();
   \   0000004C   470100EF           SWI      +327
   1390            return q;
   \   00000050   0500A0E1           MOV      R0,R5
   \   00000054   3080BDE8           POP      {R4,R5,PC}       ;; return
   1391          }
   1392          
   1393          extern const int TIME_OR_MSG;
   1394          char ContactT9Key[32];
   1395          int kopa_online;
   1396          int kopa_kontaktu;
   1397          

   \                                 In segment CODE, align 4, keep-with-next
   1398          void UpdateCLheader(void)
   1399          {
   \                     UpdateCLheader:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   1400            if (strlen(ContactT9Key))
   \   00000004   ........           LDR      R4,??DataTable56  ;; S_ICONS
   \   00000008   5C719FE5           LDR      R7,??UpdateCLheader_0+0x10  ;; key_clmenu_sk_r
   \   0000000C   08D04DE2           SUB      SP,SP,#+8
   \   00000010   5C00A0E3           MOV      R0,#+92
   \   00000014   600D80E3           ORR      R0,R0,#0x1800
   \   00000018   045080E0           ADD      R5,R0,R4
   \   0000001C   300040E2           SUB      R0,R0,#+48
   \   00000020   046080E0           ADD      R6,R0,R4
   \   00000024   BD8FA0E3           MOV      R8,#+756
   \   00000028   040088E0           ADD      R0,R8,R4
   \   0000002C   1B0000EF           SWI      +27
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   0900000A           BEQ      ??UpdateCLheader_1
   1401            {
   1402              strcpy(clm_hdr_text,key_clm_hdr_text);
   \   00000038   401087E2           ADD      R1,R7,#+64
   \   0000003C   0600A0E1           MOV      R0,R6
   \   00000040   1A0000EF           SWI      +26
   1403              strcat(clm_hdr_text,ContactT9Key);
   \   00000044   041088E0           ADD      R1,R8,R4
   \   00000048   0600A0E1           MOV      R0,R6
   \   0000004C   170000EF           SWI      +23
   1404              strcpy(clmenu_sk_r,key_clmenu_sk_r);
   \   00000050   0710A0E1           MOV      R1,R7
   \   00000054   0500A0E1           MOV      R0,R5
   \   00000058   1A0000EF           SWI      +26
   \   0000005C   F381BDE8           POP      {R0,R1,R4-R8,PC}
   1405            }
   1406            else
   1407            {
   1408              switch(TIME_OR_MSG)
   \                     ??UpdateCLheader_1:
   \   00000060   ........           LDR      R1,??DataTable50  ;; TIME_OR_MSG
   \   00000064   C03094E5           LDR      R3,[R4, #+192]
   \   00000068   001091E5           LDR      R1,[R1, #+0]
   \   0000006C   C40094E5           LDR      R0,[R4, #+196]
   \   00000070   000051E3           CMP      R1,#+0
   \   00000074   0400000A           BEQ      ??UpdateCLheader_2
   \   00000078   011051E2           SUBS     R1,R1,#+1
   \   0000007C   0E00000A           BEQ      ??UpdateCLheader_3
   \   00000080   011051E2           SUBS     R1,R1,#+1
   \   00000084   1000000A           BEQ      ??UpdateCLheader_4
   \   00000088   2F0000EA           B        ??UpdateCLheader_5
   1409              {
   1410              case 0:
   1411                {
   1412                TTime the;
   1413                GetDateTime(NULL,&the);
   \                     ??UpdateCLheader_2:
   \   0000008C   0D10A0E1           MOV      R1,SP
   \   00000090   0000A0E3           MOV      R0,#+0
   \   00000094   B40000EF           SWI      +180
   1414                sprintf(clm_hdr_text, "%s(%02d:%02d)",def_clm_hdr_text,the.hour,the.min); 
   \   00000098   0100DDE5           LDRB     R0,[SP, #+1]
   \   0000009C   342087E2           ADD      R2,R7,#+52
   \   000000A0   041087E2           ADD      R1,R7,#+4
   \   000000A4   01002DE9           PUSH     {R0}
   \   000000A8   0430DDE5           LDRB     R3,[SP, #+4]
   \                     ??UpdateCLheader_6:
   \   000000AC   0600A0E1           MOV      R0,R6
   \   000000B0   160000EF           SWI      +22
   \   000000B4   04D08DE2           ADD      SP,SP,#+4
   \   000000B8   230000EA           B        ??UpdateCLheader_5
   1415                }
   1416                break;
   1417              case 1:
   1418                sprintf(clm_hdr_text, "%s(%d/%d)",def_clm_hdr_text,total_unread,total_unread2);
   \                     ??UpdateCLheader_3:
   \   000000BC   01002DE9           PUSH     {R0}
   \   000000C0   342087E2           ADD      R2,R7,#+52
   \   000000C4   141087E2           ADD      R1,R7,#+20
   \   000000C8   F7FFFFEA           B        ??UpdateCLheader_6
   1419                break;
   1420              case 2:
   1421                sprintf(clm_hdr_text, "[%d/%d] [%d/%d] ",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   \                     ??UpdateCLheader_4:
   \   000000CC   01002DE9           PUSH     {R0}
   \   000000D0   08002DE9           PUSH     {R3}
   \   000000D4   842194E5           LDR      R2,[R4, #+388]
   \   000000D8   201087E2           ADD      R1,R7,#+32
   \   000000DC   803194E5           LDR      R3,[R4, #+384]
   \   000000E0   0600A0E1           MOV      R0,R6
   \   000000E4   160000EF           SWI      +22
   1422                if(automsg) strcat(clm_hdr_text,"[A]");
   \   000000E8   100194E5           LDR      R0,[R4, #+272]
   \   000000EC   08D08DE2           ADD      SP,SP,#+8
   \   000000F0   000050E3           CMP      R0,#+0
   \   000000F4   0200000A           BEQ      ??UpdateCLheader_7
   \   000000F8   171F8FE2           ADR      R1,??UpdateCLheader_0  ;; "[A]"
   \   000000FC   0600A0E1           MOV      R0,R6
   \   00000100   170000EF           SWI      +23
   1423                if(CurrentPrivateStatus==1) strcat(clm_hdr_text,"[I]");
   \                     ??UpdateCLheader_7:
   \   00000104   F40094E5           LDR      R0,[R4, #+244]
   \   00000108   010050E3           CMP      R0,#+1
   \   0000010C   0200001A           BNE      ??UpdateCLheader_8
   \   00000110   121F8FE2           ADR      R1,??UpdateCLheader_0+0x4  ;; "[I]"
   \   00000114   0600A0E1           MOV      R0,R6
   \   00000118   170000EF           SWI      +23
   1424                if(Is_Vibra_Enabled) strcat(clm_hdr_text,"[V]");
   \                     ??UpdateCLheader_8:
   \   0000011C   240194E5           LDR      R0,[R4, #+292]
   \   00000120   000050E3           CMP      R0,#+0
   \   00000124   0200000A           BEQ      ??UpdateCLheader_9
   \   00000128   0D1F8FE2           ADR      R1,??UpdateCLheader_0+0x8  ;; "[V]"
   \   0000012C   0600A0E1           MOV      R0,R6
   \   00000130   170000EF           SWI      +23
   1425                if(Is_Sounds_Enabled) strcat(clm_hdr_text,"[S]");
   \                     ??UpdateCLheader_9:
   \   00000134   280194E5           LDR      R0,[R4, #+296]
   \   00000138   000050E3           CMP      R0,#+0
   \   0000013C   0200000A           BEQ      ??UpdateCLheader_5
   \   00000140   081F8FE2           ADR      R1,??UpdateCLheader_0+0xC  ;; "[S]"
   \   00000144   0600A0E1           MOV      R0,R6
   \   00000148   170000EF           SWI      +23
   1426                //sprintf(clm_hdr_text, "%s(%d/%d)",def_clm_hdr_text,kopa_kontaktu,kopa_online);      
   1427              /*  if(CurrentPrivateStatus==1 && automsg && Is_Vibra_Enabled && Is_Sounds_Enabled)
   1428                  sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][I][V][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1429                else 
   1430                  if(CurrentPrivateStatus==1 && automsg && Is_Vibra_Enabled)
   1431                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][I][V]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1432                else
   1433                  if(Is_Vibra_Enabled && Is_Sounds_Enabled && automsg )
   1434                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][V][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1435                else
   1436                  if(CurrentPrivateStatus==1 && Is_Sounds_Enabled && automsg )
   1437                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][I][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1438                else 
   1439                  if(CurrentPrivateStatus==1 && Is_Sounds_Enabled && Is_Vibra_Enabled)
   1440                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [I][V][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1441                else 
   1442                  if(automsg && Is_Sounds_Enabled && Is_Vibra_Enabled)
   1443                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][V][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1444                else
   1445                  if(Is_Vibra_Enabled && Is_Sounds_Enabled)
   1446                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [V][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1447                else
   1448                  if(CurrentPrivateStatus==1 && Is_Sounds_Enabled)
   1449                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [I][S]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1450                else
   1451                  if(CurrentPrivateStatus==1 && Is_Vibra_Enabled)
   1452                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [I][V]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1453                else
   1454                  if(Is_Vibra_Enabled && automsg)
   1455                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][V]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1456                else
   1457                  if(CurrentPrivateStatus==1 && automsg)
   1458                    sprintf(clm_hdr_text, "[%d/%d] [%d/%d] [A][I]",kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1459                else
   1460                  if(automsg)
   1461                    sprintf(clm_hdr_text, "%s[%d/%d] [%d/%d] [A]",def_clm_hdr_text,kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1462                else 
   1463                  if(CurrentPrivateStatus==1)
   1464                    sprintf(clm_hdr_text, "%s[%d/%d] [%d/%d] [I]",def_clm_hdr_text,kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1465                else
   1466                  if(Is_Vibra_Enabled)
   1467                    sprintf(clm_hdr_text, "%s[%d/%d] [%d/%d] [V]",def_clm_hdr_text,kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1468                else
   1469                  if(Is_Sounds_Enabled)
   1470                    sprintf(clm_hdr_text, "%s[%d/%d] [%d/%d] [S]",def_clm_hdr_text,kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1471                else
   1472                    sprintf(clm_hdr_text, "%s[%d/%d] [%d/%d]",def_clm_hdr_text,kopa_kontaktu,kopa_online,total_unread,total_unread2);
   1473                */
   1474                break;
   1475              }
   1476              strcpy(clmenu_sk_r,def_clmenu_sk_r);
   \                     ??UpdateCLheader_5:
   \   0000014C   4C1087E2           ADD      R1,R7,#+76
   \   00000150   0500A0E1           MOV      R0,R5
   \   00000154   1A0000EF           SWI      +26
   1477            }
   1478          }
   \   00000158   F381BDE8           POP      {R0,R1,R4-R8,PC}  ;; return
   \                     ??UpdateCLheader_0:
   \   0000015C   5B415D00           DC8      "[A]"
   \   00000160   5B495D00           DC8      "[I]"
   \   00000164   5B565D00           DC8      "[V]"
   \   00000168   5B535D00           DC8      "[S]"
   \   0000016C   ........           DC32     key_clmenu_sk_r
   1479          

   \                                 In segment CODE, align 4, keep-with-next
   1480          void ClearContactT9Key(void)
   1481          {
   1482            zeromem(ContactT9Key,sizeof(ContactT9Key));
   \                     ClearContactT9Key:
   \   00000000   0C009FE5           LDR      R0,??ClearContactT9Key_0  ;; S_ICONS + 756
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   2010A0E3           MOV      R1,#+32
   \   0000000C   1D0100EF           SWI      +285
   1483          }
   \   00000010   0080BDE8           POP      {PC}             ;; return
   \                     ??ClearContactT9Key_0:
   \   00000014   ........           DC32     S_ICONS + 756
   1484          

   \                                 In segment CODE, align 4, keep-with-next
   1485          void AddContactT9Key(int chr)
   1486          {
   \                     AddContactT9Key:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   1487            int l=strlen(ContactT9Key);
   \   00000004   ........           LDR      R5,??DataTable56  ;; S_ICONS
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   BD0F85E2           ADD      R0,R5,#+756
   \   00000010   1B0000EF           SWI      +27
   1488            if (l<(sizeof(ContactT9Key)-1))
   \   00000014   1F0050E3           CMP      R0,#+31
   1489            {
   1490              ContactT9Key[l]=chr;
   \   00000018   05008030           ADDCC    R0,R0,R5
   \   0000001C   F442C035           STRBCC   R4,[R0, #+756]
   1491            }
   1492          }
   \   00000020   3080BDE8           POP      {R4,R5,PC}       ;; return
   1493          

   \                                 In segment CODE, align 4, keep-with-next
   1494          void BackSpaceContactT9(void)
   1495          {
   \                     BackSpaceContactT9:
   \   00000000   10402DE9           PUSH     {R4,LR}
   1496            int l=strlen(ContactT9Key);
   \   00000004   ........           LDR      R4,??DataTable56  ;; S_ICONS
   \   00000008   BD0F84E2           ADD      R0,R4,#+756
   \   0000000C   1B0000EF           SWI      +27
   1497            if (l)
   \   00000010   000050E3           CMP      R0,#+0
   1498            {
   1499              l--;
   1500              ContactT9Key[l]=0;
   \   00000014   04008010           ADDNE    R0,R0,R4
   \   00000018   0010A013           MOVNE    R1,#+0
   \   0000001C   F312C015           STRBNE   R1,[R0, #+755]
   1501            }
   1502          }
   \   00000020   1080BDE8           POP      {R4,PC}          ;; return
   1503          

   \                                 In segment CODE, align 4, keep-with-next
   1504          void create_contactlist_menu(void)
   1505          {
   \                     create_contactlist_menu:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1506            int i;
   1507            i=CountContacts();
   1508            prev_clmenu_itemcount=i;
   \   00000004   ........           LDR      R5,??DataTable56  ;; S_ICONS
   1509            UpdateCLheader();
   1510            patch_header(&contactlist_menuhdr);
   \   00000008   58609FE5           LDR      R6,??create_contactlist_menu_0  ;; contactlist_menuhdr
   \   0000000C   ........           _BLF     CountContacts,??CountContacts??rA
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   784185E5           STR      R4,[R5, #+376]
   \   00000018   ........           BL       UpdateCLheader
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   B000C6E1           STRH     R0,[R6, #+0]
   \   00000024   1800A0E3           MOV      R0,#+24
   \   00000028   B200C6E1           STRH     R0,[R6, #+2]
   \   0000002C   888100EF           SWI      +33160
   \   00000030   010040E2           SUB      R0,R0,#+1
   \   00000034   B400C6E1           STRH     R0,[R6, #+4]
   \   00000038   8A8100EF           SWI      +33162
   \   0000003C   170080E2           ADD      R0,R0,#+23
   \   00000040   B600C6E1           STRH     R0,[R6, #+6]
   1511          #ifdef USE_MLMENU
   1512            contactlist_menu_id=CreateMultiLinesMenu(0,0,&contactlist_menu,&contactlist_menuhdr,0,i);
   \   00000044   10002DE9           PUSH     {R4}
   \   00000048   0000A0E3           MOV      R0,#+0
   \   0000004C   01002DE9           PUSH     {R0}
   \   00000050   0630A0E1           MOV      R3,R6
   \   00000054   142086E2           ADD      R2,R6,#+20
   \   00000058   0010A0E3           MOV      R1,#+0
   \   0000005C   170200EF           SWI      +535
   \   00000060   700185E5           STR      R0,[R5, #+368]
   1513          #else
   1514            contactlist_menu_id=CreateMenu(0,0,&contactlist_menu,&contactlist_menuhdr,0,i,0,0);
   1515          #endif
   1516          }
   \   00000064   7380BDE8           POP      {R0,R1,R4-R6,PC}  ;; return
   \                     ??create_contactlist_menu_0:
   \   00000068   ........           DC32     contactlist_menuhdr
   1517          

   \                                 In segment CODE, align 4, keep-with-next
   1518          void contactlist_menu_ghook(void *data, int cmd)
   1519          {
   \                     contactlist_menu_ghook:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0140A0E1           MOV      R4,R1
   1520            PNGTOP_DESC *pltop=PNG_TOP();
   \   00000008   B98100EF           SWI      +33209
   1521            if (cmd==9)
   \   0000000C   0010A0E3           MOV      R1,#+0
   \   00000010   090054E3           CMP      R4,#+9
   1522            {
   1523              pltop->dyn_pltop=NULL;
   \   00000014   08108005           STREQ    R1,[R0, #+8]
   \   00000018   1080BD08           POPEQ    {R4,PC}
   1524            }
   1525            if (cmd==0x0A)
   \   0000001C   0A0054E3           CMP      R4,#+10
   \   00000020   1080BD18           POPNE    {R4,PC}
   1526            {
   1527              silenthide=0;
   \   00000024   14209FE5           LDR      R2,??contactlist_menu_ghook_0  ;; S_ICONS + 284
   \   00000028   001082E5           STR      R1,[R2, #+0]
   1528              pltop->dyn_pltop=XStatusesImgList;
   \   0000002C   ........           LDR      R1,??DataTable54  ;; XStatusesImgList
   \   00000030   001091E5           LDR      R1,[R1, #+0]
   \   00000034   081080E5           STR      R1,[R0, #+8]
   1529              DisableIDLETMR();
   \   00000038   7F0100EF           SWI      +383
   1530            }
   1531          }
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??contactlist_menu_ghook_0:
   \   00000040   ........           DC32     S_ICONS + 284
   1532          

   \                                 In segment CODE, align 4, keep-with-next
   1533          void RecountMenu(CLIST *req)
   1534          {
   \                     RecountMenu:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   1535            int i;
   1536            int j;
   1537            void *data;
   1538            UpdateCLheader();
   1539            if (!contactlist_menu_id) return; //Нечего считать
   \   00000004   ........           LDR      R5,??DataTable56  ;; S_ICONS
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   ........           BL       UpdateCLheader
   \   00000010   700195E5           LDR      R0,[R5, #+368]
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   7080BD08           POPEQ    {R4-R6,PC}
   1540            data=FindGUIbyId(contactlist_menu_id,NULL);
   \   0000001C   700195E5           LDR      R0,[R5, #+368]
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   090200EF           SWI      +521
   \   00000028   0060A0E1           MOV      R6,R0
   1541            if (req==NULL)
   \   0000002C   000054E3           CMP      R4,#+0
   \   00000030   0200000A           BEQ      ??RecountMenu_0
   1542            {
   1543              j=0;
   1544            }
   1545            else
   1546            {
   1547              j=FindContactByContact(req);
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   ........           _BLF     FindContactByContact,??FindContactByContact??rA
   \   0000003C   0040A0E1           MOV      R4,R0
   1548            }
   1549            i=CountContacts();
   \                     ??RecountMenu_0:
   \   00000040   ........           _BLF     CountContacts,??CountContacts??rA
   1550            if (j>=i) j=i-1;
   1551            if (j<0) j=0;
   1552            if (i!=prev_clmenu_itemcount)
   \   00000044   781195E5           LDR      R1,[R5, #+376]
   \   00000048   000054E1           CMP      R4,R0
   \   0000004C   014040A2           SUBGE    R4,R0,#+1
   \   00000050   000054E3           CMP      R4,#+0
   \   00000054   0040A043           MOVMI    R4,#+0
   \   00000058   010050E1           CMP      R0,R1
   \   0000005C   0300000A           BEQ      ??RecountMenu_1
   1553            {
   1554              prev_clmenu_itemcount=i;
   \   00000060   780185E5           STR      R0,[R5, #+376]
   1555              Menu_SetItemCountDyn(data,i);
   \   00000064   0010A0E1           MOV      R1,R0
   \   00000068   0600A0E1           MOV      R0,R6
   \   0000006C   E60100EF           SWI      +486
   1556            }
   1557            SetCursorToMenuItem(data,j);
   \                     ??RecountMenu_1:
   \   00000070   0410A0E1           MOV      R1,R4
   \   00000074   0600A0E1           MOV      R0,R6
   \   00000078   C40100EF           SWI      +452
   1558            if (IsGuiOnTop(contactlist_menu_id)) RefreshGUI();
   \   0000007C   700195E5           LDR      R0,[R5, #+368]
   \   00000080   350100EF           SWI      +309
   \   00000084   000050E3           CMP      R0,#+0
   \   00000088   7080BD08           POPEQ    {R4-R6,PC}
   \   0000008C   960100EF           SWI      +406
   \   00000090   7080BDE8           POP      {R4-R6,PC}       ;; return
   1559          }
   1560          
   1561          char hostbuf2[128];
   1562          int main_d;
   1563          extern void SetPrivateStatus(int status);
   1564          

   \                                 In segment CODE, align 4, keep-with-next
   1565          int contactlist_menu_onkey(void *data, GUI_MSG *msg)
   1566          {
   \                     contactlist_menu_onkey:
   \   00000000   F24F2DE9           PUSH     {R1,R4-R11,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   1567            CLIST *t;
   1568            int i;
   1569            i=GetCurMenuItem(data);
   \   00000008   8F0100EF           SWI      +399
   1570            t=FindContactByN(i);
   \   0000000C   ........           _BLF     FindContactByN,??FindContactByN??rA
   \   00000010   00A0A0E1           MOV      R10,R0
   1571            if (msg->keys==0x18)
   \   00000014   04009DE5           LDR      R0,[SP, #+4]
   \   00000018   F200D0E1           LDRSH    R0,[R0, #+2]
   \   0000001C   180050E3           CMP      R0,#+24
   \   00000020   0100001A           BNE      ??contactlist_menu_onkey_1
   1572            {
   1573              ShowMainMenu();
   \   00000024   ........           _BLF     ShowMainMenu,??ShowMainMenu??rA
   1574              return(-1);
   \   00000028   250000EA           B        ??contactlist_menu_onkey_2
   1575            }
   1576            if (msg->keys==0x3D)
   \                     ??contactlist_menu_onkey_1:
   \   0000002C   ........           LDR      R6,??DataTable56  ;; S_ICONS
   \   00000030   BD5FA0E3           MOV      R5,#+756
   \   00000034   3D0050E3           CMP      R0,#+61
   \   00000038   2300001A           BNE      ??contactlist_menu_onkey_3
   1577            {
   1578              if (t)
   \   0000003C   00005AE3           CMP      R10,#+0
   \   00000040   2A00000A           BEQ      ??contactlist_menu_onkey_4
   1579              {
   1580                if (t->isgroup)
   \   00000044   08009AE5           LDR      R0,[R10, #+8]
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   0600000A           BEQ      ??contactlist_menu_onkey_5
   1581                {
   1582          	t->state^=0xFFFF;
   \   00000050   B405DAE1           LDRH     R0,[R10, #+84]
   \   00000054   FF10A0E3           MOV      R1,#+255
   \   00000058   FF1C81E3           ORR      R1,R1,#0xFF00
   \   0000005C   000021E0           EOR      R0,R1,R0
   \   00000060   B405CAE1           STRH     R0,[R10, #+84]
   1583          	RecountMenu(t);
   \   00000064   0A00A0E1           MOV      R0,R10
   \   00000068   1F0000EA           B        ??contactlist_menu_onkey_6
   1584          	return(-1);
   1585                }
   1586                if (strlen(ContactT9Key))
   \                     ??contactlist_menu_onkey_5:
   \   0000006C   060085E0           ADD      R0,R5,R6
   \   00000070   1B0000EF           SWI      +27
   \   00000074   000050E3           CMP      R0,#+0
   \   00000078   0400000A           BEQ      ??contactlist_menu_onkey_7
   1587                {
   1588          	ClearContactT9Key();
   \   0000007C   2010A0E3           MOV      R1,#+32
   \   00000080   060085E0           ADD      R0,R5,R6
   \   00000084   1D0100EF           SWI      +285
   1589          	RecountMenu(NULL);
   \   00000088   0000A0E3           MOV      R0,#+0
   \   0000008C   ........           BL       RecountMenu
   1590                }
   1591                if(!t->isactive && HISTORY_BUFFER) GetHistory(t, 64<<HISTORY_BUFFER);
   \                     ??contactlist_menu_onkey_7:
   \   00000090   80009AE5           LDR      R0,[R10, #+128]
   \   00000094   000050E3           CMP      R0,#+0
   \   00000098   0700001A           BNE      ??contactlist_menu_onkey_8
   \   0000009C   ........           LDR      R0,??DataTable57  ;; HISTORY_BUFFER
   \   000000A0   000090E5           LDR      R0,[R0, #+0]
   \   000000A4   000050E3           CMP      R0,#+0
   \   000000A8   0300000A           BEQ      ??contactlist_menu_onkey_8
   \   000000AC   4010A0E3           MOV      R1,#+64
   \   000000B0   1110A0E1           LSL      R1,R1,R0
   \   000000B4   0A00A0E1           MOV      R0,R10
   \   000000B8   ........           _BLF     GetHistory,??GetHistory??rA
   1592                CreateEditChat(t);
   \                     ??contactlist_menu_onkey_8:
   \   000000BC   0A00A0E1           MOV      R0,R10
   \   000000C0   ........           BL       CreateEditChat
   1593              }
   1594              return(-1);
   \                     ??contactlist_menu_onkey_2:
   \   000000C4   0000E0E3           MVN      R0,#+0
   \   000000C8   F68FBDE8           POP      {R1,R2,R4-R11,PC}
   1595            }
   1596            if (msg->keys==1)
   \                     ??contactlist_menu_onkey_3:
   \   000000CC   010050E3           CMP      R0,#+1
   \   000000D0   0800001A           BNE      ??contactlist_menu_onkey_9
   1597            {
   1598              if (strlen(ContactT9Key))
   \   000000D4   060085E0           ADD      R0,R5,R6
   \   000000D8   1B0000EF           SWI      +27
   \   000000DC   000050E3           CMP      R0,#+0
   \   000000E0   0400000A           BEQ      ??contactlist_menu_onkey_9
   1599              {
   1600                BackSpaceContactT9();
   \   000000E4   ........           BL       BackSpaceContactT9
   1601                RecountMenu(NULL);
   \   000000E8   0000A0E3           MOV      R0,#+0
   \                     ??contactlist_menu_onkey_6:
   \   000000EC   ........           BL       RecountMenu
   1602                return(-1);
   \                     ??contactlist_menu_onkey_4:
   \   000000F0   0000E0E3           MVN      R0,#+0
   \   000000F4   F68FBDE8           POP      {R1,R2,R4-R11,PC}
   1603              }
   1604            }
   1605            if (msg->gbsmsg->msg==KEY_DOWN)
   \                     ??contactlist_menu_onkey_9:
   \   000000F8   04009DE5           LDR      R0,[SP, #+4]
   \   000000FC   ........           LDR      R7,??DataTable61  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   00000100   040090E5           LDR      R0,[R0, #+4]
   \   00000104   0090A0E3           MOV      R9,#+0
   \   00000108   041090E5           LDR      R1,[R0, #+4]
   \   0000010C   0140A0E3           MOV      R4,#+1
   \   00000110   9320A0E3           MOV      R2,#+147
   \   00000114   402F82E3           ORR      R2,R2,#0x100
   \   00000118   020051E1           CMP      R1,R2
   \   0000011C   8B00001A           BNE      ??contactlist_menu_onkey_10
   1606            {
   1607              int key=msg->gbsmsg->submess;
   \   00000120   088090E5           LDR      R8,[R0, #+8]
   1608              if ((key>='0')&&(key<='9'))
   \   00000124   300058E3           CMP      R8,#+48
   \   00000128   040000BA           BLT      ??contactlist_menu_onkey_11
   \   0000012C   3A0058E3           CMP      R8,#+58
   \   00000130   180000AA           BGE      ??contactlist_menu_onkey_12
   1609              {
   1610                AddContactT9Key(key);
   \   00000134   0800A0E1           MOV      R0,R8
   \   00000138   ........           BL       AddContactT9Key
   1611                RecountMenu(NULL);
   \   0000013C   4C0000EA           B        ??contactlist_menu_onkey_13
   1612                return(-1);
   1613              }
   1614          #ifdef ELKA
   1615              if (key==VOL_UP_BUTTON)
   \                     ??contactlist_menu_onkey_11:
   \   00000140   0D0058E3           CMP      R8,#+13
   \   00000144   1300001A           BNE      ??contactlist_menu_onkey_12
   1616              {
   1617                char *small_info=malloc(256);
   \   00000148   400FA0E3           MOV      R0,#+256
   \   0000014C   140000EF           SWI      +20
   \   00000150   00B0A0E1           MOV      R11,R0
   1618                sprintf(small_info, "Online time:\n"
   1619                                    "%02d:%02d:%02d\n"
   1620                                    "Server:\n"
   1621                                    "%s"
   1622                          , xstatus_old, minimum_xstatus, maximum, hostbuf2);
   \   00000154   6C00A0E3           MOV      R0,#+108
   \   00000158   600D80E3           ORR      R0,R0,#0x1800
   \   0000015C   060080E0           ADD      R0,R0,R6
   \   00000160   01002DE9           PUSH     {R0}
   \   00000164   080196E5           LDR      R0,[R6, #+264]
   \   00000168   241087E2           ADD      R1,R7,#+36
   \   0000016C   01002DE9           PUSH     {R0}
   \   00000170   043196E5           LDR      R3,[R6, #+260]
   \   00000174   002196E5           LDR      R2,[R6, #+256]
   \   00000178   0B00A0E1           MOV      R0,R11
   \   0000017C   160000EF           SWI      +22
   1623                ShowMSG(1,(int)small_info);
   \   00000180   0B10A0E1           MOV      R1,R11
   \   00000184   0100A0E3           MOV      R0,#+1
   \   00000188   480100EF           SWI      +328
   1624                mfree(small_info);
   \   0000018C   0B00A0E1           MOV      R0,R11
   \   00000190   150000EF           SWI      +21
   \   00000194   08D08DE2           ADD      SP,SP,#+8
   1625              }
   1626              if(msg->gbsmsg->submess==VOL_DOWN_BUTTON)
   \                     ??contactlist_menu_onkey_12:
   \   00000198   04009DE5           LDR      R0,[SP, #+4]
   \   0000019C   040090E5           LDR      R0,[R0, #+4]
   \   000001A0   080090E5           LDR      R0,[R0, #+8]
   \   000001A4   0E0050E3           CMP      R0,#+14
   \   000001A8   1300001A           BNE      ??contactlist_menu_onkey_14
   1627              {
   1628                if(!automsg)
   \   000001AC   100196E5           LDR      R0,[R6, #+272]
   \   000001B0   000050E3           CMP      R0,#+0
   \   000001B4   0B00001A           BNE      ??contactlist_menu_onkey_15
   1629                {
   1630                  automsg=!automsg;
   \   000001B8   104186E5           STR      R4,[R6, #+272]
   1631                  GBS_StopTimer(&away_tmr);
   \   000001BC   1C00A0E3           MOV      R0,#+28
   \   000001C0   580D80E3           ORR      R0,R0,#0x1600
   \   000001C4   060080E0           ADD      R0,R0,R6
   \   000001C8   440100EF           SWI      +324
   1632                  msg_away_timer=AUTO_ENGADE;
   \   000001CC   ........           LDR      R0,??DataTable59  ;; AUTO_ENGADE
   \   000001D0   000090E5           LDR      R0,[R0, #+0]
   \   000001D4   E00086E5           STR      R0,[R6, #+224]
   1633                  away_timer();
   \   000001D8   ........           BL       away_timer
   1634                  main_d=1;
   \   000001DC   884186E5           STR      R4,[R6, #+392]
   1635          //        ShowMSG(1,(int)"Автоответчик включен!");
   1636                  InputAwayMsg();
   \   000001E0   ........           BL       InputAwayMsg
   \   000001E4   020000EA           B        ??contactlist_menu_onkey_16
   1637                }
   1638                else
   1639                {
   1640                  msg_away_timer=0;
   \                     ??contactlist_menu_onkey_15:
   \   000001E8   E09086E5           STR      R9,[R6, #+224]
   1641                  away_m=0;
   \   000001EC   E89086E5           STR      R9,[R6, #+232]
   1642                  automsg=!automsg;
   \   000001F0   109186E5           STR      R9,[R6, #+272]
   1643          //        ShowMSG(1,(int)"Автоответчик выключен!");
   1644                }
   1645                UpdateCLheader();
   \                     ??contactlist_menu_onkey_16:
   \   000001F4   ........           BL       UpdateCLheader
   1646                RefreshGUI();
   \   000001F8   960100EF           SWI      +406
   1647              }
   1648          #endif
   1649              if (key==GREEN_BUTTON)
   \                     ??contactlist_menu_onkey_14:
   \   000001FC   0B0058E3           CMP      R8,#+11
   \   00000200   0700001A           BNE      ??contactlist_menu_onkey_17
   1650              {
   1651                IsActiveUp=!IsActiveUp;
   \   00000204   D40096E5           LDR      R0,[R6, #+212]
   \   00000208   000050E3           CMP      R0,#+0
   \   0000020C   0040A013           MOVNE    R4,#+0
   \   00000210   D44086E5           STR      R4,[R6, #+212]
   1652                RecountMenu(NULL);
   \   00000214   0000A0E3           MOV      R0,#+0
   \   00000218   ........           BL       RecountMenu
   1653                return(-1);
   \   0000021C   0900E0E1           MVN      R0,R9
   \   00000220   F68FBDE8           POP      {R1,R2,R4-R11,PC}
   1654              }
   1655              if (key==LEFT_BUTTON)
   \                     ??contactlist_menu_onkey_17:
   \   00000224   3D0058E3           CMP      R8,#+61
   \   00000228   1800000A           BEQ      ??contactlist_menu_onkey_18
   1656              {
   1657                while(t=(CLIST *)(t->next))
   1658                 {
   1659                   if (t->isunread) goto doit;
   1660                 }
   1661                t=(CLIST *)(&cltop);
   1662                while(t=(CLIST *)(t->next))
   1663                {
   1664                  if (t->isunread) goto doit;
   1665                }
   1666              doit:
   1667                {
   1668                CLIST *g=FindGroupByID(t->group);
   1669                if (g)
   1670                {
   1671          	if (g->state)
   1672          	{
   1673          	  g->state=0;
   1674          	}
   1675                }
   1676                }
   1677                RecountMenu(t);
   1678                return(-1);
   1679              }
   1680              if (key=='*')
   \   0000022C   2A0058E3           CMP      R8,#+42
   \   00000230   2C00000A           BEQ      ??contactlist_menu_onkey_19
   1681              {
   1682                while(t=(CLIST *)(t->next))
   1683                 {
   1684                   if (t->just_now) goto doit3;
   1685                 }
   1686                t=(CLIST *)(&cltop);
   1687                while(t=(CLIST *)(t->next))
   1688                {
   1689                  if (t->just_now) goto doit3;
   1690                }
   1691                return(-1);
   1692              doit3:
   1693                {
   1694                CLIST *g=FindGroupByID(t->group);
   1695                if (g)
   1696                {
   1697          	if (g->state)
   1698          	{
   1699          	  g->state=0;
   1700          	}
   1701                }
   1702                }
   1703                RecountMenu(t);
   1704                return(-1);
   1705              }
   1706              if (key=='#')
   \   00000234   230058E3           CMP      R8,#+35
   \   00000238   3500001A           BNE      ??contactlist_menu_onkey_20
   1707              {/*
   1708                while(t=(CLIST *)(t->next))
   1709                 {
   1710                   if (t->isactive) goto doit4;
   1711                 }
   1712                t=(CLIST *)(&cltop);
   1713                while(t=(CLIST *)(t->next))
   1714                {
   1715                  if (t->isactive) goto doit4;
   1716                }
   1717                return(-1);
   1718              doit4:
   1719                {
   1720                CLIST *g=FindGroupByID(t->group);
   1721                if (g)
   1722                {
   1723          	if (g->state)
   1724          	{
   1725          	  g->state=0;
   1726          	}
   1727                }
   1728                }
   1729                RecountMenu(t);
   1730                return(-1);*/
   1731                if(t->log)
   \                     ??contactlist_menu_onkey_21:
   \   0000023C   74009AE5           LDR      R0,[R10, #+116]
   \   00000240   000050E3           CMP      R0,#+0
   \   00000244   0200000A           BEQ      ??contactlist_menu_onkey_22
   1732                {
   1733                  FreeLOGQ(&t->log);
   \   00000248   74008AE2           ADD      R0,R10,#+116
   \   0000024C   ........           BL       FreeLOGQ
   1734                  t->msg_count=0;
   \   00000250   84908AE5           STR      R9,[R10, #+132]
   1735                }
   1736                if(strlen(ContactT9Key))
   \                     ??contactlist_menu_onkey_22:
   \   00000254   060085E0           ADD      R0,R5,R6
   \   00000258   1B0000EF           SWI      +27
   \   0000025C   000050E3           CMP      R0,#+0
   \   00000260   0200000A           BEQ      ??contactlist_menu_onkey_23
   1737                  ClearContactT9Key();
   \   00000264   2010A0E3           MOV      R1,#+32
   \   00000268   060085E0           ADD      R0,R5,R6
   \   0000026C   1D0100EF           SWI      +285
   1738                  t->isactive=0;
   \                     ??contactlist_menu_onkey_23:
   \   00000270   80908AE5           STR      R9,[R10, #+128]
   1739                  RecountMenu(NULL);
   \                     ??contactlist_menu_onkey_13:
   \   00000274   0000A0E3           MOV      R0,#+0
   \   00000278   ........           BL       RecountMenu
   1740                  return (-1);
   \   0000027C   000064E2           RSB      R0,R4,#+0
   \   00000280   F68FBDE8           POP      {R1,R2,R4-R11,PC}
   1741              }
   \                     ??contactlist_menu_onkey_24:
   \   00000284   64009AE5           LDR      R0,[R10, #+100]
   \   00000288   000050E3           CMP      R0,#+0
   \   0000028C   0900001A           BNE      ??contactlist_menu_onkey_25
   \                     ??contactlist_menu_onkey_18:
   \   00000290   00A09AE5           LDR      R10,[R10, #+0]
   \   00000294   00005AE3           CMP      R10,#+0
   \   00000298   F9FFFF1A           BNE      ??contactlist_menu_onkey_24
   \   0000029C   5AAF86E2           ADD      R10,R6,#+360
   \                     ??contactlist_menu_onkey_26:
   \   000002A0   00A09AE5           LDR      R10,[R10, #+0]
   \   000002A4   00005AE3           CMP      R10,#+0
   \   000002A8   0200000A           BEQ      ??contactlist_menu_onkey_25
   \   000002AC   64009AE5           LDR      R0,[R10, #+100]
   \   000002B0   000050E3           CMP      R0,#+0
   \   000002B4   F9FFFF0A           BEQ      ??contactlist_menu_onkey_26
   \                     ??contactlist_menu_onkey_25:
   \   000002B8   10009AE5           LDR      R0,[R10, #+16]
   \   000002BC   ........           _BLF     FindGroupByID,??FindGroupByID??rA
   \   000002C0   000050E3           CMP      R0,#+0
   \   000002C4   B415D011           LDRHNE   R1,[R0, #+84]
   \   000002C8   00005113           CMPNE    R1,#+0
   \   000002CC   B495C011           STRHNE   R9,[R0, #+84]
   \   000002D0   0A00A0E1           MOV      R0,R10
   \   000002D4   ........           BL       RecountMenu
   \   000002D8   1A0000EA           B        ??contactlist_menu_onkey_27
   \                     ??contactlist_menu_onkey_28:
   \   000002DC   5C009AE5           LDR      R0,[R10, #+92]
   \   000002E0   000050E3           CMP      R0,#+0
   \   000002E4   F3FFFF1A           BNE      ??contactlist_menu_onkey_25
   \                     ??contactlist_menu_onkey_19:
   \   000002E8   00A09AE5           LDR      R10,[R10, #+0]
   \   000002EC   00005AE3           CMP      R10,#+0
   \   000002F0   F9FFFF1A           BNE      ??contactlist_menu_onkey_28
   \   000002F4   5AAF86E2           ADD      R10,R6,#+360
   \                     ??contactlist_menu_onkey_29:
   \   000002F8   00A09AE5           LDR      R10,[R10, #+0]
   \   000002FC   00005AE3           CMP      R10,#+0
   \   00000300   7AFFFF0A           BEQ      ??contactlist_menu_onkey_4
   \   00000304   5C009AE5           LDR      R0,[R10, #+92]
   \   00000308   000050E3           CMP      R0,#+0
   \   0000030C   F9FFFF0A           BEQ      ??contactlist_menu_onkey_29
   \   00000310   E8FFFFEA           B        ??contactlist_menu_onkey_25
   1742              if (key==RIGHT_BUTTON)
   \                     ??contactlist_menu_onkey_20:
   \   00000314   3E0058E3           CMP      R8,#+62
   \   00000318   0C00001A           BNE      ??contactlist_menu_onkey_10
   1743              {
   1744                //Послать запрос текста XStatus
   1745                if (t)
   \   0000031C   00005AE3           CMP      R10,#+0
   \   00000320   0A00000A           BEQ      ??contactlist_menu_onkey_10
   1746                {
   1747          	if (!t->isgroup)
   \   00000324   08009AE5           LDR      R0,[R10, #+8]
   \   00000328   000050E3           CMP      R0,#+0
   \   0000032C   0700001A           BNE      ??contactlist_menu_onkey_10
   1748          	{
   1749          	  FreeXText(t);
   \   00000330   0A00A0E1           MOV      R0,R10
   \   00000334   ........           _BLF     FreeXText,??FreeXText??rA
   1750                    t->req_xtext=0;          
   \   00000338   8C908AE5           STR      R9,[R10, #+140]
   1751                    RequestXText(t->uin);
   \   0000033C   0C009AE5           LDR      R0,[R10, #+12]
   \   00000340   ........           BL       RequestXText
   1752          	  RefreshGUI();
   \   00000344   960100EF           SWI      +406
   1753          	  return(-1);
   \                     ??contactlist_menu_onkey_27:
   \   00000348   000064E2           RSB      R0,R4,#+0
   \   0000034C   F68FBDE8           POP      {R1,R2,R4-R11,PC}
   1754          	}
   1755                }
   1756              }
   1757            }
   1758            if (msg->gbsmsg->msg==LONG_PRESS)
   \                     ??contactlist_menu_onkey_10:
   \   00000350   04009DE5           LDR      R0,[SP, #+4]
   \   00000354   652F84E3           ORR      R2,R4,#0x194
   \   00000358   040090E5           LDR      R0,[R0, #+4]
   \   0000035C   041090E5           LDR      R1,[R0, #+4]
   \   00000360   020051E1           CMP      R1,R2
   \   00000364   5300001A           BNE      ??contactlist_menu_onkey_30
   1759            {
   1760              if (msg->gbsmsg->submess=='#')
   \   00000368   081090E5           LDR      R1,[R0, #+8]
   \   0000036C   0980A0E3           MOV      R8,#+9
   \   00000370   428C88E3           ORR      R8,R8,#0x4200
   \   00000374   B0B0A0E3           MOV      R11,#+176
   \   00000378   DEBC8BE3           ORR      R11,R11,#0xDE00
   \   0000037C   230051E3           CMP      R1,#+35
   \   00000380   1300001A           BNE      ??contactlist_menu_onkey_31
   1761              {
   1762                ClearContactT9Key();
   \   00000384   2010A0E3           MOV      R1,#+32
   \   00000388   060085E0           ADD      R0,R5,R6
   \   0000038C   1D0100EF           SWI      +285
   1763                RecountMenu(NULL);
   \   00000390   0000A0E3           MOV      R0,#+0
   \   00000394   ........           BL       RecountMenu
   1764                gipc.name_to=ipc_xtask_name;
   \   00000398   520E87E2           ADD      R0,R7,#+1312
   \   0000039C   740086E5           STR      R0,[R6, #+116]
   1765                gipc.name_from=ipc_my_name;
   \   000003A0   500E87E2           ADD      R0,R7,#+1280
   \   000003A4   780086E5           STR      R0,[R6, #+120]
   1766                gipc.data=0;
   \   000003A8   7C9086E5           STR      R9,[R6, #+124]
   1767                GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_XTASK_IDLE,&gipc);
   \   000003AC   743086E2           ADD      R3,R6,#+116
   \   000003B0   0420A0E1           MOV      R2,R4
   \   000003B4   0B10A0E1           MOV      R1,R11
   \   000003B8   0800A0E1           MOV      R0,R8
   \   000003BC   000100EF           SWI      +256
   1768                if (IsUnlocked())
   \   000003C0   430000EF           SWI      +67
   \   000003C4   000050E3           CMP      R0,#+0
   \   000003C8   48FFFF0A           BEQ      ??contactlist_menu_onkey_4
   1769                {
   1770                  KbdLock();
   \   000003CC   A90000EF           SWI      +169
   \   000003D0   3BFFFFEA           B        ??contactlist_menu_onkey_2
   1771                }
   1772                return(-1);
   1773              }      
   1774              if (msg->gbsmsg->submess=='*')
   \                     ??contactlist_menu_onkey_31:
   \   000003D4   2A0051E3           CMP      R1,#+42
   \   000003D8   0F00001A           BNE      ??contactlist_menu_onkey_32
   1775              {
   1776                ClearContactT9Key();
   \   000003DC   2010A0E3           MOV      R1,#+32
   \   000003E0   060085E0           ADD      R0,R5,R6
   \   000003E4   1D0100EF           SWI      +285
   1777                RecountMenu(NULL);
   \   000003E8   0000A0E3           MOV      R0,#+0
   \   000003EC   ........           BL       RecountMenu
   1778                silenthide=1;
   \   000003F0   1C4186E5           STR      R4,[R6, #+284]
   1779                gipc.name_to=ipc_xtask_name;
   \   000003F4   520E87E2           ADD      R0,R7,#+1312
   \   000003F8   740086E5           STR      R0,[R6, #+116]
   1780                gipc.name_from=ipc_my_name;
   \   000003FC   500E87E2           ADD      R0,R7,#+1280
   \   00000400   780086E5           STR      R0,[R6, #+120]
   1781                gipc.data=0;
   \   00000404   7C9086E5           STR      R9,[R6, #+124]
   1782                GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_XTASK_IDLE,&gipc);
   \   00000408   743086E2           ADD      R3,R6,#+116
   \   0000040C   0420A0E1           MOV      R2,R4
   \   00000410   0B10A0E1           MOV      R1,R11
   \   00000414   0800A0E1           MOV      R0,R8
   \   00000418   000100EF           SWI      +256
   1783              }
   1784              
   1785              switch(msg->gbsmsg->submess)
   \                     ??contactlist_menu_onkey_32:
   \   0000041C   04009DE5           LDR      R0,[SP, #+4]
   \   00000420   38819FE5           LDR      R8,??contactlist_menu_onkey_33  ;; WriteDefSettings
   \   00000424   040090E5           LDR      R0,[R0, #+4]
   \   00000428   080090E5           LDR      R0,[R0, #+8]
   \   0000042C   310040E2           SUB      R0,R0,#+49
   \   00000430   040050E3           CMP      R0,#+4
   \   00000434   1200008A           BHI      ??contactlist_menu_onkey_34
   \   00000438   021F8FE2           ADR      R1,??contactlist_menu_onkey_0
   \   0000043C   8000A0E1           MOV      R0,R0, LSL #+1
   \   00000440   F01091E1           LDRSH    R1,[R1, R0]
   \   00000444   01F18FE0           ADD      PC,PC,R1, LSL #+2
   \                     ??contactlist_menu_onkey_0:
   \   00000448   02001D002B00       DC16     +2,+29,+43,+55
   \              3700        
   \   00000450   7CFF0000           DC16     +65404,+0
   1786              {
   1787              case '1':
   1788                  Is_Sounds_Enabled=!(Is_Sounds_Enabled);
   \                     ??contactlist_menu_onkey_35:
   \   00000454   280196E5           LDR      R0,[R6, #+296]
   \   00000458   000050E3           CMP      R0,#+0
   \   0000045C   0040A013           MOVNE    R4,#+0
   \   00000460   284186E5           STR      R4,[R6, #+296]
   1789                  if(Is_Sounds_Enabled)
   \   00000464   000054E3           CMP      R4,#+0
   1790                    ShowMSG(1,(int)"Sound 0n");
   \   00000468   4C108712           ADDNE    R1,R7,#+76
   1791                  else
   1792                    ShowMSG(1,(int)"Sound Off");
   \   0000046C   58108702           ADDEQ    R1,R7,#+88
   \   00000470   0100A0E3           MOV      R0,#+1
   \   00000474   480100EF           SWI      +328
   1793                  SUBPROC((void*)WriteDefSettings);
   \   00000478   0800A0E1           MOV      R0,R8
   \   0000047C   710100EF           SWI      +369
   1794                  RefreshGUI();
   \   00000480   960100EF           SWI      +406
   1795                  break;
   1796              case '2':
   1797                  Is_Vibra_Enabled=!(Is_Vibra_Enabled);
   1798                  SUBPROC((void*)WriteDefSettings);
   1799                  RefreshGUI();
   1800                  if(Is_Vibra_Enabled)
   1801                    ShowMSG(1,(int)"Vibra On");
   1802                  else
   1803                    ShowMSG(1,(int)"Vibra Off");
   1804                  break;
   1805              case '3':        
   1806                   if(CurrentPrivateStatus!=1)
   1807                   {
   1808                     SetPrivateStatus(1);//Инвиз
   1809                     ShowMSG(1,(int)"Инвиз включен");
   1810                   }
   1811                   else
   1812                   {
   1813                     SetPrivateStatus(3);//не инвиз:)
   1814                     ShowMSG(1,(int)"Инвиз выключен");
   1815                   }
   1816                   break;
   1817              case '4':
   1818                  Is_Double_Vibra_On=!(Is_Double_Vibra_On);
   1819                  SUBPROC((void*)WriteDefSettings);
   1820                  RefreshGUI();
   1821                  if(Is_Double_Vibra_On)
   1822                    ShowMSG(1,(int)"Vibra rem On");
   1823                  else 
   1824                    ShowMSG(1,(int)"Vibra rem Off");
   1825                  break;
   1826              case '5':
   1827               if(t->log)
   1828                {
   1829                  FreeLOGQ(&t->log);
   1830                  t->msg_count=0;
   1831                }
   1832                if(strlen(ContactT9Key))
   1833                  ClearContactT9Key();
   1834                  t->isactive=0;
   1835                  RecountMenu(NULL);
   1836                  return (-1);
   1837          //     break;
   1838          /*    case '5':
   1839                if(DEVELOP_IF!=1) DEVELOP_IF=1;
   1840                else DEVELOP_IF=3;
   1841                if(DEVELOP_IF==1)
   1842                  ShowMSG(1,(int)"Popup always");
   1843                else
   1844                  ShowMSG(1,(int)"Popup after unlock");
   1845                break;*/
   1846                
   1847              }
   1848              int key=msg->gbsmsg->submess;
   \                     ??contactlist_menu_onkey_34:
   \   00000484   04009DE5           LDR      R0,[SP, #+4]
   \   00000488   040090E5           LDR      R0,[R0, #+4]
   \   0000048C   080090E5           LDR      R0,[R0, #+8]
   1849              if ((key>='0')&&(key<='9'))
   \   00000490   300050E3           CMP      R0,#+48
   \   00000494   070000BA           BLT      ??contactlist_menu_onkey_30
   \   00000498   3A0050E3           CMP      R0,#+58
   \   0000049C   050000AA           BGE      ??contactlist_menu_onkey_30
   1850              {
   1851                ClearContactT9Key();
   \   000004A0   2010A0E3           MOV      R1,#+32
   \   000004A4   060085E0           ADD      R0,R5,R6
   \   000004A8   1D0100EF           SWI      +285
   1852                UpdateCLheader();
   \   000004AC   ........           BL       UpdateCLheader
   1853                RecountMenu(NULL);    
   \   000004B0   0000A0E3           MOV      R0,#+0
   \   000004B4   ........           BL       RecountMenu
   1854              }
   1855            }
   1856            return(0);
   \                     ??contactlist_menu_onkey_30:
   \   000004B8   0000A0E3           MOV      R0,#+0
   \   000004BC   F68FBDE8           POP      {R1,R2,R4-R11,PC}  ;; return
   \                     ??contactlist_menu_onkey_36:
   \   000004C0   240196E5           LDR      R0,[R6, #+292]
   \   000004C4   000050E3           CMP      R0,#+0
   \   000004C8   0040A013           MOVNE    R4,#+0
   \   000004CC   244186E5           STR      R4,[R6, #+292]
   \   000004D0   0800A0E1           MOV      R0,R8
   \   000004D4   710100EF           SWI      +369
   \   000004D8   960100EF           SWI      +406
   \   000004DC   240196E5           LDR      R0,[R6, #+292]
   \   000004E0   000050E3           CMP      R0,#+0
   \   000004E4   70108702           ADDEQ    R1,R7,#+112
   \   000004E8   64108712           ADDNE    R1,R7,#+100
   \                     ??contactlist_menu_onkey_37:
   \   000004EC   0100A0E3           MOV      R0,#+1
   \                     ??contactlist_menu_onkey_38:
   \   000004F0   480100EF           SWI      +328
   \   000004F4   E2FFFFEA           B        ??contactlist_menu_onkey_34
   \                     ??contactlist_menu_onkey_39:
   \   000004F8   F40096E5           LDR      R0,[R6, #+244]
   \   000004FC   010050E3           CMP      R0,#+1
   \   00000500   0400000A           BEQ      ??contactlist_menu_onkey_40
   \   00000504   0100A0E3           MOV      R0,#+1
   \   00000508   ........           _BLF     SetPrivateStatus,??SetPrivateStatus??rA
   \   0000050C   7C1087E2           ADD      R1,R7,#+124
   \   00000510   0400A0E1           MOV      R0,R4
   \                     ??contactlist_menu_onkey_41:
   \   00000514   F5FFFFEA           B        ??contactlist_menu_onkey_38
   \                     ??contactlist_menu_onkey_40:
   \   00000518   0300A0E3           MOV      R0,#+3
   \   0000051C   ........           _BLF     SetPrivateStatus,??SetPrivateStatus??rA
   \   00000520   8C1087E2           ADD      R1,R7,#+140
   \   00000524   F0FFFFEA           B        ??contactlist_menu_onkey_37
   \                     ??contactlist_menu_onkey_42:
   \   00000528   BC0096E5           LDR      R0,[R6, #+188]
   \   0000052C   000050E3           CMP      R0,#+0
   \   00000530   0040A013           MOVNE    R4,#+0
   \   00000534   BC4086E5           STR      R4,[R6, #+188]
   \   00000538   0800A0E1           MOV      R0,R8
   \   0000053C   710100EF           SWI      +369
   \   00000540   960100EF           SWI      +406
   \   00000544   BC0096E5           LDR      R0,[R6, #+188]
   \   00000548   000050E3           CMP      R0,#+0
   \   0000054C   9C108712           ADDNE    R1,R7,#+156
   \   00000550   0100A013           MOVNE    R0,#+1
   \   00000554   E5FFFF1A           BNE      ??contactlist_menu_onkey_38
   \   00000558   AC1087E2           ADD      R1,R7,#+172
   \   0000055C   E2FFFFEA           B        ??contactlist_menu_onkey_37
   \                     ??contactlist_menu_onkey_33:
   \   00000560   ........           DC32     WriteDefSettings
   1857          }
   1858          

   \                                 In segment CODE, align 4, keep-with-next
   1859          void GetOnTotalContact(int group_id,int *_onlinetotal)
   1860          {
   1861            CLIST *t;
   1862            t=(CLIST *)&cltop;
   \                     GetOnTotalContact:
   \   00000000   ........           LDR      R2,??DataTable60  ;; S_ICONS + 360
   \   00000004   30002DE9           PUSH     {R4,R5}
   1863            int online=0,total=0;
   \   00000008   0030A0E3           MOV      R3,#+0
   \   0000000C   00C0A0E3           MOV      R12,#+0
   \   00000010   FF50A0E3           MOV      R5,#+255
   \   00000014   FF5C85E3           ORR      R5,R5,#0xFF00
   \   00000018   080000EA           B        ??GetOnTotalContact_0
   1864            while((t=t->next))
   1865            {
   1866              if(t->group==group_id && !t->isgroup)
   \                     ??GetOnTotalContact_1:
   \   0000001C   104092E5           LDR      R4,[R2, #+16]
   \   00000020   000054E1           CMP      R4,R0
   \   00000024   08409205           LDREQ    R4,[R2, #+8]
   \   00000028   00005403           CMPEQ    R4,#+0
   \   0000002C   0300001A           BNE      ??GetOnTotalContact_0
   1867              {
   1868                total++;
   1869                if (t->state!=0xFFFF) online++;
   \   00000030   B445D2E1           LDRH     R4,[R2, #+84]
   \   00000034   01C08CE2           ADD      R12,R12,#+1
   \   00000038   050054E1           CMP      R4,R5
   \   0000003C   01308312           ADDNE    R3,R3,#+1
   1870              }
   1871            }
   \                     ??GetOnTotalContact_0:
   \   00000040   002092E5           LDR      R2,[R2, #+0]
   \   00000044   000052E3           CMP      R2,#+0
   \   00000048   F3FFFF1A           BNE      ??GetOnTotalContact_1
   1872            _onlinetotal[0]=online;
   \   0000004C   003081E5           STR      R3,[R1, #+0]
   1873            _onlinetotal[1]=total;
   \   00000050   04C081E5           STR      R12,[R1, #+4]
   1874          }
   \   00000054   3000BDE8           POP      {R4,R5}
   \   00000058   1EFF2FE1           BX       LR               ;; return
   1875          
   1876          

   \                                 In segment CODE, align 4, keep-with-next
   1877          void contactlist_menu_iconhndl(void *data, int curitem, void *unk)
   1878          {
   \                     contactlist_menu_iconhndl:
   \   00000000   F24F2DE9           PUSH     {R1,R4-R11,LR}
   \   00000004   9CDF4DE2           SUB      SP,SP,#+624
   1879            CLIST *t;
   1880          #ifdef USE_MLMENU
   1881            void *item=AllocMLMenuItem(data);
   1882          #else
   1883            void *item=AllocMenuItem(data);
   1884          #endif
   1885            int icon;
   1886            
   1887            WSHDR *ws2;
   1888          #ifdef USE_MLMENU
   1889            WSHDR *ws4;
   1890          #endif
   1891            WSHDR ws1loc, *ws1;
   1892            unsigned short num[128];
   1893            ws1=CreateLocalWS(&ws1loc,num,128);
   1894          #ifdef USE_MLMENU
   1895            WSHDR ws3loc, *ws3;
   1896            unsigned short num3[128];
   1897            ws3=CreateLocalWS(&ws3loc,num3,128);
   1898            char s[64];
   1899          #endif
   1900            t=FindContactByN(curitem);
   1901            if (t)
   \   00000008   ........           LDR      R10,??DataTable61  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   190200EF           SWI      +537
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   8020A0E3           MOV      R2,#+128
   \   0000001C   08108DE2           ADD      R1,SP,#+8
   \   00000020   920F8DE2           ADD      R0,SP,#+584
   \   00000024   270100EF           SWI      +295
   \   00000028   0060A0E1           MOV      R6,R0
   \   0000002C   8020A0E3           MOV      R2,#+128
   \   00000030   421F8DE2           ADD      R1,SP,#+264
   \   00000034   970F8DE2           ADD      R0,SP,#+604
   \   00000038   270100EF           SWI      +295
   \   0000003C   0070A0E1           MOV      R7,R0
   \   00000040   70029DE5           LDR      R0,[SP, #+624]
   \   00000044   ........           _BLF     FindContactByN,??FindContactByN??rA
   \   00000048   0090B0E1           MOVS     R9,R0
   \   0000004C   6200000A           BEQ      ??contactlist_menu_iconhndl_0
   1902            {
   1903              icon=GetIconIndex(t);
   \   00000050   ........           BL       GetIconIndex
   \   00000054   0080A0E1           MOV      R8,R0
   1904              if (icon!=IS_GROUP)
   \   00000058   0F0058E3           CMP      R8,#+15
   \   0000005C   4D00000A           BEQ      ??contactlist_menu_iconhndl_1
   1905              {
   1906                if(t->just_now)
   \   00000060   5C0099E5           LDR      R0,[R9, #+92]
   \   00000064   000050E3           CMP      R0,#+0
   \   00000068   0C00000A           BEQ      ??contactlist_menu_iconhndl_2
   1907                {
   1908                  char *test=malloc(64);
   \   0000006C   4000A0E3           MOV      R0,#+64
   \   00000070   140000EF           SWI      +20
   \   00000074   00B0A0E1           MOV      R11,R0
   1909                  sprintf(test, ">> %s <<", t->name);
   \   00000078   142089E2           ADD      R2,R9,#+20
   \   0000007C   BC108AE2           ADD      R1,R10,#+188
   \   00000080   160000EF           SWI      +22
   1910                  wsprintf(ws1,percent_t,test);
   \   00000084   0B20A0E1           MOV      R2,R11
   \   00000088   18108AE2           ADD      R1,R10,#+24
   \   0000008C   0600A0E1           MOV      R0,R6
   \   00000090   240100EF           SWI      +292
   1911                  mfree(test);
   \   00000094   0B00A0E1           MOV      R0,R11
   \   00000098   150000EF           SWI      +21
   \   0000009C   030000EA           B        ??contactlist_menu_iconhndl_3
   1912                }
   1913                else
   1914                wsprintf(ws1,percent_t,t->name);
   \                     ??contactlist_menu_iconhndl_2:
   \   000000A0   142089E2           ADD      R2,R9,#+20
   \   000000A4   18108AE2           ADD      R1,R10,#+24
   \   000000A8   0600A0E1           MOV      R0,R6
   \   000000AC   240100EF           SWI      +292
   1915                if (t->just_now)
   \                     ??contactlist_menu_iconhndl_3:
   \   000000B0   5C0099E5           LDR      R0,[R9, #+92]
   \   000000B4   08B0A0E3           MOV      R11,#+8
   \   000000B8   E0BC8BE3           ORR      R11,R11,#0xE000
   \   000000BC   000050E3           CMP      R0,#+0
   1916                {
   1917                  wsInsertChar(ws1,0x0004,1);
   \   000000C0   0120A013           MOVNE    R2,#+1
   \   000000C4   0410A013           MOVNE    R1,#+4
   \   000000C8   0400001A           BNE      ??contactlist_menu_iconhndl_4
   1918                  wsInsertChar(ws1,0xE008,1);
   1919                }
   1920                else
   1921                if (t->isactive)
   \   000000CC   800099E5           LDR      R0,[R9, #+128]
   \   000000D0   000050E3           CMP      R0,#+0
   \   000000D4   0700000A           BEQ      ??contactlist_menu_iconhndl_5
   1922                {
   1923                  wsInsertChar(ws1,0x0002,1);
   \   000000D8   0120A0E3           MOV      R2,#+1
   \   000000DC   0210A0E3           MOV      R1,#+2
   \                     ??contactlist_menu_iconhndl_4:
   \   000000E0   0600A0E1           MOV      R0,R6
   \   000000E4   1D0000EF           SWI      +29
   1924                  wsInsertChar(ws1,0xE008,1);
   \   000000E8   0120A0E3           MOV      R2,#+1
   \   000000EC   0B10A0E1           MOV      R1,R11
   \   000000F0   0600A0E1           MOV      R0,R6
   \   000000F4   1D0000EF           SWI      +29
   1925                }
   1926          #ifdef USE_MLMENU
   1927                if (t->xtext && t->xtext[0]!=0)
   \                     ??contactlist_menu_iconhndl_5:
   \   000000F8   880099E5           LDR      R0,[R9, #+136]
   \   000000FC   000050E3           CMP      R0,#+0
   \   00000100   0000D015           LDRBNE   R0,[R0, #+0]
   \   00000104   00005013           CMPNE    R0,#+0
   \   00000108   0F00000A           BEQ      ??contactlist_menu_iconhndl_6
   1928                {
   1929          	int i;
   1930          	zeromem(s,64);
   \   0000010C   4010A0E3           MOV      R1,#+64
   \   00000110   820F8DE2           ADD      R0,SP,#+520
   \   00000114   1D0100EF           SWI      +285
   1931          	i=t->xtext[0];
   \   00000118   880099E5           LDR      R0,[R9, #+136]
   \   0000011C   0020D0E5           LDRB     R2,[R0, #+0]
   1932          	if (i>63) i=63;
   1933          	strncpy(s,t->xtext+1,i);
   \   00000120   011080E2           ADD      R1,R0,#+1
   \   00000124   820F8DE2           ADD      R0,SP,#+520
   \   00000128   400052E3           CMP      R2,#+64
   \   0000012C   3F20A0A3           MOVGE    R2,#+63
   \   00000130   160100EF           SWI      +278
   1934          	wsprintf(ws3,"%c%t",0xE012,s);
   \   00000134   823F8DE2           ADD      R3,SP,#+520
   \   00000138   0A208BE2           ADD      R2,R11,#+10
   \   0000013C   C8108AE2           ADD      R1,R10,#+200
   \   00000140   0700A0E1           MOV      R0,R7
   \   00000144   240100EF           SWI      +292
   \   00000148   030000EA           B        ??contactlist_menu_iconhndl_7
   1935                }
   1936                else
   1937          	wsprintf(ws3,percent_d,t->uin);
   \                     ??contactlist_menu_iconhndl_6:
   \   0000014C   0C2099E5           LDR      R2,[R9, #+12]
   \   00000150   1B108AE2           ADD      R1,R10,#+27
   \   00000154   0700A0E1           MOV      R0,R7
   \   00000158   240100EF           SWI      +292
   1938                if ((t->xstate<total_xstatuses)&&(t->xstate))
   \                     ??contactlist_menu_iconhndl_7:
   \   0000015C   B605D9E1           LDRH     R0,[R9, #+86]
   \   00000160   ........           LDR      R2,??DataTable62  ;; total_xstatuses
   \   00000164   0010A0E1           MOV      R1,R0
   \   00000168   002092E5           LDR      R2,[R2, #+0]
   \   0000016C   020051E1           CMP      R1,R2
   \   00000170   1C0000AA           BGE      ??contactlist_menu_iconhndl_8
   \   00000174   000050E3           CMP      R0,#+0
   \   00000178   1A00000A           BEQ      ??contactlist_menu_iconhndl_8
   1939                {
   1940          	wsInsertChar(ws3,FIRST_UCS2_BITMAP+t->xstate,1);
   \   0000017C   0120A0E3           MOV      R2,#+1
   \   00000180   2A00A0E3           MOV      R0,#+42
   \   00000184   E10C80E3           ORR      R0,R0,#0xE100
   \   00000188   011080E0           ADD      R1,R0,R1
   \   0000018C   0700A0E1           MOV      R0,R7
   \   00000190   1D0000EF           SWI      +29
   \   00000194   130000EA           B        ??contactlist_menu_iconhndl_8
   1941                }
   1942          #endif
   1943              }
   1944              else
   1945              {
   1946                int onlinetotal[2];
   1947                GetOnTotalContact(t->group,onlinetotal);
   \                     ??contactlist_menu_iconhndl_1:
   \   00000198   100099E5           LDR      R0,[R9, #+16]
   \   0000019C   0D10A0E1           MOV      R1,SP
   \   000001A0   ........           BL       GetOnTotalContact
   1948          #ifdef USE_MLMENU
   1949                wsprintf(ws1,percent_t,t->name);
   \   000001A4   142089E2           ADD      R2,R9,#+20
   \   000001A8   18108AE2           ADD      R1,R10,#+24
   \   000001AC   0600A0E1           MOV      R0,R6
   \   000001B0   240100EF           SWI      +292
   1950                wsprintf(ws3,"(%d/%d)",onlinetotal[0],onlinetotal[1]);
   \   000001B4   04309DE5           LDR      R3,[SP, #+4]
   \   000001B8   00209DE5           LDR      R2,[SP, #+0]
   \   000001BC   D0108AE2           ADD      R1,R10,#+208
   \   000001C0   0700A0E1           MOV      R0,R7
   \   000001C4   240100EF           SWI      +292
   1951          #else
   1952                wsprintf(ws1,"%t%c%c(%d/%d)",t->name,0xE01D,0xE012,onlinetotal[0],onlinetotal[1]);
   1953          #endif
   1954                if (t->state) icon++; //Модификация иконки группы
   \   000001C8   B405D9E1           LDRH     R0,[R9, #+84]
   \   000001CC   000050E3           CMP      R0,#+0
   \   000001D0   0400000A           BEQ      ??contactlist_menu_iconhndl_8
   \   000001D4   018088E2           ADD      R8,R8,#+1
   \   000001D8   020000EA           B        ??contactlist_menu_iconhndl_8
   1955              }
   1956            }
   1957            else
   1958            {
   1959              wsprintf(ws1, LG_CLERROR);
   \                     ??contactlist_menu_iconhndl_0:
   \   000001DC   D8108AE2           ADD      R1,R10,#+216
   \   000001E0   0600A0E1           MOV      R0,R6
   \   000001E4   240100EF           SWI      +292
   1960            }
   1961            ws2=AllocMenuWS(data,ws1->wsbody[0]);
   \                     ??contactlist_menu_iconhndl_8:
   \   000001E8   000096E5           LDR      R0,[R6, #+0]
   \   000001EC   B010D0E1           LDRH     R1,[R0, #+0]
   \   000001F0   0400A0E1           MOV      R0,R4
   \   000001F4   980100EF           SWI      +408
   \   000001F8   0090A0E1           MOV      R9,R0
   1962            wstrcpy(ws2,ws1);
   \   000001FC   0610A0E1           MOV      R1,R6
   \   00000200   1F0100EF           SWI      +287
   1963            
   1964            SetMenuItemIconArray(data, item, S_ICONS+icon);
   \   00000204   ........           LDR      R0,??DataTable63  ;; S_ICONS
   \   00000208   0510A0E1           MOV      R1,R5
   \   0000020C   082180E0           ADD      R2,R0,R8, LSL #+2
   \   00000210   0400A0E1           MOV      R0,R4
   \   00000214   990100EF           SWI      +409
   1965          #ifdef USE_MLMENU
   1966            ws4=AllocMenuWS(data,ws3->wsbody[0]);
   \   00000218   000097E5           LDR      R0,[R7, #+0]
   \   0000021C   B010D0E1           LDRH     R1,[R0, #+0]
   \   00000220   0400A0E1           MOV      R0,R4
   \   00000224   980100EF           SWI      +408
   \   00000228   0060A0E1           MOV      R6,R0
   1967            wstrcpy(ws4,ws3);
   \   0000022C   0710A0E1           MOV      R1,R7
   \   00000230   1F0100EF           SWI      +287
   1968            SetMLMenuItemText(data, item, ws2, ws4, curitem);
   \   00000234   70029DE5           LDR      R0,[SP, #+624]
   \   00000238   0630A0E1           MOV      R3,R6
   \   0000023C   01002DE9           PUSH     {R0}
   \   00000240   0920A0E1           MOV      R2,R9
   \   00000244   0510A0E1           MOV      R1,R5
   \   00000248   0400A0E1           MOV      R0,R4
   \   0000024C   180200EF           SWI      +536
   1969          #else
   1970            SetMenuItemText(data, item, ws2, curitem);
   1971          #endif
   1972          }
   \   00000250   9EDF8DE2           ADD      SP,SP,#+632
   \   00000254   F08FBDE8           POP      {R4-R11,PC}      ;; return
   1973          
   1974          //===============================================================================================
   1975          int DNR_ID=0;
   1976          int DNR_TRIES=3;
   1977          
   1978          extern const char NATICQ_HOST[];
   1979          extern const unsigned int NATICQ_PORT;
   1980          int host_counter = 0;
   1981          
   1982          //---------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
   1983          const char *GetHost(int cnt, const char *str, char *buf)
   1984          {
   1985            const char *tmp = str, *begin, *end;
   \                     GetHost:
   \   00000000   0130A0E1           MOV      R3,R1
   1986            if(cnt)
   \   00000004   000050E3           CMP      R0,#+0
   \   00000008   0100001A           BNE      ??GetHost_0
   \   0000000C   180000EA           B        ??GetHost_1
   1987            {
   1988              for(;cnt;cnt--)
   1989              {
   1990                for(;*str!=';' && *str!=' ' && *str!='\x0D' && *str!='\x0A' && *str; str++);
   \                     ??GetHost_2:
   \   00000010   011081E2           ADD      R1,R1,#+1
   \                     ??GetHost_0:
   \   00000014   00C0D1E5           LDRB     R12,[R1, #+0]
   \   00000018   3B005CE3           CMP      R12,#+59
   \   0000001C   20005C13           CMPNE    R12,#+32
   \   00000020   0D005C13           CMPNE    R12,#+13
   \   00000024   0A005C13           CMPNE    R12,#+10
   \   00000028   00005C13           CMPNE    R12,#+0
   \   0000002C   F7FFFF1A           BNE      ??GetHost_2
   1991                if(!*str) str = tmp;
   \   00000030   00005CE3           CMP      R12,#+0
   \   00000034   0200001A           BNE      ??GetHost_3
   \   00000038   0310A0E1           MOV      R1,R3
   \   0000003C   000000EA           B        ??GetHost_3
   1992                for(;(*str==';' || *str==' ' || *str=='\x0D' || *str=='\x0A') && *str; str++);
   \                     ??GetHost_4:
   \   00000040   011081E2           ADD      R1,R1,#+1
   \                     ??GetHost_3:
   \   00000044   00C0D1E5           LDRB     R12,[R1, #+0]
   \   00000048   3B005CE3           CMP      R12,#+59
   \   0000004C   20005C13           CMPNE    R12,#+32
   \   00000050   0D005C13           CMPNE    R12,#+13
   \   00000054   0A005C13           CMPNE    R12,#+10
   \   00000058   0100001A           BNE      ??GetHost_5
   \   0000005C   00005CE3           CMP      R12,#+0
   \   00000060   F6FFFF1A           BNE      ??GetHost_4
   1993                if(!*str) str = tmp;
   \                     ??GetHost_5:
   \   00000064   00005CE3           CMP      R12,#+0
   \   00000068   0310A001           MOVEQ    R1,R3
   1994              }
   \   0000006C   010050E2           SUBS     R0,R0,#+1
   \   00000070   E7FFFF1A           BNE      ??GetHost_0
   1995            }
   1996            tmp = buf;
   \                     ??GetHost_1:
   \   00000074   0200A0E1           MOV      R0,R2
   1997            begin = str;
   \   00000078   0130A0E1           MOV      R3,R1
   \   0000007C   000000EA           B        ??GetHost_6
   1998            for(;*str!=';' && *str!=':' && *str!=' ' && *str!='\x0D' && *str!='\x0A' && *str; str++);
   \                     ??GetHost_7:
   \   00000080   011081E2           ADD      R1,R1,#+1
   \                     ??GetHost_6:
   \   00000084   00C0D1E5           LDRB     R12,[R1, #+0]
   \   00000088   3B005CE3           CMP      R12,#+59
   \   0000008C   3A005C13           CMPNE    R12,#+58
   \   00000090   20005C13           CMPNE    R12,#+32
   \   00000094   0D005C13           CMPNE    R12,#+13
   \   00000098   0A005C13           CMPNE    R12,#+10
   \   0000009C   00005C13           CMPNE    R12,#+0
   \   000000A0   F6FFFF1A           BNE      ??GetHost_7
   1999            end = str;
   2000            for(;begin<end; *buf = *begin, begin++, buf++);
   \                     ??GetHost_8:
   \   000000A4   010053E1           CMP      R3,R1
   \   000000A8   ........           LDRBCC   R12,[R3], #+1
   \   000000AC   ........           STRBCC   R12,[R2], #+1
   \   000000B0   FBFFFF3A           BCC      ??GetHost_8
   2001            *buf = 0;
   \   000000B4   0010A0E3           MOV      R1,#+0
   \   000000B8   0010C2E5           STRB     R1,[R2, #+0]
   2002            return tmp;
   \   000000BC   1EFF2FE1           BX       LR               ;; return
   2003          }
   2004          //---------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
   2005          int atoi(char *attr)
   2006          {
   \                     atoi:
   \   00000000   10002DE9           PUSH     {R4}
   2007            int ret=0;
   \   00000004   0010A0E3           MOV      R1,#+0
   2008            int neg=1;
   \   00000008   0120A0E3           MOV      R2,#+1
   2009            for (int k=0; ; k++)
   \   0000000C   0030A0E3           MOV      R3,#+0
   \   00000010   060000EA           B        ??atoi_0
   2010            {
   2011              if ( attr[k]>0x2F && attr[k]<0x3A) {ret=ret*10+attr[k]-0x30;} else { if ( attr[k]=='-') {neg=-1;} else {return(ret*neg);}}
   \                     ??atoi_1:
   \   00000014   04C0A0E1           MOV      R12,R4
   \   00000018   3A005CE3           CMP      R12,#+58
   \   0000001C   0600002A           BCS      ??atoi_2
   \   00000020   0A40A0E3           MOV      R4,#+10
   \   00000024   94C121E0           MLA      R1,R4,R1,R12
   \   00000028   301041E2           SUB      R1,R1,#+48
   \                     ??atoi_3:
   \   0000002C   013083E2           ADD      R3,R3,#+1
   \                     ??atoi_0:
   \   00000030   0040D3E7           LDRB     R4,[R3, +R0]
   \   00000034   300054E3           CMP      R4,#+48
   \   00000038   F5FFFF2A           BCS      ??atoi_1
   \                     ??atoi_2:
   \   0000003C   2D0054E3           CMP      R4,#+45
   \   00000040   0020E003           MVNEQ    R2,#+0
   \   00000044   F8FFFF0A           BEQ      ??atoi_3
   \   00000048   1000BDE8           POP      {R4}
   \   0000004C   920100E0           MUL      R0,R2,R1
   \   00000050   1EFF2FE1           BX       LR               ;; return
   2012            }
   2013          }
   2014          //---------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
   2015          int GetPort(int cnt, const char *str)
   2016          {
   \                     GetPort:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   08D04DE2           SUB      SP,SP,#+8
   2017            const char *tmp = str;
   \   00000008   0130A0E1           MOV      R3,R1
   2018            char numbuf[6], numcnt = 0;
   \   0000000C   00C0A0E3           MOV      R12,#+0
   \   00000010   0020A0E3           MOV      R2,#+0
   2019            if(cnt)
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0100001A           BNE      ??GetPort_0
   \   0000001C   180000EA           B        ??GetPort_1
   2020            {
   2021              for(;cnt;cnt--)
   2022              {
   2023                for(;*str!=';' && *str!=' ' && *str!='\x0D' && *str!='\x0A' && *str; str++);
   \                     ??GetPort_2:
   \   00000020   011081E2           ADD      R1,R1,#+1
   \                     ??GetPort_0:
   \   00000024   0040D1E5           LDRB     R4,[R1, #+0]
   \   00000028   3B0054E3           CMP      R4,#+59
   \   0000002C   20005413           CMPNE    R4,#+32
   \   00000030   0D005413           CMPNE    R4,#+13
   \   00000034   0A005413           CMPNE    R4,#+10
   \   00000038   00005413           CMPNE    R4,#+0
   \   0000003C   F7FFFF1A           BNE      ??GetPort_2
   2024                if(!*str) str = tmp;
   \   00000040   000054E3           CMP      R4,#+0
   \   00000044   0200001A           BNE      ??GetPort_3
   \   00000048   0310A0E1           MOV      R1,R3
   \   0000004C   000000EA           B        ??GetPort_3
   2025                for(;(*str==';' || *str==' ' || *str=='\x0D' || *str=='\x0A') && *str; str++);
   \                     ??GetPort_4:
   \   00000050   011081E2           ADD      R1,R1,#+1
   \                     ??GetPort_3:
   \   00000054   0040D1E5           LDRB     R4,[R1, #+0]
   \   00000058   3B0054E3           CMP      R4,#+59
   \   0000005C   20005413           CMPNE    R4,#+32
   \   00000060   0D005413           CMPNE    R4,#+13
   \   00000064   0A005413           CMPNE    R4,#+10
   \   00000068   0100001A           BNE      ??GetPort_5
   \   0000006C   000054E3           CMP      R4,#+0
   \   00000070   F6FFFF1A           BNE      ??GetPort_4
   2026                if(!*str) str = tmp;
   \                     ??GetPort_5:
   \   00000074   000054E3           CMP      R4,#+0
   \   00000078   0310A001           MOVEQ    R1,R3
   2027              }
   \   0000007C   010050E2           SUBS     R0,R0,#+1
   \   00000080   E7FFFF1A           BNE      ??GetPort_0
   2028            }
   2029            for(;*str!=';' && *str!=':' && *str!=' ' && *str!='\x0D' && *str!='\x0A' && *str; str++);
   \                     ??GetPort_1:
   \   00000084   0000D1E5           LDRB     R0,[R1, #+0]
   \   00000088   3B0050E3           CMP      R0,#+59
   \   0000008C   3A005013           CMPNE    R0,#+58
   \   00000090   20005013           CMPNE    R0,#+32
   \   00000094   0D005013           CMPNE    R0,#+13
   \   00000098   0A005013           CMPNE    R0,#+10
   \   0000009C   00005013           CMPNE    R0,#+0
   \   000000A0   01108112           ADDNE    R1,R1,#+1
   \   000000A4   F6FFFF1A           BNE      ??GetPort_1
   2030            if(*str!=':') return NATICQ_PORT;
   \   000000A8   ........           LDRB     R0,[R1], #+1
   \   000000AC   3A0050E3           CMP      R0,#+58
   \   000000B0   50009F15           LDRNE    R0,??GetPort_6   ;; NATICQ_PORT
   \   000000B4   00009015           LDRNE    R0,[R0, #+0]
   \   000000B8   1680BD18           POPNE    {R1,R2,R4,PC}
   2031            str++;
   2032            numbuf[5] = 0;
   \   000000BC   05C0CDE5           STRB     R12,[SP, #+5]
   \   000000C0   0D30A0E1           MOV      R3,SP
   \   000000C4   030000EA           B        ??GetPort_7
   2033            for(;*str!=';' && *str!=' ' && *str!='\x0D' && *str!='\x0A' && *str && numcnt<5; numbuf[numcnt] = *str, str++, numcnt++);
   \                     ??GetPort_8:
   \   000000C8   ........           LDRB     R4,[R1], #+1
   \   000000CC   0340C2E7           STRB     R4,[R2, +R3]
   \   000000D0   012082E2           ADD      R2,R2,#+1
   \   000000D4   FF2002E2           AND      R2,R2,#0xFF
   \                     ??GetPort_7:
   \   000000D8   0000D1E5           LDRB     R0,[R1, #+0]
   \   000000DC   3B0050E3           CMP      R0,#+59
   \   000000E0   20005013           CMPNE    R0,#+32
   \   000000E4   0D005013           CMPNE    R0,#+13
   \   000000E8   0A005013           CMPNE    R0,#+10
   \   000000EC   00005013           CMPNE    R0,#+0
   \   000000F0   0100000A           BEQ      ??GetPort_9
   \   000000F4   050052E3           CMP      R2,#+5
   \   000000F8   F2FFFF3A           BCC      ??GetPort_8
   2034            return atoi(numbuf);
   \                     ??GetPort_9:
   \   000000FC   0D00A0E1           MOV      R0,SP
   \   00000100   ........           BL       atoi
   \   00000104   1680BDE8           POP      {R1,R2,R4,PC}    ;; return
   \                     ??GetPort_6:
   \   00000108   ........           DC32     NATICQ_PORT
   2035          
   2036          }
   2037          //---------------------------------------------------------------------------

   \                                 In segment CODE, align 4, keep-with-next
   2038          int GetHostsCount(const char *str)
   2039          {
   2040            char cnt = 1;
   \                     GetHostsCount:
   \   00000000   0110A0E3           MOV      R1,#+1
   \   00000004   000000EA           B        ??GetHostsCount_0
   2041            for(;cnt;cnt++)
   2042            {
   2043              for(;*str!=';' && *str!=' ' && *str!='\x0D' && *str!='\x0A' && *str; str++);
   \                     ??GetHostsCount_1:
   \   00000008   010080E2           ADD      R0,R0,#+1
   \                     ??GetHostsCount_0:
   \   0000000C   0020D0E5           LDRB     R2,[R0, #+0]
   \   00000010   3B0052E3           CMP      R2,#+59
   \   00000014   20005213           CMPNE    R2,#+32
   \   00000018   0D005213           CMPNE    R2,#+13
   \   0000001C   0A005213           CMPNE    R2,#+10
   \   00000020   00005213           CMPNE    R2,#+0
   \   00000024   F7FFFF1A           BNE      ??GetHostsCount_1
   2044              if(!*str) return cnt;
   \   00000028   000052E3           CMP      R2,#+0
   \   0000002C   0200001A           BNE      ??GetHostsCount_2
   \                     ??GetHostsCount_3:
   \   00000030   0100A0E1           MOV      R0,R1
   \   00000034   1EFF2FE1           BX       LR
   2045              for(;(*str==';' || *str==' ' || *str=='\x0D' || *str=='\x0A') && *str; str++);
   \                     ??GetHostsCount_4:
   \   00000038   010080E2           ADD      R0,R0,#+1
   \                     ??GetHostsCount_2:
   \   0000003C   0020D0E5           LDRB     R2,[R0, #+0]
   \   00000040   3B0052E3           CMP      R2,#+59
   \   00000044   20005213           CMPNE    R2,#+32
   \   00000048   0D005213           CMPNE    R2,#+13
   \   0000004C   0A005213           CMPNE    R2,#+10
   \   00000050   0100001A           BNE      ??GetHostsCount_5
   \   00000054   000052E3           CMP      R2,#+0
   \   00000058   F6FFFF1A           BNE      ??GetHostsCount_4
   2046              if(!*str) return cnt;
   \                     ??GetHostsCount_5:
   \   0000005C   000052E3           CMP      R2,#+0
   \   00000060   F2FFFF0A           BEQ      ??GetHostsCount_3
   2047            }
   \   00000064   011081E2           ADD      R1,R1,#+1
   \   00000068   FF1011E2           ANDS     R1,R1,#0xFF
   \   0000006C   E6FFFF1A           BNE      ??GetHostsCount_0
   2048            return 0;
   \   00000070   0000A0E3           MOV      R0,#+0
   \   00000074   1EFF2FE1           BX       LR               ;; return
   2049          }
   2050          //---------------------------------------------------------------------------
   2051          

   \                                 In segment CODE, align 4, keep-with-next
   2052          void create_connect(void)
   2053          {
   \                     create_connect:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   2054          //  static int host_counter = 0;
   2055            char hostbuf[128], buf[128];
   2056            int hostport;
   2057            int ***p_res=NULL;
   2058            void do_reconnect(void);
   2059            SOCK_ADDR sa;
   2060            //Устанавливаем соединение
   2061            connect_state = 0;
   \   00000004   ........           LDR      R5,??DataTable76  ;; S_ICONS
   2062            int err;
   2063            unsigned int ip;
   2064            GBS_DelTimer(&reconnect_tmr);
   2065            if (!IsGPRSEnabled())
   \   00000008   B0829FE5           LDR      R8,??create_connect_0+0x4  ;; `?<Constant "Waiting for GPRS up...">`
   \   0000000C   45DF4DE2           SUB      SP,SP,#+276
   \   00000010   0040A0E3           MOV      R4,#+0
   \   00000014   00408DE5           STR      R4,[SP, #+0]
   \   00000018   444185E5           STR      R4,[R5, #+324]
   \   0000001C   0C00A0E3           MOV      R0,#+12
   \   00000020   600D80E3           ORR      R0,R0,#0x1800
   \   00000024   056080E0           ADD      R6,R0,R5
   \   00000028   0600A0E1           MOV      R0,R6
   \   0000002C   8C0100EF           SWI      +396
   \   00000030   EC00A0E3           MOV      R0,#+236
   \   00000034   580D80E3           ORR      R0,R0,#0x1600
   \   00000038   057080E0           ADD      R7,R0,R5
   \   0000003C   A70000EF           SWI      +167
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   0400001A           BNE      ??create_connect_1
   2066            {
   2067              is_gprs_online=0;
   \   00000048   644185E5           STR      R4,[R5, #+356]
   2068              strcpy(logmsg,LG_GRWAITFORGPRS);
   \   0000004C   0810A0E1           MOV      R1,R8
   \   00000050   0700A0E1           MOV      R0,R7
   \   00000054   1A0000EF           SWI      +26
   2069              SMART_REDRAW();
   \   00000058   6D0000EA           B        ??create_connect_2
   2070              return;
   2071            }
   2072            DNR_ID=0;
   2073            *socklasterr()=0;
   2074            if(host_counter > GetHostsCount(NATICQ_HOST)) host_counter = 0;
   \                     ??create_connect_1:
   \   0000005C   60929FE5           LDR      R9,??create_connect_0+0x8  ;; NATICQ_HOST
   2075            GetHost(host_counter, NATICQ_HOST, hostbuf);
   2076            hostport = GetPort(host_counter, NATICQ_HOST);
   2077            host_counter++;
   2078          
   2079            sprintf(buf, "Connect to %s:%d", hostbuf, hostport);
   2080            strcpy(hostbuf2, hostbuf);
   2081            strcpy(logmsg,buf);
   2082            SMART_REDRAW();
   2083              
   2084            ip=str2ip(hostbuf);
   \   00000060   ........           LDR      R11,??DataTable65  ;; do_reconnect
   \   00000064   8C4185E5           STR      R4,[R5, #+396]
   \   00000068   7C8100EF           SWI      +33148
   \   0000006C   004080E5           STR      R4,[R0, #+0]
   \   00000070   0900A0E1           MOV      R0,R9
   \   00000074   ........           BL       GetHostsCount
   \   00000078   941195E5           LDR      R1,[R5, #+404]
   \   0000007C   14208DE2           ADD      R2,SP,#+20
   \   00000080   010050E1           CMP      R0,R1
   \   00000084   944185B5           STRLT    R4,[R5, #+404]
   \   00000088   940195E5           LDR      R0,[R5, #+404]
   \   0000008C   0910A0E1           MOV      R1,R9
   \   00000090   ........           BL       GetHost
   \   00000094   940195E5           LDR      R0,[R5, #+404]
   \   00000098   0910A0E1           MOV      R1,R9
   \   0000009C   ........           BL       GetPort
   \   000000A0   0090A0E1           MOV      R9,R0
   \   000000A4   940195E5           LDR      R0,[R5, #+404]
   \   000000A8   0930A0E1           MOV      R3,R9
   \   000000AC   010080E2           ADD      R0,R0,#+1
   \   000000B0   940185E5           STR      R0,[R5, #+404]
   \   000000B4   14208DE2           ADD      R2,SP,#+20
   \   000000B8   181088E2           ADD      R1,R8,#+24
   \   000000BC   94008DE2           ADD      R0,SP,#+148
   \   000000C0   160000EF           SWI      +22
   \   000000C4   14108DE2           ADD      R1,SP,#+20
   \   000000C8   6C00A0E3           MOV      R0,#+108
   \   000000CC   600D80E3           ORR      R0,R0,#0x1800
   \   000000D0   050080E0           ADD      R0,R0,R5
   \   000000D4   1A0000EF           SWI      +26
   \   000000D8   94108DE2           ADD      R1,SP,#+148
   \   000000DC   0700A0E1           MOV      R0,R7
   \   000000E0   1A0000EF           SWI      +26
   \   000000E4   ........           BL       SMART_REDRAW
   \   000000E8   14008DE2           ADD      R0,SP,#+20
   \   000000EC   B70100EF           SWI      +439
   \   000000F0   40A0A0E3           MOV      R10,#+64
   \   000000F4   65AC8AE3           ORR      R10,R10,#0x6500
   \   000000F8   010070E3           CMN      R0,#+1
   \   000000FC   0500000A           BEQ      ??create_connect_3
   2085            if (ip!=0xFFFFFFFF)  
   2086            {
   2087              sa.ip=ip;
   \   00000100   08008DE5           STR      R0,[SP, #+8]
   2088              strcat(logmsg,"\nConnect by IP!");
   \   00000104   2C1088E2           ADD      R1,R8,#+44
   \   00000108   0700A0E1           MOV      R0,R7
   \   0000010C   170000EF           SWI      +23
   2089              SMART_REDRAW();
   \   00000110   ........           BL       SMART_REDRAW
   2090              goto L_CONNECT;
   \   00000114   280000EA           B        ??create_connect_4
   2091            }  
   \                     ??create_connect_3:
   \   00000118   671F8FE2           ADR      R1,??create_connect_0  ;; "\n"
   \   0000011C   0700A0E1           MOV      R0,R7
   2092            strcat(logmsg,"\n");
   \   00000120   170000EF           SWI      +23
   2093            strcat(logmsg,LG_GRSENDDNR);
   \   00000124   3C1088E2           ADD      R1,R8,#+60
   \   00000128   0700A0E1           MOV      R0,R7
   \   0000012C   170000EF           SWI      +23
   2094            SMART_REDRAW();
   \   00000130   ........           BL       SMART_REDRAW
   2095            err=async_gethostbyname(hostbuf,&p_res,&DNR_ID); //03461351 3<70<19<81
   \   00000134   632F85E2           ADD      R2,R5,#+396
   \   00000138   0D10A0E1           MOV      R1,SP
   \   0000013C   14008DE2           ADD      R0,SP,#+20
   \   00000140   B60100EF           SWI      +438
   \   00000144   0030B0E1           MOVS     R3,R0
   2096            if (err)
   \   00000148   0500000A           BEQ      ??create_connect_5
   2097            {
   2098              if ((err==0xC9)||(err==0xD6))
   \   0000014C   C90053E3           CMP      R3,#+201
   \   00000150   D6005313           CMPNE    R3,#+214
   \   00000154   3100001A           BNE      ??create_connect_6
   2099              {
   2100                if (DNR_ID)
   \   00000158   8C0195E5           LDR      R0,[R5, #+396]
   \   0000015C   000050E3           CMP      R0,#+0
   \   00000160   5300001A           BNE      ??create_connect_7
   2101                {
   2102          	return; //Ждем готовности DNR
   2103                }
   2104              }
   2105              else
   2106              {
   2107                snprintf(logmsg,255,LG_GRDNRERROR,err);
   2108                SMART_REDRAW();
   2109          #ifdef EVILFOX
   2110                    GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*10,do_reconnect);
   2111          #else
   2112          	  GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*120,do_reconnect);
   2113          #endif
   2114                return;
   2115              }
   2116            }
   2117            if (p_res)
   \                     ??create_connect_5:
   \   00000164   00009DE5           LDR      R0,[SP, #+0]
   \   00000168   000050E3           CMP      R0,#+0
   \   0000016C   4800000A           BEQ      ??create_connect_8
   2118            {
   2119              if (p_res[3])
   \   00000170   0C0090E5           LDR      R0,[R0, #+12]
   \   00000174   000050E3           CMP      R0,#+0
   \   00000178   4D00000A           BEQ      ??create_connect_7
   2120              {
   2121                strcpy(logmsg,buf);
   \   0000017C   94108DE2           ADD      R1,SP,#+148
   \   00000180   0700A0E1           MOV      R0,R7
   \   00000184   1A0000EF           SWI      +26
   2122                strcat(logmsg,"\n");
   \   00000188   4B1F8FE2           ADR      R1,??create_connect_0  ;; "\n"
   \   0000018C   0700A0E1           MOV      R0,R7
   \   00000190   170000EF           SWI      +23
   2123                strcat(logmsg,LG_GRDNROK);
   \   00000194   581088E2           ADD      R1,R8,#+88
   \   00000198   0700A0E1           MOV      R0,R7
   \   0000019C   170000EF           SWI      +23
   2124                SMART_REDRAW();
   \   000001A0   ........           BL       SMART_REDRAW
   2125                DNR_TRIES=0;
   \   000001A4   904185E5           STR      R4,[R5, #+400]
   2126                sa.ip=p_res[3][0][0];
   \   000001A8   00109DE5           LDR      R1,[SP, #+0]
   \   000001AC   0C1091E5           LDR      R1,[R1, #+12]
   \   000001B0   001091E5           LDR      R1,[R1, #+0]
   \   000001B4   001091E5           LDR      R1,[R1, #+0]
   \   000001B8   08108DE5           STR      R1,[SP, #+8]
   2127              L_CONNECT:
   2128                sock=socket(1,1,0);
   \                     ??create_connect_4:
   \   000001BC   0020A0E3           MOV      R2,#+0
   \   000001C0   0110A0E3           MOV      R1,#+1
   \   000001C4   0100A0E1           MOV      R0,R1
   \   000001C8   730100EF           SWI      +371
   \   000001CC   480185E5           STR      R0,[R5, #+328]
   2129                if (sock!=-1)
   \   000001D0   010070E3           CMN      R0,#+1
   \   000001D4   2500000A           BEQ      ??create_connect_9
   2130                {
   2131          	sa.family=1;
   \   000001D8   0170A0E3           MOV      R7,#+1
   \   000001DC   B470CDE1           STRH     R7,[SP, #+4]
   2132          	sa.port=htons(hostport);
   \   000001E0   0908A0E1           MOV      R0,R9, LSL #+16
   \   000001E4   2008A0E1           MOV      R0,R0, LSR #+16
   \   000001E8   7A0100EF           SWI      +378
   \   000001EC   B600CDE1           STRH     R0,[SP, #+6]
   2133          	//    sa.ip=htonl(IP_ADDR(82,207,89,182));
   2134          	if (connect(sock,&sa,sizeof(sa))!=-1)
   \   000001F0   480195E5           LDR      R0,[R5, #+328]
   \   000001F4   1020A0E3           MOV      R2,#+16
   \   000001F8   04108DE2           ADD      R1,SP,#+4
   \   000001FC   740100EF           SWI      +372
   \   00000200   010070E3           CMN      R0,#+1
   \   00000204   0F00000A           BEQ      ??create_connect_10
   2135          	{
   2136          	  connect_state=1;
   \   00000208   447185E5           STR      R7,[R5, #+324]
   2137          	  TOTALRECEIVED=0;
   \   0000020C   4C4185E5           STR      R4,[R5, #+332]
   2138          	  TOTALSENDED=0;
   \   00000210   504185E5           STR      R4,[R5, #+336]
   2139          	  SMART_REDRAW();
   \                     ??create_connect_2:
   \   00000214   ........           BL       SMART_REDRAW
   \                     ??create_connect_11:
   \   00000218   45DF8DE2           ADD      SP,SP,#+276
   \   0000021C   F08FBDE8           POP      {R4-R11,PC}
   2140          	}
   \                     ??create_connect_6:
   \   00000220   482088E2           ADD      R2,R8,#+72
   \   00000224   FF10A0E3           MOV      R1,#+255
   \   00000228   0700A0E1           MOV      R0,R7
   \   0000022C   1B0100EF           SWI      +283
   \   00000230   ........           BL       SMART_REDRAW
   \                     ??create_connect_12:
   \   00000234   0B20A0E1           MOV      R2,R11
   \   00000238   0A10A0E1           MOV      R1,R10
   \   0000023C   0600A0E1           MOV      R0,R6
   \   00000240   4D0000EF           SWI      +77
   \   00000244   F3FFFFEA           B        ??create_connect_11
   2141          	else
   2142          	{
   2143          	  closesocket(sock);
   \                     ??create_connect_10:
   \   00000248   480195E5           LDR      R0,[R5, #+328]
   \   0000024C   760100EF           SWI      +374
   2144          	  sock=-1;
   \   00000250   0400E0E1           MVN      R0,R4
   \   00000254   480185E5           STR      R0,[R5, #+328]
   2145          	  LockSched();
   \   00000258   460100EF           SWI      +326
   2146          	  ShowMSG(1,(int)LG_MSGCANTCONN);
   \   0000025C   701088E2           ADD      R1,R8,#+112
   \   00000260   0100A0E3           MOV      R0,#+1
   \   00000264   480100EF           SWI      +328
   2147          	  UnlockSched();
   \   00000268   470100EF           SWI      +327
   2148          #ifdef EVILFOX
   2149                    GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*10,do_reconnect);
   2150          #else
   2151          	  GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*120,do_reconnect);
   \   0000026C   F0FFFFEA           B        ??create_connect_12
   2152          #endif
   2153          	}
   2154                }
   2155                else
   2156                {
   2157          	LockSched();
   \                     ??create_connect_9:
   \   00000270   460100EF           SWI      +326
   2158          	ShowMSG(1,(int)LG_MSGCANTCRSC);
   \   00000274   8C1088E2           ADD      R1,R8,#+140
   \   00000278   0100A0E3           MOV      R0,#+1
   \   0000027C   480100EF           SWI      +328
   2159          	UnlockSched();
   \   00000280   470100EF           SWI      +327
   2160          	//Не осилили создания сокета, закрываем GPRS-сессию
   2161          	GPRS_OnOff(0,1);
   \   00000284   0110A0E3           MOV      R1,#+1
   \   00000288   0000A0E3           MOV      R0,#+0
   \   0000028C   8E0100EF           SWI      +398
   \   00000290   E0FFFFEA           B        ??create_connect_11
   2162                }
   2163              } 
   2164            }
   2165            else
   2166            {
   2167              DNR_TRIES--;
   \                     ??create_connect_8:
   \   00000294   900195E5           LDR      R0,[R5, #+400]
   \   00000298   010040E2           SUB      R0,R0,#+1
   \   0000029C   900185E5           STR      R0,[R5, #+400]
   2168              LockSched();
   \   000002A0   460100EF           SWI      +326
   2169              ShowMSG(1,(int)LG_MSGHOSTNFND);
   \   000002A4   B81088E2           ADD      R1,R8,#+184
   \   000002A8   0100A0E3           MOV      R0,#+1
   \   000002AC   480100EF           SWI      +328
   2170              UnlockSched();
   \   000002B0   470100EF           SWI      +327
   \                     ??create_connect_7:
   \   000002B4   45DF8DE2           ADD      SP,SP,#+276      ;; stack cleaning
   \   000002B8   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??create_connect_0:
   \   000002BC   0A000000           DC8      "\n",+0,+0
   \   000002C0   ........           DC32     `?<Constant "Waiting for GPRS up...">`
   \   000002C4   ........           DC32     NATICQ_HOST
   2171            }
   2172          }
   2173          
   2174          #ifdef SEND_TIMER
   2175          GBSTMR send_tmr;
   2176          #endif
   2177          

   \                                 In segment CODE, align 4, keep-with-next
   2178          void ClearSendQ(void)
   2179          {
   \                     ClearSendQ:
   \   00000000   10402DE9           PUSH     {R4,LR}
   2180            mfree((void *)sendq_p);
   \   00000004   ........           LDR      R4,??DataTable76  ;; S_ICONS
   \   00000008   600194E5           LDR      R0,[R4, #+352]
   \   0000000C   150000EF           SWI      +21
   2181            sendq_p=NULL;
   \   00000010   0000A0E3           MOV      R0,#+0
   \   00000014   600184E5           STR      R0,[R4, #+352]
   2182            sendq_l=NULL;
   \   00000018   5C0184E5           STR      R0,[R4, #+348]
   2183          #ifdef SEND_TIMER
   2184            GBS_DelTimer(&send_tmr);
   2185          #endif
   2186          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
   2187          

   \                                 In segment CODE, align 4, keep-with-next
   2188          void end_socket(void)
   2189          {
   \                     end_socket:
   \   00000000   10402DE9           PUSH     {R4,LR}
   2190            if (sock>=0)
   \   00000004   ........           LDR      R4,??DataTable76  ;; S_ICONS
   \   00000008   480194E5           LDR      R0,[R4, #+328]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1080BD48           POPMI    {R4,PC}
   2191            {
   2192              shutdown(sock,2);
   \   00000014   0210A0E3           MOV      R1,#+2
   \   00000018   770100EF           SWI      +375
   2193              closesocket(sock);
   \   0000001C   480194E5           LDR      R0,[R4, #+328]
   \   00000020   760100EF           SWI      +374
   2194            }
   2195          #ifdef SEND_TIMER
   2196            GBS_DelTimer(&send_tmr);
   2197          #endif
   2198          }
   \   00000024   1080BDE8           POP      {R4,PC}          ;; return
   2199          
   2200          #ifdef SEND_TIMER
   2201          static void resend(void)
   2202          {
   2203            void SendAnswer(int dummy, TPKT *p);
   2204            SUBPROC((void*)SendAnswer,0,0);
   2205          }
   2206          #endif
   2207          

   \                                 In segment CODE, align 4, keep-with-next
   2208          void SendAnswer(int dummy, TPKT *p)
   2209          {
   \                     SendAnswer:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   2210            int i;
   2211            int j;
   2212            if (connect_state<2)
   \   00000004   ........           LDR      R4,??DataTable76  ;; S_ICONS
   \   00000008   0160A0E1           MOV      R6,R1
   \   0000000C   440194E5           LDR      R0,[R4, #+324]
   \   00000010   020050E3           CMP      R0,#+2
   \   00000014   020000AA           BGE      ??SendAnswer_0
   2213            {
   2214              mfree(p);
   \   00000018   0600A0E1           MOV      R0,R6
   \   0000001C   150000EF           SWI      +21
   2215              return;
   \   00000020   F083BDE8           POP      {R4-R9,PC}
   2216            }
   2217            if (p)
   \                     ??SendAnswer_0:
   \   00000024   000056E3           CMP      R6,#+0
   \   00000028   2600000A           BEQ      ??SendAnswer_1
   2218            {
   2219              j=sizeof(PKT)+p->pkt.data_len; //Размер пакета
   \   0000002C   B600D6E1           LDRH     R0,[R6, #+6]
   \   00000030   085080E2           ADD      R5,R0,#+8
   2220              TOTALSENDED+=j;
   \   00000034   500194E5           LDR      R0,[R4, #+336]
   \   00000038   000085E0           ADD      R0,R5,R0
   \   0000003C   500184E5           STR      R0,[R4, #+336]
   2221              ALLTOTALSENDED+=j;			//by BoBa 10.07    
   \   00000040   580194E5           LDR      R0,[R4, #+344]
   \   00000044   000085E0           ADD      R0,R5,R0
   \   00000048   580184E5           STR      R0,[R4, #+344]
   2222              //Проверяем, не надо ли добавить в очередь
   2223              if (sendq_p)
   \   0000004C   600194E5           LDR      R0,[R4, #+352]
   \   00000050   000050E3           CMP      R0,#+0
   \   00000054   0F00000A           BEQ      ??SendAnswer_2
   2224              {
   2225                //Есть очередь, добавляем в нее
   2226                sendq_p=realloc((void *)sendq_p,sendq_l+j);
   \   00000058   5C1194E5           LDR      R1,[R4, #+348]
   \   0000005C   011085E0           ADD      R1,R5,R1
   \   00000060   BA0000EF           SWI      +186
   \   00000064   600184E5           STR      R0,[R4, #+352]
   2227                memcpy((char *)sendq_p+sendq_l,p,j);
   \   00000068   5C0194E5           LDR      R0,[R4, #+348]
   \   0000006C   603194E5           LDR      R3,[R4, #+352]
   \   00000070   0520A0E1           MOV      R2,R5
   \   00000074   0610A0E1           MOV      R1,R6
   \   00000078   030080E0           ADD      R0,R0,R3
   \   0000007C   1E0100EF           SWI      +286
   2228                mfree(p);
   \   00000080   0600A0E1           MOV      R0,R6
   \   00000084   150000EF           SWI      +21
   2229                sendq_l+=j;
   \   00000088   5C0194E5           LDR      R0,[R4, #+348]
   \   0000008C   000085E0           ADD      R0,R5,R0
   \   00000090   5C0184E5           STR      R0,[R4, #+348]
   2230                return;
   \   00000094   F083BDE8           POP      {R4-R9,PC}
   2231              }
   2232              sendq_p=p;
   \                     ??SendAnswer_2:
   \   00000098   606184E5           STR      R6,[R4, #+352]
   2233              sendq_l=j;
   \   0000009C   5C5184E5           STR      R5,[R4, #+348]
   \   000000A0   080000EA           B        ??SendAnswer_1
   2234            }
   2235            //Отправляем уже существующее в очереди
   2236            while((i=sendq_l)!=0)
   2237            {
   2238              if (i>0x400) i=0x400;
   2239              j=send(sock,(void *)sendq_p,i,0);
   2240              snprintf(logmsg,255,"send res %d",j);
   2241              SMART_REDRAW();
   2242              if (j<0)
   2243              {
   2244                j=*socklasterr();
   2245                if ((j==0xC9)||(j==0xD6))
   2246                {
   2247          	//Передали что хотели
   2248          	strcpy(logmsg,"Send delayed...");
   2249          	return; //Видимо, надо ждать сообщения ENIP_BUFFER_FREE
   2250                }
   2251                else
   2252                {
   2253          	//Ошибка
   2254          	LockSched();
   2255          	ShowMSG(1,(int)"Send error!");
   2256          	UnlockSched();
   2257          	end_socket();
   2258          	return;
   2259                }
   2260              }
   2261              memcpy((void *)sendq_p,(char *)sendq_p+j,sendq_l-=j); //Удалили переданное
   \                     ??SendAnswer_3:
   \   000000A4   5C0194E5           LDR      R0,[R4, #+348]
   \   000000A8   052040E0           SUB      R2,R0,R5
   \   000000AC   5C2184E5           STR      R2,[R4, #+348]
   \   000000B0   600194E5           LDR      R0,[R4, #+352]
   \   000000B4   001085E0           ADD      R1,R5,R0
   \   000000B8   1E0100EF           SWI      +286
   2262              if (j<i)
   \   000000BC   070055E1           CMP      R5,R7
   \   000000C0   F083BDB8           POPLT    {R4-R9,PC}
   2263              {
   2264                //Передали меньше чем заказывали
   2265          #ifdef SEND_TIMER
   2266                GBS_StartTimerProc(&send_tmr,216*5,resend);
   2267          #endif
   2268                return; //Ждем сообщения ENIP_BUFFER_FREE1
   2269              }
   2270              tenseconds_to_ping=0; //Чего-то послали, можно начинать отсчет времени до пинга заново
   \   000000C4   7C6184E5           STR      R6,[R4, #+380]
   \                     ??SendAnswer_1:
   \   000000C8   5C7194E5           LDR      R7,[R4, #+348]
   \   000000CC   601194E5           LDR      R1,[R4, #+352]
   \   000000D0   0060A0E3           MOV      R6,#+0
   \   000000D4   000057E3           CMP      R7,#+0
   \   000000D8   2400000A           BEQ      ??SendAnswer_4
   \   000000DC   9C909FE5           LDR      R9,??SendAnswer_5  ;; `?<Constant "send res %d">`
   \   000000E0   0100A0E3           MOV      R0,#+1
   \   000000E4   400E80E3           ORR      R0,R0,#0x400
   \   000000E8   000057E1           CMP      R7,R0
   \   000000EC   480194E5           LDR      R0,[R4, #+328]
   \   000000F0   407EA0A3           MOVGE    R7,#+1024
   \   000000F4   0030A0E3           MOV      R3,#+0
   \   000000F8   0720A0E1           MOV      R2,R7
   \   000000FC   790100EF           SWI      +377
   \   00000100   0050A0E1           MOV      R5,R0
   \   00000104   EC00A0E3           MOV      R0,#+236
   \   00000108   580D80E3           ORR      R0,R0,#0x1600
   \   0000010C   048080E0           ADD      R8,R0,R4
   \   00000110   0530A0E1           MOV      R3,R5
   \   00000114   0920A0E1           MOV      R2,R9
   \   00000118   FF10A0E3           MOV      R1,#+255
   \   0000011C   0800A0E1           MOV      R0,R8
   \   00000120   1B0100EF           SWI      +283
   \   00000124   ........           BL       SMART_REDRAW
   \   00000128   000055E3           CMP      R5,#+0
   \   0000012C   DCFFFF5A           BPL      ??SendAnswer_3
   \   00000130   7C8100EF           SWI      +33148
   \   00000134   005090E5           LDR      R5,[R0, #+0]
   \   00000138   C90055E3           CMP      R5,#+201
   \   0000013C   D6005513           CMPNE    R5,#+214
   \   00000140   0300001A           BNE      ??SendAnswer_6
   \   00000144   0C1089E2           ADD      R1,R9,#+12
   \   00000148   0800A0E1           MOV      R0,R8
   \   0000014C   1A0000EF           SWI      +26
   \   00000150   F083BDE8           POP      {R4-R9,PC}
   \                     ??SendAnswer_6:
   \   00000154   460100EF           SWI      +326
   \   00000158   1C1089E2           ADD      R1,R9,#+28
   \   0000015C   0100A0E3           MOV      R0,#+1
   \   00000160   480100EF           SWI      +328
   \   00000164   470100EF           SWI      +327
   \   00000168   ........           BL       end_socket
   \   0000016C   F083BDE8           POP      {R4-R9,PC}
   2271            }
   2272            mfree((void *)sendq_p);
   \                     ??SendAnswer_4:
   \   00000170   0100A0E1           MOV      R0,R1
   \   00000174   150000EF           SWI      +21
   2273            sendq_p=NULL;
   \   00000178   606184E5           STR      R6,[R4, #+352]
   2274          }
   \   0000017C   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??SendAnswer_5:
   \   00000180   ........           DC32     `?<Constant "send res %d">`
   2275          

   \                                 In segment CODE, align 4, keep-with-next
   2276          void send_login(int dummy, TPKT *p)
   2277          {
   2278            connect_state=2;
   2279            char rev[16];
   2280            //Кто будет менять в этом месте идентификатор клиента, буду банить на уровне сервера!!!
   2281            //А Вова будет банить на форуме!
   2282            snprintf(rev,9,"Sie_%04d",__SVN_REVISION__);
   \                     send_login:
   \   00000000   88209FE5           LDR      R2,??send_login_0  ;; `?<Constant "Sie_%04d">`
   \   00000004   F0402DE9           PUSH     {R4-R7,LR}
   \   00000008   ........           LDR      R6,??DataTable76  ;; S_ICONS
   \   0000000C   10D04DE2           SUB      SP,SP,#+16
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   0150A0E1           MOV      R5,R1
   \   00000018   0200A0E3           MOV      R0,#+2
   \   0000001C   440186E5           STR      R0,[R6, #+324]
   \   00000020   0A30A0E3           MOV      R3,#+10
   \   00000024   803E83E3           ORR      R3,R3,#0x800
   \   00000028   0910A0E3           MOV      R1,#+9
   \   0000002C   0D00A0E1           MOV      R0,SP
   \   00000030   1B0100EF           SWI      +283
   2283            
   2284            TPKT *p2=malloc(sizeof(PKT)+8);
   \   00000034   1000A0E3           MOV      R0,#+16
   \   00000038   140000EF           SWI      +20
   \   0000003C   0070A0E1           MOV      R7,R0
   2285            p2->pkt.uin=UIN;
   \   00000040   ........           LDR      R0,??DataTable71  ;; UIN
   2286            p2->pkt.type=T_SETCLIENT_ID;
   2287            p2->pkt.data_len=8;
   2288            memcpy(p2->data,rev,8);
   \   00000044   0820A0E3           MOV      R2,#+8
   \   00000048   000090E5           LDR      R0,[R0, #+0]
   \   0000004C   0D10A0E1           MOV      R1,SP
   \   00000050   000087E5           STR      R0,[R7, #+0]
   \   00000054   2000A0E3           MOV      R0,#+32
   \   00000058   B400C7E1           STRH     R0,[R7, #+4]
   \   0000005C   0800A0E3           MOV      R0,#+8
   \   00000060   B600C7E1           STRH     R0,[R7, #+6]
   \   00000064   080087E2           ADD      R0,R7,#+8
   \   00000068   1E0100EF           SWI      +286
   2289            SendAnswer(0,p2);
   \   0000006C   0710A0E1           MOV      R1,R7
   \   00000070   0000A0E3           MOV      R0,#+0
   \   00000074   ........           BL       SendAnswer
   2290            SendAnswer(dummy,p);
   \   00000078   0510A0E1           MOV      R1,R5
   \   0000007C   0400A0E1           MOV      R0,R4
   \   00000080   ........           BL       SendAnswer
   2291            RXstate=-(int)sizeof(PKT);
   \   00000084   0700E0E3           MVN      R0,#+7
   \   00000088   400186E5           STR      R0,[R6, #+320]
   2292          }
   \   0000008C   FF80BDE8           POP      {R0-R7,PC}       ;; return
   \                     ??send_login_0:
   \   00000090   ........           DC32     `?<Constant "Sie_%04d">`
   2293          

   \                                 In segment CODE, align 4, keep-with-next
   2294          void do_ping(void)
   2295          {
   \                     do_ping:
   \   00000000   00402DE9           PUSH     {LR}
   2296            TPKT *pingp=malloc(sizeof(PKT));
   \   00000004   0800A0E3           MOV      R0,#+8
   \   00000008   140000EF           SWI      +20
   2297            pingp->pkt.uin=UIN;
   \   0000000C   ........           LDR      R1,??DataTable71  ;; UIN
   \   00000010   001091E5           LDR      R1,[R1, #+0]
   \   00000014   001080E5           STR      R1,[R0, #+0]
   2298            pingp->pkt.type=0;
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   B410C0E1           STRH     R1,[R0, #+4]
   2299            pingp->pkt.data_len=0;
   \   00000020   B610C0E1           STRH     R1,[R0, #+6]
   2300            SendAnswer(0,pingp);
   \   00000024   0010A0E1           MOV      R1,R0
   \   00000028   0000A0E3           MOV      R0,#+0
   \   0000002C   0040BDE8           POP      {LR}             ;; Pop
   \   00000030   ........           B        SendAnswer       ;; tailcall
   2301          }
   2302          

   \                                 In segment CODE, align 4, keep-with-next
   2303          void SendMSGACK(int i)
   2304          {
   \                     SendMSGACK:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   2305            TPKT *ackp=malloc(sizeof(PKT));
   \   00000008   0800A0E3           MOV      R0,#+8
   \   0000000C   140000EF           SWI      +20
   2306            ackp->pkt.uin=i;
   \   00000010   004080E5           STR      R4,[R0, #+0]
   2307            ackp->pkt.type=T_MSGACK;
   \   00000014   1710A0E3           MOV      R1,#+23
   \   00000018   B410C0E1           STRH     R1,[R0, #+4]
   2308            ackp->pkt.data_len=0;
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   B610C0E1           STRH     R1,[R0, #+6]
   2309            SendAnswer(0,ackp);
   \   00000024   0010A0E1           MOV      R1,R0
   \   00000028   0000A0E3           MOV      R0,#+0
   \   0000002C   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000030   ........           B        SendAnswer       ;; tailcall
   2310          }
   2311          

   \                                 In segment CODE, align 4, keep-with-next
   2312          void RequestXText(unsigned int uin)
   2313          {
   \                     RequestXText:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   2314            TPKT *p=malloc(sizeof(PKT));
   \   00000008   0800A0E3           MOV      R0,#+8
   \   0000000C   140000EF           SWI      +20
   2315            p->pkt.uin=uin;
   \   00000010   004080E5           STR      R4,[R0, #+0]
   2316            p->pkt.type=T_XTEXT_REQ;
   \   00000014   1810A0E3           MOV      R1,#+24
   \   00000018   B410C0E1           STRH     R1,[R0, #+4]
   2317            p->pkt.data_len=0;
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   B610C0E1           STRH     R1,[R0, #+6]
   2318            SUBPROC((void *)SendAnswer,0,p);
   \   00000024   0020A0E1           MOV      R2,R0
   \   00000028   ........           LDR      R0,??DataTable72  ;; SendAnswer
   \   0000002C   710100EF           SWI      +369
   2319          }
   \   00000030   1080BDE8           POP      {R4,PC}          ;; return
   2320          
   2321          extern int main2_count;
   2322          //#ifdef EVILFOX
   2323          //#else
   2324          extern const char ignor_list[256];
   2325          //#endif
   2326          char I_UIN[9];
   2327          

   \                                 In segment CODE, align 4, keep-with-next
   2328          void get_answer(void)
   2329          {
   \                     get_answer:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   2330            void *p;
   2331            int i=RXstate;
   \   00000004   ........           LDR      R5,??DataTable76  ;; S_ICONS
   \   00000008   1CD04DE2           SUB      SP,SP,#+28
   \   0000000C   40DE4DE2           SUB      SP,SP,#+1024
   2332            int j;
   2333            int n;
   2334            char rb[1024];
   2335            char *rp=rb;
   2336            if (connect_state<2) return;
   \   00000010   440195E5           LDR      R0,[R5, #+324]
   \   00000014   408195E5           LDR      R8,[R5, #+320]
   \   00000018   1C108DE2           ADD      R1,SP,#+28
   \   0000001C   00108DE5           STR      R1,[SP, #+0]
   \   00000020   020050E3           CMP      R0,#+2
   \   00000024   3C0100BA           BLT      ??get_answer_1
   \   00000028   0A0078E3           CMN      R8,#+10
   \   0000002C   3A01000A           BEQ      ??get_answer_1
   2337            if (i==EOP) return;
   2338            j=recv(sock,rb,sizeof(rb),0);
   \   00000030   480195E5           LDR      R0,[R5, #+328]
   \   00000034   0030A0E3           MOV      R3,#+0
   \   00000038   402EA0E3           MOV      R2,#+1024
   \   0000003C   780100EF           SWI      +376
   \   00000040   0060A0E1           MOV      R6,R0
   \   00000044   0990A0E3           MOV      R9,#+9
   \   00000048   429C89E3           ORR      R9,R9,#0x4200
   \   0000004C   0E0000EA           B        ??get_answer_2
   2339            while(j>0)
   2340            {
   2341              if (i<0)
   2342              {
   2343                //Принимаем заголовок
   2344                n=-i; //Требуемое количество байт
   2345                if (j<n) n=j; //полученное<требуемое?
   2346                memcpy(RXbuf.data+i,rp,n); //Копируем
   2347                i+=n;
   2348                j-=n;
   2349                rp+=n;
   2350              }
   2351              if (i>=0)
   2352              {
   2353                //Принимаем тельце ;)
   2354                n=RXbuf.pkt.data_len; //Всего в тельце
   2355                if (n>16383)
   2356                {
   2357          	//Слишком много
   2358          	strcpy(logmsg,LG_GRBADPACKET);
   2359          	end_socket();
   2360          	RXstate=EOP;
   2361          	return;
   2362                }
   2363                n-=i; //Количество требуемых байт (общая длинна тельца-текущая позиция)
   2364                if (n>0)
   2365                {
   2366          	if (j<n) n=j; //полученное<требуемое?
   2367          	memcpy(RXbuf.data+i,rp,n);
   2368          	i+=n;
   2369          	j-=n;
   2370          	rp+=n;
   2371                }
   2372                if (RXbuf.pkt.data_len==i)
   2373                {
   2374          	//Пакет полностью получен
   2375          	TOTALRECEIVED+=(i+8);
   2376          	ALLTOTALRECEIVED+=(i+8);			//by BoBa 10.07	
   2377          	//Пакет удачно принят, можно разбирать...
   2378          	RXbuf.data[i]=0; //Конец строки
   2379          	switch(RXbuf.pkt.type)
   2380          	{
   2381          	case T_LOGIN:
   2382          	  //Удачно залогинились
   2383          	  //Посылаем в MMI
   2384          	  n=i+sizeof(PKT)+1;
   2385          	  p=malloc(n);
   2386          	  memcpy(p,&RXbuf,n);
   2387          	  GBS_SendMessage(MMI_CEPID,MSG_HELPER_TRANSLATOR,0,p,sock);
   2388          	  Play(sndStartup);
   2389          	  //        GBS_StartTimerProc(&tmr_ping,120*TMR_SECOND,call_ping);
   2390          	  snprintf(logmsg,255,LG_GRLOGINMSG,RXbuf.data);
   2391          	  connect_state=3;
   2392                    host_counter--;
   2393          	  SMART_REDRAW();
   2394          	  break;
   2395          	case T_XTEXT_ACK:
   2396          	case T_GROUPID:
   2397          	case T_GROUPFOLLOW:
   2398          	case T_CLENTRY:
   2399          	  //Посылаем в MMI
   2400          	  n=i+sizeof(PKT)+1;
   2401          	  p=malloc(n);
   2402          	  memcpy(p,&RXbuf,n);
   2403          	  GBS_SendMessage(MMI_CEPID,MSG_HELPER_TRANSLATOR,0,p,sock);
   2404          	  //snprintf(logmsg,255,"CL: %s",RXbuf.data);
   2405          	  break;
   2406          	case T_STATUSCHANGE:
   2407          	  n=i+sizeof(PKT);
   2408          	  p=malloc(n);
   2409          	  memcpy(p,&RXbuf,n);
   2410          	  snprintf(logmsg,255,LG_GRSTATUSCHNG,RXbuf.pkt.uin,*((unsigned short *)(RXbuf.data)));
   2411          	  GBS_SendMessage(MMI_CEPID,MSG_HELPER_TRANSLATOR,0,p,sock);
   2412          	  break;
   2413          	case T_ERROR:
   2414          	  snprintf(logmsg,255,LG_GRERROR,RXbuf.data);
   2415          	  SMART_REDRAW();
   2416          	  break;
   2417          	case T_RECVMSG:
   2418          	  n=i+sizeof(PKT)+1;
   2419          	  p=malloc(n);
   2420          	  memcpy(p,&RXbuf,n);
   2421          	  {
   2422          	    char *s=p;
   2423          	    s+=sizeof(PKT);
   2424          	    int c;
   2425          	    while((c=*s))
   2426          	    {
   2427          	      if (c<3) *s=' ';
   2428          	      s++;
   2429          	    }
   2430          	  }
   2431          #ifdef EVILFOX
   2432          #else
   2433                    sprintf(I_UIN, "uin%d", RXbuf.pkt.uin);
   2434                    if(strstr(ignor_list,I_UIN)==0)
   2435                    {
   2436          #endif
   2437          	  snprintf(logmsg,255,LG_GRRECVMSG,RXbuf.pkt.uin,RXbuf.data);
   2438          	  SendMSGACK(TOTALRECEIVED);
   2439          	  GBS_SendMessage(MMI_CEPID,MSG_HELPER_TRANSLATOR,0,p,sock);
   2440          	  SMART_REDRAW();
   2441          #ifdef EVILFOX
   2442                    if(!extended_sounds)
   2443                    {
   2444          	  Play(sndMsg);
   2445                    }
   2446                    else
   2447                    {
   2448                      uins=RXbuf.pkt.uin;
   2449                      volatile int hFile_ex;
   2450                      unsigned int io_error_ex = 0;
   2451                      sprintf(talk_sound, "%s%d.wav", sndMsg2, uins);
   2452                      hFile_ex = fopen(ext_sound,A_ReadOnly + A_BIN,P_READ, &io_error_ex);
   2453                      if(hFile_ex!=-1)
   2454                      {
   2455                        fclose(hFile_ex, &io_error_ex);
   2456                        Play(talk_sound);
   2457                      }
   2458                      else
   2459                        Play(sndMsg);
   2460                    }
   2461          #else
   2462                    if(!extended_sounds)
   2463                    {
   2464          	  Play(sndMsg);
   2465                    }
   2466                    else
   2467                    {
   2468                      uins=RXbuf.pkt.uin;
   2469                      volatile int hFile_ex;
   2470                      unsigned int io_error_ex = 0;
   2471                      sprintf(talk_sound, "%s%d.wav", sndMsg2, uins);
   2472                      hFile_ex = fopen(talk_sound,A_ReadOnly + A_BIN,P_READ, &io_error_ex);
   2473                      if(hFile_ex!=-1)
   2474                      {
   2475                        fclose(hFile_ex, &io_error_ex);
   2476                        Play(talk_sound);
   2477                      }
   2478                      else
   2479                        Play(sndMsg);
   2480                    }
   2481          #endif
   2482          #ifdef EVILFOX
   2483          #else
   2484                    }
   2485          #endif
   2486          	  break;
   2487          	case T_SSLRESP:
   2488          	  LockSched();
   2489          	  ShowMSG(1,(int)RXbuf.data);
   2490          	  UnlockSched();
   2491          	  break;
   2492          	case T_SRV_ACK:
   2493          	  if (FindContactLOGQByAck(&RXbuf)) Play(sndMsgSent);
   2494          	case T_CLIENT_ACK:
   2495          	  p=malloc(sizeof(PKT)+2);
   2496          	  memcpy(p,&RXbuf,sizeof(PKT)+2);
   2497          	  GBS_SendMessage(MMI_CEPID,MSG_HELPER_TRANSLATOR,0,p,sock);
   2498          	  break;
   2499          	case T_ECHORET:
   2500          	  {
   2501          	    TDate d;
   2502          	    TTime t;
   2503          	    TTime *pt=(TTime *)(RXbuf.data);
   2504          	    int s1;
   2505          	    int s2;
   2506          	    GetDateTime(&d,&t);
   2507          	    s1=t.hour*3600+t.min*60+t.sec;
   2508          	    s2=pt->hour*3600+pt->min*60+pt->sec;
   2509          	    s1-=s2;
   2510          	    if (s1<0) s1+=86400;
   2511          	    snprintf(logmsg,255,"Ping %d-%d seconds!",s1,s1+1);
   2512                      sprintf(PINGO, "Ping: %dsec",s1);
   2513          	    LockSched();
   2514                      if (janis==1)
   2515                      {
   2516          	    ShowMSG(1,(int)logmsg);
   2517                      janis=0;
   2518                      }
   2519          	    UnlockSched();
   2520          	  }
   2521          	  break;
   2522                  case T_LASTPRIVACY:
   2523                    n=i+sizeof(PKT);
   \                     ??get_answer_3:
   \   00000050   0040A0E1           MOV      R4,R0
   2524                    p=malloc(n);
   \                     ??get_answer_4:
   \   00000054   140000EF           SWI      +20
   \   00000058   00B0A0E1           MOV      R11,R0
   2525                    memcpy(p,&RXbuf,n);
   \   0000005C   0420A0E1           MOV      R2,R4
   \                     ??get_answer_5:
   \   00000060   0710A0E1           MOV      R1,R7
   \   00000064   1E0100EF           SWI      +286
   2526          	  GBS_SendMessage(MMI_CEPID,MSG_HELPER_TRANSLATOR,0,p,sock);
   \   00000068   480195E5           LDR      R0,[R5, #+328]
   \   0000006C   0B30A0E1           MOV      R3,R11
   \   00000070   01002DE9           PUSH     {R0}
   \   00000074   0020A0E3           MOV      R2,#+0
   \   00000078   0810A0E1           MOV      R1,R8
   \   0000007C   0900A0E1           MOV      R0,R9
   \   00000080   000100EF           SWI      +256
   \                     ??get_answer_6:
   \   00000084   04D08DE2           ADD      SP,SP,#+4        ;; stack cleaning
   2527          	  break;
   2528          	}
   2529          	i=-(int)sizeof(PKT); //А может еще есть данные
   \                     ??get_answer_7:
   \   00000088   0780E0E3           MVN      R8,#+7
   \                     ??get_answer_2:
   \   0000008C   010056E3           CMP      R6,#+1
   \   00000090   200100BA           BLT      ??get_answer_8
   \   00000094   90749FE5           LDR      R7,??get_answer_9+0x4  ;; RXbuf
   \   00000098   000058E3           CMP      R8,#+0
   \   0000009C   0C00005A           BPL      ??get_answer_10
   \   000000A0   00109DE5           LDR      R1,[SP, #+0]
   \   000000A4   004068E2           RSB      R4,R8,#+0
   \   000000A8   040056E1           CMP      R6,R4
   \   000000AC   0640A0B1           MOVLT    R4,R6
   \   000000B0   0420A0E1           MOV      R2,R4
   \   000000B4   070088E0           ADD      R0,R8,R7
   \   000000B8   080080E2           ADD      R0,R0,#+8
   \   000000BC   1E0100EF           SWI      +286
   \   000000C0   00109DE5           LDR      R1,[SP, #+0]
   \   000000C4   088084E0           ADD      R8,R4,R8
   \   000000C8   046046E0           SUB      R6,R6,R4
   \   000000CC   011084E0           ADD      R1,R4,R1
   \   000000D0   00108DE5           STR      R1,[SP, #+0]
   \                     ??get_answer_10:
   \   000000D4   000058E3           CMP      R8,#+0
   \   000000D8   EBFFFF4A           BMI      ??get_answer_2
   \   000000DC   B640D7E1           LDRH     R4,[R7, #+6]
   \   000000E0   EC00A0E3           MOV      R0,#+236
   \   000000E4   580D80E3           ORR      R0,R0,#0x1600
   \   000000E8   05A080E0           ADD      R10,R0,R5
   \   000000EC   400C54E3           CMP      R4,#+16384
   \   000000F0   080000BA           BLT      ??get_answer_11
   \   000000F4   34149FE5           LDR      R1,??get_answer_9+0x8  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 224
   \   000000F8   0A00A0E1           MOV      R0,R10
   \   000000FC   1A0000EF           SWI      +26
   \   00000100   ........           BL       end_socket
   \   00000104   0900E0E3           MVN      R0,#+9
   \   00000108   400185E5           STR      R0,[R5, #+320]
   \   0000010C   1CD08DE2           ADD      SP,SP,#+28
   \   00000110   40DE8DE2           ADD      SP,SP,#+1024
   \   00000114   F08FBDE8           POP      {R4-R11,PC}
   \                     ??get_answer_11:
   \   00000118   084044E0           SUB      R4,R4,R8
   \   0000011C   010054E3           CMP      R4,#+1
   \   00000120   0B0000BA           BLT      ??get_answer_12
   \   00000124   00109DE5           LDR      R1,[SP, #+0]
   \   00000128   040056E1           CMP      R6,R4
   \   0000012C   0640A0B1           MOVLT    R4,R6
   \   00000130   0420A0E1           MOV      R2,R4
   \   00000134   070088E0           ADD      R0,R8,R7
   \   00000138   080080E2           ADD      R0,R0,#+8
   \   0000013C   1E0100EF           SWI      +286
   \   00000140   00109DE5           LDR      R1,[SP, #+0]
   \   00000144   088084E0           ADD      R8,R4,R8
   \   00000148   046046E0           SUB      R6,R6,R4
   \   0000014C   011084E0           ADD      R1,R4,R1
   \   00000150   00108DE5           STR      R1,[SP, #+0]
   \                     ??get_answer_12:
   \   00000154   B600D7E1           LDRH     R0,[R7, #+6]
   \   00000158   080050E1           CMP      R0,R8
   \   0000015C   CAFFFF1A           BNE      ??get_answer_2
   \   00000160   4C1195E5           LDR      R1,[R5, #+332]
   \   00000164   080088E2           ADD      R0,R8,#+8
   \   00000168   011080E0           ADD      R1,R0,R1
   \   0000016C   4C1185E5           STR      R1,[R5, #+332]
   \   00000170   541195E5           LDR      R1,[R5, #+340]
   \   00000174   0020A0E3           MOV      R2,#+0
   \   00000178   011080E0           ADD      R1,R0,R1
   \   0000017C   541185E5           STR      R1,[R5, #+340]
   \   00000180   071088E0           ADD      R1,R8,R7
   \   00000184   0820C1E5           STRB     R2,[R1, #+8]
   \   00000188   B410D7E1           LDRH     R1,[R7, #+4]
   \   0000018C   094088E2           ADD      R4,R8,#+9
   \   00000190   AE80A0E3           MOV      R8,#+174
   \   00000194   DE8C88E3           ORR      R8,R8,#0xDE00
   \   00000198   031041E2           SUB      R1,R1,#+3
   \   0000019C   1C0051E3           CMP      R1,#+28
   \   000001A0   B8FFFF8A           BHI      ??get_answer_7
   \   000001A4   022F8FE2           ADR      R2,??get_answer_0
   \   000001A8   8110A0E1           MOV      R1,R1, LSL #+1
   \   000001AC   F12092E1           LDRSH    R2,[R2, R1]
   \   000001B0   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??get_answer_0:
   \   000001B4   48000E00B4FF       DC16     +72,+14,+65460,+65
   \              4100        
   \   000001BC   2900B4FF2B00       DC16     +41,+65460,+43,+65460
   \              B4FF        
   \   000001C4   B4FFB4FF9700       DC16     +65460,+65460,+151,+65460
   \              B4FF        
   \   000001CC   B4FF9D00A300       DC16     +65460,+157,+163,+65460
   \              B4FF        
   \   000001D4   A80029002900       DC16     +168,+41,+41,+65460
   \              B4FF        
   \   000001DC   B4FFB4FF2900       DC16     +65460,+65460,+41,+65460
   \              B4FF        
   \   000001E4   B4FFB4FFB4FF       DC16     +65460,+65460,+65460,+65460
   \              B4FF        
   \   000001EC   A6FF0000           DC16     +65446,+0
   \                     ??get_answer_13:
   \   000001F0   0400A0E1           MOV      R0,R4
   \   000001F4   140000EF           SWI      +20
   \   000001F8   00B0A0E1           MOV      R11,R0
   \   000001FC   0420A0E1           MOV      R2,R4
   \   00000200   0710A0E1           MOV      R1,R7
   \   00000204   1E0100EF           SWI      +286
   \   00000208   480195E5           LDR      R0,[R5, #+328]
   \   0000020C   0B30A0E1           MOV      R3,R11
   \   00000210   01002DE9           PUSH     {R0}
   \   00000214   0020A0E3           MOV      R2,#+0
   \   00000218   0810A0E1           MOV      R1,R8
   \   0000021C   0900A0E1           MOV      R0,R9
   \   00000220   000100EF           SWI      +256
   \   00000224   08039FE5           LDR      R0,??get_answer_9+0xC  ;; sndStartup
   \   00000228   ........           BL       Play
   \   0000022C   083087E2           ADD      R3,R7,#+8
   \   00000230   BC2F8FE2           ADR      R2,??get_answer_9  ;; "%s"
   \   00000234   FF10A0E3           MOV      R1,#+255
   \   00000238   0A00A0E1           MOV      R0,R10
   \   0000023C   1B0100EF           SWI      +283
   \   00000240   0300A0E3           MOV      R0,#+3
   \   00000244   440185E5           STR      R0,[R5, #+324]
   \   00000248   940195E5           LDR      R0,[R5, #+404]
   \   0000024C   010040E2           SUB      R0,R0,#+1
   \   00000250   940185E5           STR      R0,[R5, #+404]
   \   00000254   ........           BL       SMART_REDRAW
   \   00000258   89FFFFEA           B        ??get_answer_6
   \                     ??get_answer_14:
   \   0000025C   0400A0E1           MOV      R0,R4
   \   00000260   7BFFFFEA           B        ??get_answer_4
   \                     ??get_answer_15:
   \   00000264   0040A0E1           MOV      R4,R0
   \   00000268   140000EF           SWI      +20
   \   0000026C   00B0A0E1           MOV      R11,R0
   \   00000270   0420A0E1           MOV      R2,R4
   \   00000274   0710A0E1           MOV      R1,R7
   \   00000278   1E0100EF           SWI      +286
   \   0000027C   B800D7E1           LDRH     R0,[R7, #+8]
   \   00000280   B0229FE5           LDR      R2,??get_answer_9+0x10  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 236
   \   00000284   FF10A0E3           MOV      R1,#+255
   \   00000288   01002DE9           PUSH     {R0}
   \   0000028C   003097E5           LDR      R3,[R7, #+0]
   \   00000290   0A00A0E1           MOV      R0,R10
   \   00000294   1B0100EF           SWI      +283
   \   00000298   480195E5           LDR      R0,[R5, #+328]
   \   0000029C   0B30A0E1           MOV      R3,R11
   \   000002A0   01002DE9           PUSH     {R0}
   \   000002A4   0020A0E3           MOV      R2,#+0
   \   000002A8   0810A0E1           MOV      R1,R8
   \   000002AC   0900A0E1           MOV      R0,R9
   \   000002B0   000100EF           SWI      +256
   \   000002B4   08D08DE2           ADD      SP,SP,#+8
   \   000002B8   72FFFFEA           B        ??get_answer_7
   \                     ??get_answer_16:
   \   000002BC   78229FE5           LDR      R2,??get_answer_9+0x14  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 248
   \   000002C0   083087E2           ADD      R3,R7,#+8
   \   000002C4   FF10A0E3           MOV      R1,#+255
   \   000002C8   0A00A0E1           MOV      R0,R10
   \   000002CC   1B0100EF           SWI      +283
   \   000002D0   ........           BL       SMART_REDRAW
   \   000002D4   6BFFFFEA           B        ??get_answer_7
   \                     ??get_answer_17:
   \   000002D8   0400A0E1           MOV      R0,R4
   \   000002DC   140000EF           SWI      +20
   \   000002E0   00B0A0E1           MOV      R11,R0
   \   000002E4   0420A0E1           MOV      R2,R4
   \   000002E8   0710A0E1           MOV      R1,R7
   \   000002EC   1E0100EF           SWI      +286
   \   000002F0   08008BE2           ADD      R0,R11,#+8
   \   000002F4   030000EA           B        ??get_answer_18
   \                     ??get_answer_19:
   \   000002F8   030051E3           CMP      R1,#+3
   \   000002FC   2010A0B3           MOVLT    R1,#+32
   \   00000300   0010C0B5           STRBLT   R1,[R0, #+0]
   \   00000304   010080E2           ADD      R0,R0,#+1
   \                     ??get_answer_18:
   \   00000308   0010D0E5           LDRB     R1,[R0, #+0]
   \   0000030C   000051E3           CMP      R1,#+0
   \   00000310   F8FFFF1A           BNE      ??get_answer_19
   \   00000314   002097E5           LDR      R2,[R7, #+0]
   \   00000318   20129FE5           LDR      R1,??get_answer_9+0x18  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 256
   \   0000031C   EC00A0E3           MOV      R0,#+236
   \   00000320   600D80E3           ORR      R0,R0,#0x1800
   \   00000324   054080E0           ADD      R4,R0,R5
   \   00000328   0400A0E1           MOV      R0,R4
   \   0000032C   160000EF           SWI      +22
   \   00000330   0C029FE5           LDR      R0,??get_answer_9+0x1C  ;; ignor_list
   \   00000334   0410A0E1           MOV      R1,R4
   \   00000338   180100EF           SWI      +280
   \   0000033C   000050E3           CMP      R0,#+0
   \   00000340   50FFFF1A           BNE      ??get_answer_7
   \   00000344   FC219FE5           LDR      R2,??get_answer_9+0x20  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 264
   \   00000348   FC419FE5           LDR      R4,??get_answer_9+0x24  ;; sndMsg
   \   0000034C   080087E2           ADD      R0,R7,#+8
   \   00000350   01002DE9           PUSH     {R0}
   \   00000354   003097E5           LDR      R3,[R7, #+0]
   \   00000358   FF10A0E3           MOV      R1,#+255
   \   0000035C   0A00A0E1           MOV      R0,R10
   \   00000360   1B0100EF           SWI      +283
   \   00000364   4C0195E5           LDR      R0,[R5, #+332]
   \   00000368   ........           BL       SendMSGACK
   \   0000036C   480195E5           LDR      R0,[R5, #+328]
   \   00000370   0B30A0E1           MOV      R3,R11
   \   00000374   01002DE9           PUSH     {R0}
   \   00000378   0020A0E3           MOV      R2,#+0
   \   0000037C   0810A0E1           MOV      R1,R8
   \   00000380   0900A0E1           MOV      R0,R9
   \   00000384   000100EF           SWI      +256
   \   00000388   ........           BL       SMART_REDRAW
   \   0000038C   ........           LDR      R0,??DataTable74  ;; extended_sounds
   \   00000390   000090E5           LDR      R0,[R0, #+0]
   \   00000394   08D08DE2           ADD      SP,SP,#+8
   \   00000398   000050E3           CMP      R0,#+0
   \   0000039C   0200001A           BNE      ??get_answer_20
   \   000003A0   0400A0E1           MOV      R0,R4
   \                     ??get_answer_21:
   \   000003A4   ........           BL       Play
   \   000003A8   36FFFFEA           B        ??get_answer_7
   \                     ??get_answer_20:
   \   000003AC   000097E5           LDR      R0,[R7, #+0]
   \   000003B0   98219FE5           LDR      R2,??get_answer_9+0x28  ;; sndMsg2
   \   000003B4   A40085E5           STR      R0,[R5, #+164]
   \   000003B8   0010A0E3           MOV      R1,#+0
   \   000003BC   08108DE5           STR      R1,[SP, #+8]
   \   000003C0   A43095E5           LDR      R3,[R5, #+164]
   \   000003C4   88119FE5           LDR      R1,??get_answer_9+0x2C  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 276
   \   000003C8   C57FA0E3           MOV      R7,#+788
   \   000003CC   050087E0           ADD      R0,R7,R5
   \   000003D0   160000EF           SWI      +22
   \   000003D4   08308DE2           ADD      R3,SP,#+8
   \   000003D8   8020A0E3           MOV      R2,#+128
   \   000003DC   801CA0E3           MOV      R1,#+32768
   \   000003E0   050087E0           ADD      R0,R7,R5
   \   000003E4   0A0000EF           SWI      +10
   \   000003E8   04008DE5           STR      R0,[SP, #+4]
   \   000003EC   04009DE5           LDR      R0,[SP, #+4]
   \   000003F0   010070E3           CMN      R0,#+1
   \   000003F4   0400000A           BEQ      ??get_answer_22
   \   000003F8   04009DE5           LDR      R0,[SP, #+4]
   \   000003FC   08108DE2           ADD      R1,SP,#+8
   \   00000400   0D0000EF           SWI      +13
   \   00000404   050087E0           ADD      R0,R7,R5
   \   00000408   E5FFFFEA           B        ??get_answer_21
   \                     ??get_answer_22:
   \   0000040C   0400A0E1           MOV      R0,R4
   \   00000410   E3FFFFEA           B        ??get_answer_21
   \                     ??get_answer_23:
   \   00000414   460100EF           SWI      +326
   \   00000418   081087E2           ADD      R1,R7,#+8
   \   0000041C   0100A0E3           MOV      R0,#+1
   \   00000420   480100EF           SWI      +328
   \                     ??get_answer_24:
   \   00000424   470100EF           SWI      +327
   \   00000428   16FFFFEA           B        ??get_answer_7
   \                     ??get_answer_25:
   \   0000042C   0700A0E1           MOV      R0,R7
   \   00000430   ........           BL       FindContactLOGQByAck
   \   00000434   000050E3           CMP      R0,#+0
   \   00000438   0100000A           BEQ      ??get_answer_26
   \   0000043C   14019FE5           LDR      R0,??get_answer_9+0x30  ;; sndMsgSent
   \   00000440   ........           BL       Play
   \                     ??get_answer_26:
   \   00000444   0A00A0E3           MOV      R0,#+10
   \   00000448   140000EF           SWI      +20
   \   0000044C   00B0A0E1           MOV      R11,R0
   \   00000450   0A20A0E3           MOV      R2,#+10
   \   00000454   01FFFFEA           B        ??get_answer_5
   \                     ??get_answer_27:
   \   00000458   0C108DE2           ADD      R1,SP,#+12
   \   0000045C   14008DE2           ADD      R0,SP,#+20
   \   00000460   B40000EF           SWI      +180
   \   00000464   0C00DDE5           LDRB     R0,[SP, #+12]
   \   00000468   0D20DDE5           LDRB     R2,[SP, #+13]
   \   0000046C   E11EA0E3           MOV      R1,#+3600
   \   00000470   3C30A0E3           MOV      R3,#+60
   \   00000474   930202E0           MUL      R2,R3,R2
   \   00000478   912020E0           MLA      R0,R1,R0,R2
   \   0000047C   0E10DDE5           LDRB     R1,[SP, #+14]
   \   00000480   E12EA0E3           MOV      R2,#+3600
   \   00000484   000081E0           ADD      R0,R1,R0
   \   00000488   0810D7E5           LDRB     R1,[R7, #+8]
   \   0000048C   920101E0           MUL      R1,R2,R1
   \   00000490   C4209FE5           LDR      R2,??get_answer_9+0x34  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 288
   \   00000494   010040E0           SUB      R0,R0,R1
   \   00000498   0910D7E5           LDRB     R1,[R7, #+9]
   \   0000049C   930101E0           MUL      R1,R3,R1
   \   000004A0   010040E0           SUB      R0,R0,R1
   \   000004A4   0A10D7E5           LDRB     R1,[R7, #+10]
   \   000004A8   014050E0           SUBS     R4,R0,R1
   \   000004AC   500BA043           MOVMI    R0,#+81920
   \   000004B0   460D8043           ORRMI    R0,R0,#0x1180
   \   000004B4   04408040           ADDMI    R4,R0,R4
   \   000004B8   010084E2           ADD      R0,R4,#+1
   \   000004BC   01002DE9           PUSH     {R0}
   \   000004C0   0430A0E1           MOV      R3,R4
   \   000004C4   FF10A0E3           MOV      R1,#+255
   \   000004C8   0A00A0E1           MOV      R0,R10
   \   000004CC   1B0100EF           SWI      +283
   \   000004D0   88109FE5           LDR      R1,??get_answer_9+0x38  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 308
   \   000004D4   0420A0E1           MOV      R2,R4
   \   000004D8   84409FE5           LDR      R4,??get_answer_9+0x3C  ;; janis
   \   000004DC   B400A0E3           MOV      R0,#+180
   \   000004E0   4C0D80E3           ORR      R0,R0,#0x1300
   \   000004E4   050080E0           ADD      R0,R0,R5
   \   000004E8   160000EF           SWI      +22
   \   000004EC   460100EF           SWI      +326
   \   000004F0   000094E5           LDR      R0,[R4, #+0]
   \   000004F4   04D08DE2           ADD      SP,SP,#+4
   \   000004F8   010050E3           CMP      R0,#+1
   \   000004FC   C8FFFF1A           BNE      ??get_answer_24
   \   00000500   0A10A0E1           MOV      R1,R10
   \   00000504   0100A0E3           MOV      R0,#+1
   \   00000508   480100EF           SWI      +328
   \   0000050C   0000A0E3           MOV      R0,#+0
   \   00000510   000084E5           STR      R0,[R4, #+0]
   \   00000514   C2FFFFEA           B        ??get_answer_24
   2530                }
   2531              }
   2532            }
   2533            RXstate=i;
   \                     ??get_answer_8:
   \   00000518   408185E5           STR      R8,[R5, #+320]
   2534            //  GBS_StartTimerProc(&tmr_dorecv,3000,dorecv);
   2535            //  SMART_REDRAW();
   2536          }
   \                     ??get_answer_1:
   \   0000051C   1CD08DE2           ADD      SP,SP,#+28
   \   00000520   40DE8DE2           ADD      SP,SP,#+1024
   \   00000524   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??get_answer_9:
   \   00000528   25730000           DC8      "%s",+0
   \   0000052C   ........           DC32     RXbuf
   \   00000530   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 224
   \   00000534   ........           DC32     sndStartup
   \   00000538   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 236
   \   0000053C   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 248
   \   00000540   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 256
   \   00000544   ........           DC32     ignor_list
   \   00000548   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 264
   \   0000054C   ........           DC32     sndMsg
   \   00000550   ........           DC32     sndMsg2
   \   00000554   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 276
   \   00000558   ........           DC32     sndMsgSent
   \   0000055C   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 288
   \   00000560   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 308
   \   00000564   ........           DC32     janis
   2537          
   2538          
   2539          extern int main_count;
   2540          
   2541          //=====================add to main info====================
   2542          
   2543          //int main_d;
   2544          char a_txt[45];
   2545          char s_txt[45];
   2546          char d_txt[45];
   2547          char f_txt[45];
   2548          char g_txt[45];
   2549          //char de[64];
   2550          //char du[38];
   2551          extern const unsigned int msg_d_x;
   2552          extern const unsigned int msg_d_y;
   2553          
   2554          

   \                                 In segment CODE, align 4, keep-with-next
   2555          void AddToMain(const char *nameu,char *si)
   2556          {
   \                     AddToMain:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   08D04DE2           SUB      SP,SP,#+8
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0180A0E1           MOV      R8,R1
   2557            char *de=malloc(64);
   \   00000010   4000A0E3           MOV      R0,#+64
   \   00000014   140000EF           SWI      +20
   \   00000018   0050A0E1           MOV      R5,R0
   2558            int text_l;
   2559            int iz;
   2560            int name_l;
   2561            name_l=0;
   2562            text_l=0;
   2563            name_l=strlen(nameu);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   1B0000EF           SWI      +27
   2564          //  char *du=malloc(64);a_txt
   2565            iz=0;
   \   00000024   0070A0E3           MOV      R7,#+0
   2566          #ifdef ELKA
   2567            text_l=38-name_l;
   \   00000028   269060E2           RSB      R9,R0,#+38
   2568          #else
   2569            text_l=20-name_l;
   2570          #endif
   2571            
   2572            if(strlen(si)>text_l)
   \   0000002C   0060A0E3           MOV      R6,#+0
   \   00000030   0800A0E1           MOV      R0,R8
   \   00000034   1B0000EF           SWI      +27
   \   00000038   000059E1           CMP      R9,R0
   \   0000003C   0800003A           BCC      ??AddToMain_0
   2573            {
   2574              /*
   2575              char *du=malloc(text_l);
   2576              strncpy(du,si,text_l);
   2577              sprintf(de,"%s%s",du,"...");
   2578              mfree(du);
   2579            }
   2580              */
   2581            while(text_l!=0)
   2582            {
   2583              de[iz]=si[iz];
   2584              iz++;
   2585              text_l--;
   2586            }
   2587            de[iz]='.';
   2588            iz++;
   2589            de[iz]='.';
   2590            iz++;
   2591            de[iz]='.';
   2592            iz++;
   2593            de[iz]='\0';
   2594            }
   2595            else
   2596              strcpy(de, si);
   \   00000040   0810A0E1           MOV      R1,R8
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   1A0000EF           SWI      +26
   2597            iz=0;
   \                     ??AddToMain_1:
   \   0000004C   0070A0E3           MOV      R7,#+0
   \   00000050   160000EA           B        ??AddToMain_2
   \                     ??AddToMain_3:
   \   00000054   0810D7E7           LDRB     R1,[R7, +R8]
   \   00000058   019049E2           SUB      R9,R9,#+1
   \   0000005C   0510C7E7           STRB     R1,[R7, +R5]
   \   00000060   0070A0E1           MOV      R7,R0
   \                     ??AddToMain_0:
   \   00000064   010087E2           ADD      R0,R7,#+1
   \   00000068   000059E3           CMP      R9,#+0
   \   0000006C   F8FFFF1A           BNE      ??AddToMain_3
   \   00000070   2E10A0E3           MOV      R1,#+46
   \   00000074   0510C7E7           STRB     R1,[R7, +R5]
   \   00000078   0510C0E7           STRB     R1,[R0, +R5]
   \   0000007C   017080E2           ADD      R7,R0,#+1
   \   00000080   0510C7E7           STRB     R1,[R7, +R5]
   \   00000084   050087E0           ADD      R0,R7,R5
   \   00000088   0160C0E5           STRB     R6,[R0, #+1]
   \   0000008C   EEFFFFEA           B        ??AddToMain_1
   2598            while(strlen(de)!=iz)
   2599            {
   2600          //    if(d[i]==0x2A) d[i]=0x20;
   2601          //    if(d[i]==0x27) d[i]=0x20;
   2602          //    if(d[i]==0x22) d[i]=0x20;
   2603          //    if(d[i]==0x26) d[i]=0x20;
   2604          //    if(d[i]==0x3D) d[i]=0x20;
   2605          //    if(d[i]==0x3C) d[i]=0x20;
   2606          //    if(d[i]==0x3E) d[i]=0x20;
   2607          //    if(d[i]==0x7B) d[i]=0x20;
   2608          //    if(d[i]==0x7D) d[i]=0x20;
   2609          //    if(d[i]==0x5B) d[i]=0x20;
   2610          //    if(d[i]==0x5D) d[i]=0x20;
   2611          //    if(d[i]==0x23) d[i]=0x20;
   2612          //    if(d[i]==0x2F) d[i]=0x20;
   2613          //    if(d[i]==0x5C) d[i]=0x20;
   2614          //    if(d[i]==0x7E) d[i]=0x20;
   2615          //    if(d[i]==0x5E) d[i]=0x20;
   2616          //   if(d[i]==0xAC) d[i]=0x20;
   2617          //    if(d[i]==0xA3) d[i]=0x20;
   2618          //    if(d[i]==0x24) d[i]=0x20;
   2619          //    if(d[i]==0xA5) d[i]=0x20;
   2620              if(de[iz]==0x0D) de[iz]=0x20;
   \                     ??AddToMain_4:
   \   00000090   0510D7E7           LDRB     R1,[R7, +R5]
   \   00000094   2000A0E3           MOV      R0,#+32
   \   00000098   0D0051E3           CMP      R1,#+13
   \   0000009C   0500C707           STRBEQ   R0,[R7, +R5]
   2621              if(de[iz]==0x0A) de[iz]=0x20;
   \   000000A0   0510D7E7           LDRB     R1,[R7, +R5]
   \   000000A4   0A0051E3           CMP      R1,#+10
   \   000000A8   0500C707           STRBEQ   R0,[R7, +R5]
   2622              iz++;
   \   000000AC   017087E2           ADD      R7,R7,#+1
   2623            }
   \                     ??AddToMain_2:
   \   000000B0   0500A0E1           MOV      R0,R5
   \   000000B4   1B0000EF           SWI      +27
   \   000000B8   070050E1           CMP      R0,R7
   \   000000BC   F3FFFF1A           BNE      ??AddToMain_4
   2624            de[iz]='\0';
   2625            if(main_count==0) sprintf(a_txt, "%s: %s", nameu,de);
   \   000000C0   ........           LDR      R8,??DataTable75  ;; main_count
   \   000000C4   0560C7E7           STRB     R6,[R7, +R5]
   \   000000C8   ........           LDR      R6,??DataTable76  ;; S_ICONS
   \   000000CC   44719FE5           LDR      R7,??AddToMain_5  ;; `?<Constant "%s: %s">`
   \   000000D0   F810A0E3           MOV      R1,#+248
   \   000000D4   601D81E3           ORR      R1,R1,#0x1800
   \   000000D8   061081E0           ADD      R1,R1,R6
   \   000000DC   04108DE5           STR      R1,[SP, #+4]
   \   000000E0   000098E5           LDR      R0,[R8, #+0]
   \   000000E4   000050E3           CMP      R0,#+0
   \   000000E8   0400001A           BNE      ??AddToMain_6
   \   000000EC   04009DE5           LDR      R0,[SP, #+4]
   \   000000F0   0530A0E1           MOV      R3,R5
   \   000000F4   0420A0E1           MOV      R2,R4
   \   000000F8   0710A0E1           MOV      R1,R7
   \   000000FC   160000EF           SWI      +22
   2626            if(main_count==1) sprintf(s_txt, "%s: %s", nameu,de);
   \                     ??AddToMain_6:
   \   00000100   2810A0E3           MOV      R1,#+40
   \   00000104   641D81E3           ORR      R1,R1,#0x1900
   \   00000108   061081E0           ADD      R1,R1,R6
   \   0000010C   00108DE5           STR      R1,[SP, #+0]
   \   00000110   000098E5           LDR      R0,[R8, #+0]
   \   00000114   010050E3           CMP      R0,#+1
   \   00000118   0400001A           BNE      ??AddToMain_7
   \   0000011C   00009DE5           LDR      R0,[SP, #+0]
   \   00000120   0530A0E1           MOV      R3,R5
   \   00000124   0420A0E1           MOV      R2,R4
   \   00000128   0710A0E1           MOV      R1,R7
   \   0000012C   160000EF           SWI      +22
   2627            if(main_count==2) sprintf(d_txt, "%s: %s", nameu,de);
   \                     ??AddToMain_7:
   \   00000130   5800A0E3           MOV      R0,#+88
   \   00000134   640D80E3           ORR      R0,R0,#0x1900
   \   00000138   069080E0           ADD      R9,R0,R6
   \   0000013C   000098E5           LDR      R0,[R8, #+0]
   \   00000140   020050E3           CMP      R0,#+2
   \   00000144   0400001A           BNE      ??AddToMain_8
   \   00000148   0530A0E1           MOV      R3,R5
   \   0000014C   0420A0E1           MOV      R2,R4
   \   00000150   0710A0E1           MOV      R1,R7
   \   00000154   0900A0E1           MOV      R0,R9
   \   00000158   160000EF           SWI      +22
   2628            if(main_count==3) sprintf(f_txt, "%s: %s", nameu,de);
   \                     ??AddToMain_8:
   \   0000015C   8800A0E3           MOV      R0,#+136
   \   00000160   640D80E3           ORR      R0,R0,#0x1900
   \   00000164   06A080E0           ADD      R10,R0,R6
   \   00000168   000098E5           LDR      R0,[R8, #+0]
   \   0000016C   030050E3           CMP      R0,#+3
   \   00000170   0400001A           BNE      ??AddToMain_9
   \   00000174   0530A0E1           MOV      R3,R5
   \   00000178   0420A0E1           MOV      R2,R4
   \   0000017C   0710A0E1           MOV      R1,R7
   \   00000180   0A00A0E1           MOV      R0,R10
   \   00000184   160000EF           SWI      +22
   2629            if(main_count==4) sprintf(g_txt, "%s: %s", nameu,de);
   \                     ??AddToMain_9:
   \   00000188   B800A0E3           MOV      R0,#+184
   \   0000018C   640D80E3           ORR      R0,R0,#0x1900
   \   00000190   06B080E0           ADD      R11,R0,R6
   \   00000194   000098E5           LDR      R0,[R8, #+0]
   \   00000198   040050E3           CMP      R0,#+4
   \   0000019C   0400001A           BNE      ??AddToMain_10
   \   000001A0   0530A0E1           MOV      R3,R5
   \   000001A4   0420A0E1           MOV      R2,R4
   \   000001A8   0710A0E1           MOV      R1,R7
   \   000001AC   0B00A0E1           MOV      R0,R11
   \   000001B0   160000EF           SWI      +22
   2630            if(main_count>4)
   \                     ??AddToMain_10:
   \   000001B4   000098E5           LDR      R0,[R8, #+0]
   \   000001B8   050050E3           CMP      R0,#+5
   \   000001BC   100000BA           BLT      ??AddToMain_11
   2631            {
   2632              strcpy(a_txt, s_txt);
   \   000001C0   00109DE5           LDR      R1,[SP, #+0]
   \   000001C4   04009DE5           LDR      R0,[SP, #+4]
   \   000001C8   1A0000EF           SWI      +26
   2633              strcpy(s_txt, d_txt);
   \   000001CC   00009DE5           LDR      R0,[SP, #+0]
   \   000001D0   0910A0E1           MOV      R1,R9
   \   000001D4   1A0000EF           SWI      +26
   2634              strcpy(d_txt, f_txt);
   \   000001D8   0A10A0E1           MOV      R1,R10
   \   000001DC   0900A0E1           MOV      R0,R9
   \   000001E0   1A0000EF           SWI      +26
   2635              strcpy(f_txt, g_txt);
   \   000001E4   0B10A0E1           MOV      R1,R11
   \   000001E8   0A00A0E1           MOV      R0,R10
   \   000001EC   1A0000EF           SWI      +26
   2636              sprintf(g_txt, "%s: %s", nameu,de);
   \   000001F0   0530A0E1           MOV      R3,R5
   \   000001F4   0420A0E1           MOV      R2,R4
   \   000001F8   0710A0E1           MOV      R1,R7
   \   000001FC   0B00A0E1           MOV      R0,R11
   \   00000200   160000EF           SWI      +22
   2637            }
   2638            mfree(de);
   \                     ??AddToMain_11:
   \   00000204   0500A0E1           MOV      R0,R5
   \   00000208   150000EF           SWI      +21
   2639            main_d=1;
   \   0000020C   0100A0E3           MOV      R0,#+1
   \   00000210   880186E5           STR      R0,[R6, #+392]
   2640          }  
   \   00000214   F38FBDE8           POP      {R0,R1,R4-R11,PC}  ;; return
   \                     ??AddToMain_5:
   \   00000218   ........           DC32     `?<Constant "%s: %s">`
   2641          //======================add to main info================
   2642          int NEW_MSG;
   2643              

   \                                 In segment CODE, align 4, keep-with-next
   2644          void AddStringToLog(CLIST *t, int code, char *s, const char *name, unsigned int IDforACK)
   2645          {
   \                     AddStringToLog:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   90D04DE2           SUB      SP,SP,#+144
   \   00000008   AC809DE5           LDR      R8,[SP, #+172]
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0150A0E1           MOV      R5,R1
   \   00000014   0270A0E1           MOV      R7,R2
   \   00000018   0360A0E1           MOV      R6,R3
   2646            char hs[128], *lastX;
   2647            TTime tt;
   2648            TDate d;
   2649            GetDateTime(&d,&tt);
   \   0000001C   0D10A0E1           MOV      R1,SP
   \   00000020   08008DE2           ADD      R0,SP,#+8
   \   00000024   B40000EF           SWI      +180
   2650            int i;
   2651            
   2652          //  if(code == 3 && !LOG_XTXT) return; //Нl нуcно nоodrн?nь cennnrnуn
   2653            if (code==3 && NOT_LOG_SAME_XTXT)
   \   00000028   030055E3           CMP      R5,#+3
   \   0000002C   1600001A           BNE      ??AddStringToLog_0
   \   00000030   F0019FE5           LDR      R0,??AddStringToLog_1  ;; NOT_LOG_SAME_XTXT
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   1200000A           BEQ      ??AddStringToLog_0
   2654            {
   2655              if(!t->isactive && HISTORY_BUFFER) GetHistory(t, 64<<HISTORY_BUFFER);
   \   00000040   800094E5           LDR      R0,[R4, #+128]
   \   00000044   000050E3           CMP      R0,#+0
   \   00000048   0700001A           BNE      ??AddStringToLog_2
   \   0000004C   ........           LDR      R0,??DataTable77  ;; HISTORY_BUFFER
   \   00000050   000090E5           LDR      R0,[R0, #+0]
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   0300000A           BEQ      ??AddStringToLog_2
   \   0000005C   4010A0E3           MOV      R1,#+64
   \   00000060   1110A0E1           LSL      R1,R1,R0
   \   00000064   0400A0E1           MOV      R0,R4
   \   00000068   ........           _BLF     GetHistory,??GetHistory??rA
   2656              lastX = GetLastXTextLOGQ(t);
   \                     ??AddStringToLog_2:
   \   0000006C   0400A0E1           MOV      R0,R4
   \   00000070   ........           BL       GetLastXTextLOGQ
   2657              if(lastX)
   \   00000074   000050E3           CMP      R0,#+0
   \   00000078   0300000A           BEQ      ??AddStringToLog_0
   2658                if(strcmp(lastX, s) == 0) return;
   \   0000007C   0710A0E1           MOV      R1,R7
   \   00000080   190000EF           SWI      +25
   \   00000084   000050E3           CMP      R0,#+0
   \   00000088   6400000A           BEQ      ??AddStringToLog_3
   2659            }
   2660            
   2661            snprintf(hs,127,"%02d:%02d %02d-%02d %s:\r\n",tt.hour,tt.min,d.day,d.month,name);
   \                     ??AddStringToLog_0:
   \   0000008C   98919FE5           LDR      R9,??AddStringToLog_1+0x4  ;; `?<Constant "%02d:%02d %02d-%02d %...">`
   \   00000090   0600A0E1           MOV      R0,R6
   \   00000094   01002DE9           PUSH     {R0}
   \   00000098   1000DDE5           LDRB     R0,[SP, #+16]
   \   0000009C   0920A0E1           MOV      R2,R9
   \   000000A0   7F10A0E3           MOV      R1,#+127
   \   000000A4   01002DE9           PUSH     {R0}
   \   000000A8   1500DDE5           LDRB     R0,[SP, #+21]
   \   000000AC   01002DE9           PUSH     {R0}
   \   000000B0   0D00DDE5           LDRB     R0,[SP, #+13]
   \   000000B4   01002DE9           PUSH     {R0}
   \   000000B8   1030DDE5           LDRB     R3,[SP, #+16]
   \   000000BC   20008DE2           ADD      R0,SP,#+32
   \   000000C0   1B0100EF           SWI      +283
   2662            if(code != 3 || LOG_XTXT) //Нуcно nоodrн?nь cennnrnуn
   \   000000C4   030055E3           CMP      R5,#+3
   \   000000C8   10D08DE2           ADD      SP,SP,#+16
   \   000000CC   0300001A           BNE      ??AddStringToLog_4
   \   000000D0   58019FE5           LDR      R0,??AddStringToLog_1+0x8  ;; LOG_XTXT
   \   000000D4   000090E5           LDR      R0,[R0, #+0]
   \   000000D8   000050E3           CMP      R0,#+0
   \   000000DC   0400000A           BEQ      ??AddStringToLog_5
   2663              Add2History(t, hs, s, code); // Зrdcnь ocnnоdc
   \                     ??AddStringToLog_4:
   \   000000E0   0530A0E1           MOV      R3,R5
   \   000000E4   0720A0E1           MOV      R2,R7
   \   000000E8   10108DE2           ADD      R1,SP,#+16
   \   000000EC   0400A0E1           MOV      R0,R4
   \   000000F0   ........           _BLF     Add2History,??Add2History??rA
   2664          //  ShowMSG(1,(int)t);
   2665          //  ShowMSG(1,(int)s);  // Запись хистори
   2666            LOGQ *p=NewLOGQ(s);
   \                     ??AddStringToLog_5:
   \   000000F4   0700A0E1           MOV      R0,R7
   \   000000F8   ........           BL       NewLOGQ
   \   000000FC   0070A0E1           MOV      R7,R0
   2667            snprintf(p->hdr,79,"%02d:%02d %02d-%02d %s:",tt.hour,tt.min,d.day,d.month,name);
   \   00000100   40002DE9           PUSH     {R6}
   \   00000104   1000DDE5           LDRB     R0,[SP, #+16]
   \   00000108   1C2089E2           ADD      R2,R9,#+28
   \   0000010C   4F10A0E3           MOV      R1,#+79
   \   00000110   01002DE9           PUSH     {R0}
   \   00000114   1500DDE5           LDRB     R0,[SP, #+21]
   \   00000118   01002DE9           PUSH     {R0}
   \   0000011C   0D00DDE5           LDRB     R0,[SP, #+13]
   \   00000120   01002DE9           PUSH     {R0}
   \   00000124   1030DDE5           LDRB     R3,[SP, #+16]
   \   00000128   100087E2           ADD      R0,R7,#+16
   \   0000012C   1B0100EF           SWI      +283
   2668            p->type=code;
   \   00000130   0C5087E5           STR      R5,[R7, #+12]
   2669            p->ID=IDforACK;  //0-32767
   \   00000134   088087E5           STR      R8,[R7, #+8]
   2670            i=AddLOGQ(&t->log,p);
   \   00000138   0710A0E1           MOV      R1,R7
   \   0000013C   740084E2           ADD      R0,R4,#+116
   \   00000140   ........           BL       AddLOGQ
   \   00000144   0060A0E1           MOV      R6,R0
   \   00000148   150056E3           CMP      R6,#+21
   \   0000014C   10D08DE2           ADD      SP,SP,#+16
   \   00000150   090000BA           BLT      ??AddStringToLog_6
   2671            while(i>MAXLOGMSG)
   2672            {
   2673              if (t->log==t->last_log) t->last_log=t->last_log->next;
   \                     ??AddStringToLog_7:
   \   00000154   7C0094E5           LDR      R0,[R4, #+124]
   \   00000158   741094E5           LDR      R1,[R4, #+116]
   2674              RemoveLOGQ(&t->log,t->log);
   2675              i--;
   \   0000015C   016046E2           SUB      R6,R6,#+1
   \   00000160   000051E1           CMP      R1,R0
   \   00000164   00009005           LDREQ    R0,[R0, #+0]
   \   00000168   7C008405           STREQ    R0,[R4, #+124]
   \   0000016C   740084E2           ADD      R0,R4,#+116
   \   00000170   ........           BL       RemoveLOGQ
   2676            }
   \   00000174   150056E3           CMP      R6,#+21
   \   00000178   F5FFFFAA           BGE      ??AddStringToLog_7
   2677            t->msg_count=i;
   \                     ??AddStringToLog_6:
   \   0000017C   846084E5           STR      R6,[R4, #+132]
   2678            if (!t->last_log) t->last_log=p;
   \   00000180   7C0094E5           LDR      R0,[R4, #+124]
   2679            if (code==3)
   \   00000184   ........           LDR      R6,??DataTable112  ;; S_ICONS
   \   00000188   000050E3           CMP      R0,#+0
   \   0000018C   7C708405           STREQ    R7,[R4, #+124]
   \   00000190   030055E3           CMP      R5,#+3
   \   00000194   0D00001A           BNE      ??AddStringToLog_8
   2680            {
   2681              if (edchat_id)
   \   00000198   740196E5           LDR      R0,[R6, #+372]
   \   0000019C   000050E3           CMP      R0,#+0
   \   000001A0   1C00000A           BEQ      ??AddStringToLog_9
   2682              {
   2683                void *data=FindGUIbyId(edchat_id,NULL);
   \   000001A4   740196E5           LDR      R0,[R6, #+372]
   \   000001A8   0010A0E3           MOV      R1,#+0
   \   000001AC   090200EF           SWI      +521
   2684                if (data)
   \   000001B0   000050E3           CMP      R0,#+0
   \   000001B4   1700000A           BEQ      ??AddStringToLog_9
   2685                {
   2686          	EDCHAT_STRUCT *ed_struct;
   2687          	ed_struct=EDIT_GetUserPointer(data);
   \   000001B8   DF0100EF           SWI      +479
   2688          	if (ed_struct) 
   \   000001BC   000050E3           CMP      R0,#+0
   \   000001C0   1400000A           BEQ      ??AddStringToLog_9
   2689          	{
   2690          	  if (ed_struct->ed_contact==t)
   \   000001C4   000090E5           LDR      R0,[R0, #+0]
   \   000001C8   040050E1           CMP      R0,R4
   \   000001CC   1100001A           BNE      ??AddStringToLog_9
   2691          	  {
   2692          	    goto L_INC;
   2693          	  }
   2694          	}
   2695                }
   2696              }
   2697              goto L_NOINC;
   2698            }
   2699          L_INC:
   2700            if (!t->isunread) total_unread++;
   \                     ??AddStringToLog_8:
   \   000001D0   640094E5           LDR      R0,[R4, #+100]
   \   000001D4   000050E3           CMP      R0,#+0
   \   000001D8   C0009605           LDREQ    R0,[R6, #+192]
   \   000001DC   01008002           ADDEQ    R0,R0,#+1
   \   000001E0   C0008605           STREQ    R0,[R6, #+192]
   2701            if(NEW_MSG==1)
   \   000001E4   980196E5           LDR      R0,[R6, #+408]
   \   000001E8   010050E3           CMP      R0,#+1
   \   000001EC   0700001A           BNE      ??AddStringToLog_10
   2702            {
   2703            t->unread_msg++;
   \   000001F0   680094E5           LDR      R0,[R4, #+104]
   \   000001F4   010080E2           ADD      R0,R0,#+1
   \   000001F8   680084E5           STR      R0,[R4, #+104]
   2704            total_unread2++;
   \   000001FC   C40096E5           LDR      R0,[R6, #+196]
   \   00000200   010080E2           ADD      R0,R0,#+1
   \   00000204   C40086E5           STR      R0,[R6, #+196]
   2705            NEW_MSG=0;
   \   00000208   0000A0E3           MOV      R0,#+0
   \   0000020C   980186E5           STR      R0,[R6, #+408]
   2706            }
   2707            t->isunread=1;
   \                     ??AddStringToLog_10:
   \   00000210   0100A0E3           MOV      R0,#+1
   \   00000214   640084E5           STR      R0,[R4, #+100]
   2708          L_NOINC:
   2709            ChangeContactPos(t);
   \                     ??AddStringToLog_9:
   \   00000218   0400A0E1           MOV      R0,R4
   \   0000021C   ........           _BLF     ChangeContactPos,??ChangeContactPos??rA
   2710          }
   \                     ??AddStringToLog_3:
   \   00000220   90D08DE2           ADD      SP,SP,#+144      ;; stack cleaning
   \   00000224   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??AddStringToLog_1:
   \   00000228   ........           DC32     NOT_LOG_SAME_XTXT
   \   0000022C   ........           DC32     `?<Constant "%02d:%02d %02d-%02d %...">`
   \   00000230   ........           DC32     LOG_XTXT
   2711          
   2712          void ParseAnswer(WSHDR *ws, const char *s);
   2713          
   2714          int time_to_stop_t9;
   2715          

   \                                 In segment CODE, align 4, keep-with-next
   2716          void ParseXStatusText(WSHDR *ws, const char *s, int color)
   2717          {
   \                     ParseXStatusText:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
   \   0000000C   0260A0E1           MOV      R6,R2
   2718            int c;
   2719            int flag=0;
   \   00000010   0070A0E3           MOV      R7,#+0
   2720            CutWSTR(ws,0);
   \   00000014   0010A0E3           MOV      R1,#+0
   \   00000018   260100EF           SWI      +294
   2721            if (strlen(s)==1) return;
   \   0000001C   0500A0E1           MOV      R0,R5
   \   00000020   1B0000EF           SWI      +27
   \   00000024   010050E3           CMP      R0,#+1
   \   00000028   F080BD08           POPEQ    {R4-R7,PC}
   2722            wsAppendChar(ws,0xE008);
   \   0000002C   0810A0E3           MOV      R1,#+8
   \   00000030   E01C81E3           ORR      R1,R1,#0xE000
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   1C0000EF           SWI      +28
   2723            wsAppendChar(ws,color);
   \   0000003C   0610A0E1           MOV      R1,R6
   \   00000040   0400A0E1           MOV      R0,R4
   \   00000044   1C0000EF           SWI      +28
   2724            wsAppendChar(ws,0xE013);
   \   00000048   1310A0E3           MOV      R1,#+19
   \   0000004C   E01C81E3           ORR      R1,R1,#0xE000
   \   00000050   0A0000EA           B        ??ParseXStatusText_0
   2725            while((c=*s++))
   2726            {
   2727              if (c==13)
   \                     ??ParseXStatusText_1:
   \   00000054   0D0050E3           CMP      R0,#+13
   2728              {
   2729                if (!flag)
   \   00000058   00005703           CMPEQ    R7,#+0
   \   0000005C   0500001A           BNE      ??ParseXStatusText_2
   2730                {
   2731                  flag=1;
   \   00000060   0170A0E3           MOV      R7,#+1
   2732                  wsAppendChar(ws,0xE012);
   \   00000064   1210A0E3           MOV      R1,#+18
   \   00000068   E01C81E3           ORR      R1,R1,#0xE000
   \   0000006C   0400A0E1           MOV      R0,R4
   \   00000070   1C0000EF           SWI      +28
   2733                  c=' ';
   \   00000074   2000A0E3           MOV      R0,#+32
   2734                }
   2735              }
   2736              wsAppendChar(ws,char8to16(c));
   \                     ??ParseXStatusText_2:
   \   00000078   ........           _BLF     char8to16,??char8to16??rA
   \   0000007C   0010A0E1           MOV      R1,R0
   \                     ??ParseXStatusText_0:
   \   00000080   0400A0E1           MOV      R0,R4
   \   00000084   1C0000EF           SWI      +28
   2737            }
   \   00000088   ........           LDRB     R0,[R5], #+1
   \   0000008C   000050E3           CMP      R0,#+0
   \   00000090   EFFFFF1A           BNE      ??ParseXStatusText_1
   \   00000094   F080BDE8           POP      {R4-R7,PC}       ;; return
   2738          }
   2739          //Добавление итемов в чат при получении нового сообщения

   \                                 In segment CODE, align 4, keep-with-next
   2740          void AddMsgToChat(void *data)
   2741          {
   \                     AddMsgToChat:
   \   00000000   F14F2DE9           PUSH     {R0,R4-R11,LR}
   \   00000004   40D04DE2           SUB      SP,SP,#+64
   2742            LOGQ *p;
   2743            EDITCONTROL ec;
   2744            EDITC_OPTIONS ec_options;
   2745            EDCHAT_STRUCT *ed_struct;
   2746            int j;
   2747            int color, font, type;
   2748            int zc;
   2749            if (!data) return;
   \   00000008   000050E3           CMP      R0,#+0
   \   0000000C   C900000A           BEQ      ??AddMsgToChat_0
   2750            ed_struct=EDIT_GetUserPointer(data);
   \   00000010   DF0100EF           SWI      +479
   \   00000014   0060B0E1           MOVS     R6,R0
   2751            if (!ed_struct) return;
   \   00000018   C600000A           BEQ      ??AddMsgToChat_0
   2752            if (!ed_struct->ed_contact->isunread) return;
   \   0000001C   000096E5           LDR      R0,[R6, #+0]
   \   00000020   641090E5           LDR      R1,[R0, #+100]
   \   00000024   000051E3           CMP      R1,#+0
   \   00000028   C200000A           BEQ      ??AddMsgToChat_0
   2753              
   2754            p=ed_struct->ed_contact->last_log;
   \   0000002C   7C7090E5           LDR      R7,[R0, #+124]
   2755            if (p)
   \   00000030   ........           LDR      R8,??DataTable112  ;; S_ICONS
   \   00000034   000057E3           CMP      R7,#+0
   \   00000038   A800000A           BEQ      ??AddMsgToChat_1
   2756            {
   2757              while(p)
   2758              {
   2759                font = ED_H_FONT_SIZE;
   2760                if ((zc=p->acked&3))
   \                     ??AddMsgToChat_2:
   \   0000003C   ........           LDR      R2,??DataTable80  ;; ED_X_FONT_SIZE
   \   00000040   ........           LDR      R0,??DataTable102  ;; ED_H_FONT_SIZE
   \   00000044   002092E5           LDR      R2,[R2, #+0]
   \   00000048   ........           LDR      R1,??DataTable82  ;; X_COLOR
   \   0000004C   00A090E5           LDR      R10,[R0, #+0]
   \   00000050   040097E5           LDR      R0,[R7, #+4]
   \   00000054   00208DE5           STR      R2,[SP, #+0]
   \   00000058   004091E5           LDR      R4,[R1, #+0]
   \   0000005C   ........           LDR      R1,??DataTable83  ;; O_ED_X_FONT_SIZE
   \   00000060   030010E2           ANDS     R0,R0,#0x3
   \   00000064   009091E5           LDR      R9,[R1, #+0]
   \   00000068   ........           LDR      R1,??DataTable84  ;; O_X_COLOR
   \   0000006C   005091E5           LDR      R5,[R1, #+0]
   \   00000070   ........           LDR      R1,??DataTable99  ;; I_COLOR
   \   00000074   00B091E5           LDR      R11,[R1, #+0]
   \   00000078   0300000A           BEQ      ??AddMsgToChat_3
   2761                {
   2762          	if (zc==1)
   \   0000007C   010050E3           CMP      R0,#+1
   \   00000080   1E00001A           BNE      ??AddMsgToChat_4
   2763          	  color=ACK_COLOR; //Зеленый
   \   00000084   ........           LDR      R0,??DataTable95  ;; ACK_COLOR
   \   00000088   1B0000EA           B        ??AddMsgToChat_5
   2764          	else
   2765          	  color=I_COLOR;
   2766          //#endif
   2767                }
   2768                else
   2769                {
   2770          	if (p->ID==0xFFFFFFFF)
   \                     ??AddMsgToChat_3:
   \   0000008C   080097E5           LDR      R0,[R7, #+8]
   \   00000090   010070E3           CMN      R0,#+1
   \   00000094   1700001A           BNE      ??AddMsgToChat_6
   2771          	  {
   2772                    type = p->type&0x0F;
   \   00000098   0C0097E5           LDR      R0,[R7, #+12]
   \   0000009C   0F1000E2           AND      R1,R0,#0xF
   2773                    if(p->type&0x10)
   \   000000A0   100010E3           TST      R0,#0x10
   \   000000A4   0B00000A           BEQ      ??AddMsgToChat_7
   2774                    {
   2775                      color = (type==1)?O_I_COLOR:((type==3)?O_X_COLOR:O_TO_COLOR);
   \   000000A8   010051E3           CMP      R1,#+1
   \   000000AC   ........           LDREQ    R0,??DataTable97  ;; O_I_COLOR
   \   000000B0   0400000A           BEQ      ??AddMsgToChat_8
   \   000000B4   030051E3           CMP      R1,#+3
   \   000000B8   05B0A001           MOVEQ    R11,R5
   \   000000BC   09A0A001           MOVEQ    R10,R9
   \   000000C0   0E00000A           BEQ      ??AddMsgToChat_4
   \   000000C4   ........           LDR      R0,??DataTable96  ;; O_TO_COLOR
   \                     ??AddMsgToChat_8:
   \   000000C8   00B090E5           LDR      R11,[R0, #+0]
   \   000000CC   ........           LDR      R0,??DataTable101  ;; O_ED_H_FONT_SIZE
   \   000000D0   00A090E5           LDR      R10,[R0, #+0]
   \   000000D4   090000EA           B        ??AddMsgToChat_4
   2776                      font = (type==3)?O_ED_X_FONT_SIZE:O_ED_H_FONT_SIZE;
   2777                    }
   2778                    else
   2779                    {
   2780                      color = (type==1)?I_COLOR:((type==3)?X_COLOR:TO_COLOR);
   \                     ??AddMsgToChat_7:
   \   000000D8   010051E3           CMP      R1,#+1
   \   000000DC   0700000A           BEQ      ??AddMsgToChat_4
   \   000000E0   030051E3           CMP      R1,#+3
   \   000000E4   04B0A001           MOVEQ    R11,R4
   \   000000E8   02A0A001           MOVEQ    R10,R2
   \   000000EC   0300000A           BEQ      ??AddMsgToChat_4
   \   000000F0   ........           LDR      R0,??DataTable98  ;; TO_COLOR
   \   000000F4   000000EA           B        ??AddMsgToChat_5
   2781                      font = (type==3)?ED_X_FONT_SIZE:ED_H_FONT_SIZE;
   2782                    }
   2783                  }
   2784                  else
   2785          	  color=UNACK_COLOR; //?????
   \                     ??AddMsgToChat_6:
   \   000000F8   ........           LDR      R0,??DataTable100  ;; UNACK_COLOR
   \                     ??AddMsgToChat_5:
   \   000000FC   00B090E5           LDR      R11,[R0, #+0]
   2786                }
   2787                PrepareEditControl(&ec);
   \                     ??AddMsgToChat_4:
   \   00000100   14008DE2           ADD      R0,SP,#+20
   \   00000104   640100EF           SWI      +356
   2788                if ((p->type&0x0F)!=3)
   \   00000108   0C0097E5           LDR      R0,[R7, #+12]
   \   0000010C   0F0000E2           AND      R0,R0,#0xF
   \   00000110   030050E3           CMP      R0,#+3
   \   00000114   0800000A           BEQ      ??AddMsgToChat_9
   2789                {
   2790                  ascii2ws(ews,p->hdr);
   \   00000118   DC0098E5           LDR      R0,[R8, #+220]
   \   0000011C   101087E2           ADD      R1,R7,#+16
   \   00000120   ........           _BLF     ascii2ws,??ascii2ws??rA
   2791                  ConstructEditControl(&ec,ECT_HEADER,ECF_APPEND_EOL,ews,ews->wsbody[0]);
   \   00000124   DC3098E5           LDR      R3,[R8, #+220]
   \   00000128   4020A0E3           MOV      R2,#+64
   \   0000012C   000093E5           LDR      R0,[R3, #+0]
   \   00000130   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000134   01002DE9           PUSH     {R0}
   \   00000138   030000EA           B        ??AddMsgToChat_10
   2792                }
   2793                else
   2794                  ConstructEditControl(&ec,ECT_HEADER,ECF_DELSTR,ews,0);      
   \                     ??AddMsgToChat_9:
   \   0000013C   0000A0E3           MOV      R0,#+0
   \   00000140   01002DE9           PUSH     {R0}
   \   00000144   DC3098E5           LDR      R3,[R8, #+220]
   \   00000148   2020A0E3           MOV      R2,#+32
   \                     ??AddMsgToChat_10:
   \   0000014C   0110A0E3           MOV      R1,#+1
   \   00000150   18008DE2           ADD      R0,SP,#+24
   \   00000154   650100EF           SWI      +357
   \   00000158   04D08DE2           ADD      SP,SP,#+4
   2795                PrepareEditCOptions(&ec_options);
   \   0000015C   04008DE2           ADD      R0,SP,#+4
   \   00000160   C80100EF           SWI      +456
   2796                SetPenColorToEditCOptions(&ec_options,color);
   \   00000164   0B10A0E1           MOV      R1,R11
   \   00000168   04008DE2           ADD      R0,SP,#+4
   \   0000016C   CC0100EF           SWI      +460
   2797                SetFontToEditCOptions(&ec_options,font);
   \   00000170   0A10A0E1           MOV      R1,R10
   \   00000174   04008DE2           ADD      R0,SP,#+4
   \   00000178   CA0100EF           SWI      +458
   2798                CopyOptionsToEditControl(&ec,&ec_options);
   \   0000017C   04108DE2           ADD      R1,SP,#+4
   \   00000180   14008DE2           ADD      R0,SP,#+20
   \   00000184   CE0100EF           SWI      +462
   2799                //AddEditControlToEditQend(eq,&ec,ma);
   2800                EDIT_InsertEditControl(data,ed_struct->ed_answer-1,&ec);
   \   00000188   080096E5           LDR      R0,[R6, #+8]
   \   0000018C   14208DE2           ADD      R2,SP,#+20
   \   00000190   011040E2           SUB      R1,R0,#+1
   \   00000194   40009DE5           LDR      R0,[SP, #+64]
   \   00000198   D20100EF           SWI      +466
   2801                ed_struct->ed_answer++;
   \   0000019C   080096E5           LDR      R0,[R6, #+8]
   \   000001A0   010080E2           ADD      R0,R0,#+1
   \   000001A4   080086E5           STR      R0,[R6, #+8]
   2802                if ((p->type&0x0F)!=3)
   \   000001A8   0C0097E5           LDR      R0,[R7, #+12]
   \   000001AC   0F1000E2           AND      R1,R0,#0xF
   \   000001B0   030051E3           CMP      R1,#+3
   \   000001B4   0300000A           BEQ      ??AddMsgToChat_11
   2803                {
   2804                  ParseAnswer(ews,p->text);
   \   000001B8   DC0098E5           LDR      R0,[R8, #+220]
   \   000001BC   601087E2           ADD      R1,R7,#+96
   \   000001C0   ........           BL       ParseAnswer
   \   000001C4   050000EA           B        ??AddMsgToChat_12
   2805                }
   2806                else
   2807                {
   2808                  ParseXStatusText(ews, p->text, (p->type&0x10)?O_X_COLOR:X_COLOR);
   \                     ??AddMsgToChat_11:
   \   000001C8   100010E3           TST      R0,#0x10
   \   000001CC   DC0098E5           LDR      R0,[R8, #+220]
   \   000001D0   0520A011           MOVNE    R2,R5
   \   000001D4   0420A001           MOVEQ    R2,R4
   \   000001D8   601087E2           ADD      R1,R7,#+96
   \   000001DC   ........           BL       ParseXStatusText
   2809                }
   2810                PrepareEditControl(&ec);
   \                     ??AddMsgToChat_12:
   \   000001E0   14008DE2           ADD      R0,SP,#+20
   \   000001E4   640100EF           SWI      +356
   2811                ConstructEditControl(&ec,
   2812                                     ECT_NORMAL_TEXT,
   2813                                     ews->wsbody[0] ? ECF_APPEND_EOL|ECF_DISABLE_T9 : ECF_DELSTR,
   2814                                     ews,ews->wsbody[0]);
   \   000001E8   DC3098E5           LDR      R3,[R8, #+220]
   \   000001EC   000093E5           LDR      R0,[R3, #+0]
   \   000001F0   B010D0E1           LDRH     R1,[R0, #+0]
   \   000001F4   000051E3           CMP      R1,#+0
   \   000001F8   0100A0E1           MOV      R0,R1
   \   000001FC   01002DE9           PUSH     {R0}
   \   00000200   812DA013           MOVNE    R2,#+8256
   \   00000204   2020A003           MOVEQ    R2,#+32
   \   00000208   0310A0E3           MOV      R1,#+3
   \   0000020C   18008DE2           ADD      R0,SP,#+24
   \   00000210   650100EF           SWI      +357
   2815                PrepareEditCOptions(&ec_options);
   \   00000214   08008DE2           ADD      R0,SP,#+8
   \   00000218   C80100EF           SWI      +456
   2816          //#ifdef M75
   2817                if ((p->type&0x0F)!=3)
   \   0000021C   0C0097E5           LDR      R0,[R7, #+12]
   \   00000220   04D08DE2           ADD      SP,SP,#+4
   \   00000224   0F1000E2           AND      R1,R0,#0xF
   \   00000228   030051E3           CMP      R1,#+3
   \   0000022C   0400000A           BEQ      ??AddMsgToChat_13
   2818                {
   2819                  SetFontToEditCOptions(&ec_options,(p->type&0x10)?O_ED_FONT_SIZE:ED_FONT_SIZE);
   \   00000230   100010E3           TST      R0,#0x10
   \   00000234   ........           LDRNE    R0,??DataTable92  ;; O_ED_FONT_SIZE
   \   00000238   ........           LDREQ    R0,??DataTable93  ;; ED_FONT_SIZE
   \   0000023C   001090E5           LDR      R1,[R0, #+0]
   \   00000240   080000EA           B        ??AddMsgToChat_14
   2820                }
   2821                else
   2822                {
   2823                  SetPenColorToEditCOptions(&ec_options,(p->type&0x10)?O_X_COLOR:X_COLOR); 
   \                     ??AddMsgToChat_13:
   \   00000244   100010E3           TST      R0,#0x10
   \   00000248   0510A011           MOVNE    R1,R5
   \   0000024C   0410A001           MOVEQ    R1,R4
   \   00000250   04008DE2           ADD      R0,SP,#+4
   \   00000254   CC0100EF           SWI      +460
   2824                  SetFontToEditCOptions(&ec_options,(p->type&0x10)?O_ED_X_FONT_SIZE:ED_X_FONT_SIZE);
   \   00000258   0C0097E5           LDR      R0,[R7, #+12]
   \   0000025C   100010E3           TST      R0,#0x10
   \   00000260   00109D05           LDREQ    R1,[SP, #+0]
   \   00000264   0910A011           MOVNE    R1,R9
   \                     ??AddMsgToChat_14:
   \   00000268   04008DE2           ADD      R0,SP,#+4
   \   0000026C   CA0100EF           SWI      +458
   2825                }
   2826          //#else
   2827          //      SetFontToEditCOptions(&ec_options,(p->type&0x10)?O_ED_FONT_SIZE:ED_FONT_SIZE);
   2828          //#endif    
   2829                CopyOptionsToEditControl(&ec,&ec_options);
   \   00000270   04108DE2           ADD      R1,SP,#+4
   \   00000274   14008DE2           ADD      R0,SP,#+20
   \   00000278   CE0100EF           SWI      +462
   2830                EDIT_InsertEditControl(data,ed_struct->ed_answer-1,&ec);
   \   0000027C   080096E5           LDR      R0,[R6, #+8]
   \   00000280   14208DE2           ADD      R2,SP,#+20
   \   00000284   011040E2           SUB      R1,R0,#+1
   \   00000288   40009DE5           LDR      R0,[SP, #+64]
   \   0000028C   D20100EF           SWI      +466
   2831                ed_struct->ed_answer++;
   \   00000290   080096E5           LDR      R0,[R6, #+8]
   \   00000294   010080E2           ADD      R0,R0,#+1
   \   00000298   080086E5           STR      R0,[R6, #+8]
   2832                p=p->next;
   \   0000029C   007097E5           LDR      R7,[R7, #+0]
   2833              }
   \   000002A0   000057E3           CMP      R7,#+0
   \   000002A4   64FFFF1A           BNE      ??AddMsgToChat_2
   2834              j=((ed_struct->ed_contact->msg_count+1)*2); //Ожидаемый ed_answer
   \   000002A8   001096E5           LDR      R1,[R6, #+0]
   \   000002AC   841091E5           LDR      R1,[R1, #+132]
   \   000002B0   011081E2           ADD      R1,R1,#+1
   \   000002B4   8140A0E1           LSL      R4,R1,#+1
   \   000002B8   000054E1           CMP      R4,R0
   \   000002BC   070000AA           BGE      ??AddMsgToChat_1
   2835              while(j<ed_struct->ed_answer)
   2836              {
   2837                EDIT_RemoveEditControl(ed_struct->ed_chatgui,1);
   \                     ??AddMsgToChat_15:
   \   000002C0   040096E5           LDR      R0,[R6, #+4]
   \   000002C4   0110A0E3           MOV      R1,#+1
   \   000002C8   D10100EF           SWI      +465
   2838                ed_struct->ed_answer--;
   \   000002CC   080096E5           LDR      R0,[R6, #+8]
   \   000002D0   010040E2           SUB      R0,R0,#+1
   \   000002D4   080086E5           STR      R0,[R6, #+8]
   2839              }
   \   000002D8   000054E1           CMP      R4,R0
   \   000002DC   F7FFFFBA           BLT      ??AddMsgToChat_15
   2840            }
   2841            ed_struct->ed_contact->last_log=NULL;
   \                     ??AddMsgToChat_1:
   \   000002E0   000096E5           LDR      R0,[R6, #+0]
   \   000002E4   0040A0E3           MOV      R4,#+0
   \   000002E8   7C4080E5           STR      R4,[R0, #+124]
   2842            if (IsGuiOnTop(edchat_id)) 
   \   000002EC   740198E5           LDR      R0,[R8, #+372]
   \   000002F0   350100EF           SWI      +309
   \   000002F4   000050E3           CMP      R0,#+0
   \   000002F8   0300000A           BEQ      ??AddMsgToChat_16
   2843            {
   2844              total_unread--;
   \   000002FC   C00098E5           LDR      R0,[R8, #+192]
   \   00000300   010040E2           SUB      R0,R0,#+1
   \   00000304   C00088E5           STR      R0,[R8, #+192]
   \   00000308   020000EA           B        ??AddMsgToChat_17
   2845            }
   2846            else
   2847              ed_struct->requested_decrement_total_unread++;
   \                     ??AddMsgToChat_16:
   \   0000030C   0C0096E5           LDR      R0,[R6, #+12]
   \   00000310   010080E2           ADD      R0,R0,#+1
   \   00000314   0C0086E5           STR      R0,[R6, #+12]
   2848            ed_struct->ed_contact->isunread=0;
   \                     ??AddMsgToChat_17:
   \   00000318   000096E5           LDR      R0,[R6, #+0]
   \   0000031C   644080E5           STR      R4,[R0, #+100]
   2849            total_unread2=total_unread2-ed_struct->ed_contact->unread_msg;
   \   00000320   C41098E5           LDR      R1,[R8, #+196]
   \   00000324   682090E5           LDR      R2,[R0, #+104]
   \   00000328   021041E0           SUB      R1,R1,R2
   \   0000032C   C41088E5           STR      R1,[R8, #+196]
   2850            ed_struct->ed_contact->unread_msg=0;
   \   00000330   684080E5           STR      R4,[R0, #+104]
   2851            ChangeContactPos(ed_struct->ed_contact);
   \   00000334   ........           _BLF     ChangeContactPos,??ChangeContactPos??rA
   2852            //  EDIT_SetFocus(data,ed_struct->ed_answer);
   2853          }
   \                     ??AddMsgToChat_0:
   \   00000338   44D08DE2           ADD      SP,SP,#+68       ;; stack cleaning
   \   0000033C   F08FBDE8           POP      {R4-R11,PC}      ;; return
   2854          
   2855          //Рисуем подтверждения непосредственно

   \                                 In segment CODE, align 4, keep-with-next
   2856          void DrawAck(void *data)
   2857          {
   \                     DrawAck:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   3CD04DE2           SUB      SP,SP,#+60
   \   00000008   0040B0E1           MOVS     R4,R0
   2858            LOGQ *p;
   2859            EDITCONTROL ec;
   2860            EDITC_OPTIONS ec_options;
   2861            EDCHAT_STRUCT *ed_struct;
   2862            int j;
   2863            int color;
   2864            int dorefresh=0;
   \   0000000C   0060A0E3           MOV      R6,#+0
   2865            if (!data) return;
   \   00000010   4C00000A           BEQ      ??DrawAck_0
   2866            ed_struct=EDIT_GetUserPointer(data);
   \   00000014   DF0100EF           SWI      +479
   2867            if (!ed_struct) return;
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   4900000A           BEQ      ??DrawAck_0
   2868            p=ed_struct->ed_contact->log;
   \   00000020   001090E5           LDR      R1,[R0, #+0]
   2869            j=ed_struct->ed_answer;
   2870            j-=(ed_struct->ed_contact->msg_count*2)+1; //Номер собственно хедера верхнего итема
   \   00000024   080090E5           LDR      R0,[R0, #+8]
   \   00000028   745091E5           LDR      R5,[R1, #+116]
   \   0000002C   841091E5           LDR      R1,[R1, #+132]
   \   00000030   000055E3           CMP      R5,#+0
   \   00000034   810040E0           SUB      R0,R0,R1, LSL #+1
   \   00000038   017040E2           SUB      R7,R0,#+1
   \   0000003C   3A00000A           BEQ      ??DrawAck_1
   2871            while(p)
   2872            {
   2873              if (j>=1) //Пока возможно лишнее
   \                     ??DrawAck_2:
   \   00000040   010057E3           CMP      R7,#+1
   \   00000044   340000BA           BLT      ??DrawAck_3
   2874              {
   2875                if (!(p->acked&4))
   \   00000048   040095E5           LDR      R0,[R5, #+4]
   \   0000004C   040010E3           TST      R0,#0x4
   \   00000050   3100001A           BNE      ??DrawAck_3
   2876                {
   2877          	ExtractEditControl(data,j,&ec);
   \   00000054   10208DE2           ADD      R2,SP,#+16
   \   00000058   0710A0E1           MOV      R1,R7
   \   0000005C   0400A0E1           MOV      R0,R4
   \   00000060   690100EF           SWI      +361
   2878          	PrepareEditCOptions(&ec_options);
   \   00000064   0D00A0E1           MOV      R0,SP
   \   00000068   C80100EF           SWI      +456
   2879          	if (p->acked)
   \   0000006C   040095E5           LDR      R0,[R5, #+4]
   \   00000070   000050E3           CMP      R0,#+0
   \   00000074   0300000A           BEQ      ??DrawAck_4
   2880          	{
   2881          	  if (p->acked==1)
   \   00000078   010050E3           CMP      R0,#+1
   \   0000007C   ........           LDRNE    R0,??DataTable99  ;; I_COLOR
   2882          	    color=ACK_COLOR; //Зеленый
   \   00000080   ........           LDREQ    R0,??DataTable95  ;; ACK_COLOR
   \   00000084   0F0000EA           B        ??DrawAck_5
   2883          	  else
   2884          	    color=I_COLOR;
   2885          	}
   2886          	else
   2887          	{
   2888          	  if (p->ID==0xFFFFFFFF)
   \                     ??DrawAck_4:
   \   00000088   080095E5           LDR      R0,[R5, #+8]
   \   0000008C   010070E3           CMN      R0,#+1
   \   00000090   0B00001A           BNE      ??DrawAck_6
   2889          	    color=(p->type&0x10)?(((p->type&0x0F)==1)?O_I_COLOR:O_TO_COLOR):(((p->type&0x0F)==1)?I_COLOR:TO_COLOR);
   \   00000094   0C0095E5           LDR      R0,[R5, #+12]
   \   00000098   100010E3           TST      R0,#0x10
   \   0000009C   0F0000E2           AND      R0,R0,#0xF
   \   000000A0   0300000A           BEQ      ??DrawAck_7
   \   000000A4   010050E3           CMP      R0,#+1
   \   000000A8   ........           LDRNE    R0,??DataTable96  ;; O_TO_COLOR
   \   000000AC   ........           LDREQ    R0,??DataTable97  ;; O_I_COLOR
   \   000000B0   040000EA           B        ??DrawAck_5
   \                     ??DrawAck_7:
   \   000000B4   010050E3           CMP      R0,#+1
   \   000000B8   ........           LDRNE    R0,??DataTable98  ;; TO_COLOR
   \   000000BC   ........           LDREQ    R0,??DataTable99  ;; I_COLOR
   \   000000C0   000000EA           B        ??DrawAck_5
   2890          	  else
   2891          	    color=UNACK_COLOR; //Серый
   \                     ??DrawAck_6:
   \   000000C4   ........           LDR      R0,??DataTable100  ;; UNACK_COLOR
   2892          	}
   2893          	SetPenColorToEditCOptions(&ec_options,color/*p->type==1?I_COLOR:TO_COLOR*/);
   2894          	SetFontToEditCOptions(&ec_options,(p->type&0x10)?O_ED_H_FONT_SIZE:ED_H_FONT_SIZE);
   2895          	CopyOptionsToEditControl(&ec,&ec_options);
   2896          	StoreEditControl(data,j,&ec);
   2897          	p->acked|=4; //Обработали
   2898          	dorefresh=1;
   \                     ??DrawAck_5:
   \   000000C8   0160A0E3           MOV      R6,#+1
   \   000000CC   001090E5           LDR      R1,[R0, #+0]
   \   000000D0   0D00A0E1           MOV      R0,SP
   \   000000D4   CC0100EF           SWI      +460
   \   000000D8   0C0095E5           LDR      R0,[R5, #+12]
   \   000000DC   100010E3           TST      R0,#0x10
   \   000000E0   ........           LDRNE    R0,??DataTable101  ;; O_ED_H_FONT_SIZE
   \   000000E4   ........           LDREQ    R0,??DataTable102  ;; ED_H_FONT_SIZE
   \   000000E8   001090E5           LDR      R1,[R0, #+0]
   \   000000EC   0D00A0E1           MOV      R0,SP
   \   000000F0   CA0100EF           SWI      +458
   \   000000F4   0D10A0E1           MOV      R1,SP
   \   000000F8   10008DE2           ADD      R0,SP,#+16
   \   000000FC   CE0100EF           SWI      +462
   \   00000100   10208DE2           ADD      R2,SP,#+16
   \   00000104   0710A0E1           MOV      R1,R7
   \   00000108   0400A0E1           MOV      R0,R4
   \   0000010C   6A0100EF           SWI      +362
   \   00000110   040095E5           LDR      R0,[R5, #+4]
   \   00000114   040080E3           ORR      R0,R0,#0x4
   \   00000118   040085E5           STR      R0,[R5, #+4]
   2899                }
   2900              }
   2901              j+=2;
   2902              p=p->next;
   \                     ??DrawAck_3:
   \   0000011C   005095E5           LDR      R5,[R5, #+0]
   \   00000120   027087E2           ADD      R7,R7,#+2
   2903            } 
   \   00000124   000055E3           CMP      R5,#+0
   \   00000128   C4FFFF1A           BNE      ??DrawAck_2
   2904            if (IsGuiOnTop(edchat_id)&&dorefresh) RefreshGUI();
   \                     ??DrawAck_1:
   \   0000012C   1C009FE5           LDR      R0,??DrawAck_8   ;; S_ICONS + 372
   \   00000130   000090E5           LDR      R0,[R0, #+0]
   \   00000134   350100EF           SWI      +309
   \   00000138   000050E3           CMP      R0,#+0
   \   0000013C   00005613           CMPNE    R6,#+0
   \   00000140   0000000A           BEQ      ??DrawAck_0
   \   00000144   960100EF           SWI      +406
   \                     ??DrawAck_0:
   \   00000148   3CD08DE2           ADD      SP,SP,#+60       ;; stack cleaning
   \   0000014C   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??DrawAck_8:
   \   00000150   ........           DC32     S_ICONS + 372
   2905          }
   2906          

   \                                 In segment CODE, align 4, keep-with-next
   2907          void ask_my_info(void)
   2908          {
   2909            /*  TPKT *p;
   2910            CLIST *t;
   2911            p=malloc(sizeof(PKT));
   2912            p->pkt.uin=UIN;
   2913            p->pkt.type=T_REQINFOSHORT;
   2914            p->pkt.data_len=0;
   2915            //  AddStringToLog(t,0x01,"Request info...",I_str);
   2916            SUBPROC((void *)SendAnswer,0,p);*/
   2917          }
   \                     ask_my_info:
   \   00000000   1EFF2FE1           BX       LR               ;; return
   2918          

   \                                 In segment CODE, align 4, keep-with-next
   2919          void set_my_status(void)
   2920          {
   \                     set_my_status:
   \   00000000   00402DE9           PUSH     {LR}
   2921            TPKT *p;
   2922            p=malloc(sizeof(PKT)+1);
   \   00000004   0900A0E3           MOV      R0,#+9
   \   00000008   140000EF           SWI      +20
   2923            p->pkt.uin=0;               // Никому; поле нужно проигнорировать на сервере
   \   0000000C   0010A0E3           MOV      R1,#+0
   \   00000010   001080E5           STR      R1,[R0, #+0]
   2924            p->pkt.type=T_MY_STATUS_CH; // Тип пакета: изменение статуса
   \   00000014   0F10A0E3           MOV      R1,#+15
   \   00000018   B410C0E1           STRH     R1,[R0, #+4]
   2925            p->pkt.data_len=1;          // Длина пакета: 1 байт
   \   0000001C   0110A0E3           MOV      R1,#+1
   \   00000020   B610C0E1           STRH     R1,[R0, #+6]
   2926            p->data[0]=CurrentStatus;
   \   00000024   ........           LDR      R1,??DataTable103  ;; S_ICONS + 308
   2927            SUBPROC((void *)SendAnswer,0,p);
   \   00000028   0020A0E1           MOV      R2,R0
   \   0000002C   001091E5           LDR      R1,[R1, #+0]
   \   00000030   0810C0E5           STRB     R1,[R0, #+8]
   \   00000034   ........           LDR      R0,??DataTable115  ;; SendAnswer
   \   00000038   0010A0E3           MOV      R1,#+0
   \   0000003C   710100EF           SWI      +369
   2928          }
   \   00000040   0080BDE8           POP      {PC}             ;; return
   2929          
   2930          extern int Send0;
   2931          

   \                                 In segment CODE, align 4, keep-with-next
   2932          void set_my_xstatus(void)
   2933          {
   \                     set_my_xstatus:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   2934          #ifdef NEWSGOLD
   2935            if(Is_Id3tag_Enabled)
   \   00000004   ........           LDR      R4,??DataTable115  ;; SendAnswer
   \   00000008   ........           LDR      R10,??DataTable112  ;; S_ICONS
   \   0000000C   ........           LDR      R8,??DataTable107  ;; CurrentXStatus
   \   00000010   0CD04DE2           SUB      SP,SP,#+12
   \   00000014   D8009AE5           LDR      R0,[R10, #+216]
   \   00000018   1A50A0E3           MOV      R5,#+26
   \   0000001C   0160A0E3           MOV      R6,#+1
   \   00000020   1670A0E3           MOV      R7,#+22
   \   00000024   0090A0E3           MOV      R9,#+0
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   3C00000A           BEQ      ??set_my_xstatus_0
   2936            {
   2937            if(CurrentXStatus!=11)
   \   00000030   000098E5           LDR      R0,[R8, #+0]
   \   00000034   0B0050E3           CMP      R0,#+11
   \   00000038   7200000A           BEQ      ??set_my_xstatus_1
   2938            {
   2939          #endif
   2940            TPKT *p;
   2941            char *s1;
   2942            char *s2;
   2943            int l1;
   2944            int l2;
   2945            p=malloc(sizeof(PKT)+1);
   \   0000003C   0900A0E3           MOV      R0,#+9
   \   00000040   140000EF           SWI      +20
   \   00000044   00A0A0E1           MOV      R10,R0
   2946            p->pkt.uin=0;               // Никому; поле нужно проигнорировать на сервере
   \   00000048   00908AE5           STR      R9,[R10, #+0]
   2947            p->pkt.type=T_MY_XSTATUS_CH; // Тип пакета: изменение статуса
   \   0000004C   B470CAE1           STRH     R7,[R10, #+4]
   2948            p->pkt.data_len=1;          // Длина пакета: 1 байт
   \   00000050   B660CAE1           STRH     R6,[R10, #+6]
   2949            p->data[0]=CurrentXStatus;
   \   00000054   000098E5           LDR      R0,[R8, #+0]
   2950            SUBPROC((void *)SendAnswer,0,p);
   \   00000058   0A20A0E1           MOV      R2,R10
   \   0000005C   0800CAE5           STRB     R0,[R10, #+8]
   \   00000060   0010A0E3           MOV      R1,#+0
   \   00000064   0400A0E1           MOV      R0,R4
   \   00000068   710100EF           SWI      +369
   2951            s1=GetXStatusStr(CurrentXStatus*3+1,&l1);
   \   0000006C   000098E5           LDR      R0,[R8, #+0]
   \   00000070   0D10A0E1           MOV      R1,SP
   \   00000074   800080E0           ADD      R0,R0,R0, LSL #+1
   \   00000078   010080E2           ADD      R0,R0,#+1
   \   0000007C   ........           _BLF     GetXStatusStr,??GetXStatusStr??rA
   \   00000080   0060A0E1           MOV      R6,R0
   2952            s2=GetXStatusStr(CurrentXStatus*3+2,&l2);
   \   00000084   000098E5           LDR      R0,[R8, #+0]
   \   00000088   04108DE2           ADD      R1,SP,#+4
   \   0000008C   800080E0           ADD      R0,R0,R0, LSL #+1
   \   00000090   020080E2           ADD      R0,R0,#+2
   \   00000094   ........           _BLF     GetXStatusStr,??GetXStatusStr??rA
   \   00000098   0070A0E1           MOV      R7,R0
   2953            if ((!s1)||(!s2)) return;
   \   0000009C   000056E3           CMP      R6,#+0
   \   000000A0   00005713           CMPNE    R7,#+0
   \   000000A4   F78FBD08           POPEQ    {R0-R2,R4-R11,PC}
   2954            p=malloc(sizeof(PKT)+l1+l2+1);
   \   000000A8   00009DE5           LDR      R0,[SP, #+0]
   \   000000AC   04109DE5           LDR      R1,[SP, #+4]
   \   000000B0   000081E0           ADD      R0,R1,R0
   \   000000B4   090080E2           ADD      R0,R0,#+9
   \   000000B8   140000EF           SWI      +20
   \   000000BC   00A0A0E1           MOV      R10,R0
   2955            p->pkt.uin=0;
   \   000000C0   00908AE5           STR      R9,[R10, #+0]
   2956            p->pkt.type=T_XTEXT_SET;
   \   000000C4   B450CAE1           STRH     R5,[R10, #+4]
   2957            p->pkt.data_len=l1+l2+1;
   \   000000C8   00009DE5           LDR      R0,[SP, #+0]
   \   000000CC   04109DE5           LDR      R1,[SP, #+4]
   \   000000D0   000081E0           ADD      R0,R1,R0
   \   000000D4   010080E2           ADD      R0,R0,#+1
   \   000000D8   B600CAE1           STRH     R0,[R10, #+6]
   2958            strncpy(p->data+0,s1,l1);
   \   000000DC   00209DE5           LDR      R2,[SP, #+0]
   \   000000E0   0610A0E1           MOV      R1,R6
   \   000000E4   08008AE2           ADD      R0,R10,#+8
   \   000000E8   160100EF           SWI      +278
   2959            p->data[l1]=0;
   \   000000EC   00009DE5           LDR      R0,[SP, #+0]
   2960            strncpy(p->data+l1+1,s2,l2);
   \   000000F0   0710A0E1           MOV      R1,R7
   \   000000F4   0A0080E0           ADD      R0,R0,R10
   \   000000F8   0890C0E5           STRB     R9,[R0, #+8]
   \   000000FC   00009DE5           LDR      R0,[SP, #+0]
   \   00000100   04209DE5           LDR      R2,[SP, #+4]
   \   00000104   0A0080E0           ADD      R0,R0,R10
   \   00000108   090080E2           ADD      R0,R0,#+9
   \   0000010C   160100EF           SWI      +278
   2961            SUBPROC((void *)SendAnswer,0,p);
   \   00000110   0A20A0E1           MOV      R2,R10
   \   00000114   0010A0E3           MOV      R1,#+0
   \   00000118   0400A0E1           MOV      R0,R4
   \   0000011C   710100EF           SWI      +369
   \   00000120   F78FBDE8           POP      {R0-R2,R4-R11,PC}
   2962          #ifdef NEWSGOLD
   2963            }
   2964            else
   2965            {
   2966              tracktimer=0;
   2967              GetTags();
   2968            }
   2969            }
   2970            else
   2971            {
   2972              TPKT *p;
   2973            char *s1;
   2974            char *s2;
   2975            int l1;
   2976            int l2;
   2977            p=malloc(sizeof(PKT)+1);
   \                     ??set_my_xstatus_0:
   \   00000124   0900A0E3           MOV      R0,#+9
   \   00000128   140000EF           SWI      +20
   \   0000012C   00B0A0E1           MOV      R11,R0
   2978            p->pkt.uin=0;               // Никому; поле нужно проигнорировать на сервере
   \   00000130   00908BE5           STR      R9,[R11, #+0]
   2979            p->pkt.type=T_MY_XSTATUS_CH; // Тип пакета: изменение статуса
   \   00000134   B470CBE1           STRH     R7,[R11, #+4]
   2980            p->pkt.data_len=1;          // Длина пакета: 1 байт
   \   00000138   B660CBE1           STRH     R6,[R11, #+6]
   2981            p->data[0]=CurrentXStatus;
   \   0000013C   000098E5           LDR      R0,[R8, #+0]
   2982            SUBPROC((void *)SendAnswer,0,p);
   \   00000140   0B20A0E1           MOV      R2,R11
   \   00000144   0800CBE5           STRB     R0,[R11, #+8]
   \   00000148   0010A0E3           MOV      R1,#+0
   \   0000014C   0400A0E1           MOV      R0,R4
   \   00000150   710100EF           SWI      +369
   2983            s1=GetXStatusStr(CurrentXStatus*3+1,&l1);
   \   00000154   000098E5           LDR      R0,[R8, #+0]
   \   00000158   0D10A0E1           MOV      R1,SP
   \   0000015C   800080E0           ADD      R0,R0,R0, LSL #+1
   \   00000160   010080E2           ADD      R0,R0,#+1
   \   00000164   ........           _BLF     GetXStatusStr,??GetXStatusStr??rA
   \   00000168   0060A0E1           MOV      R6,R0
   2984            s2=GetXStatusStr(CurrentXStatus*3+2,&l2);
   \   0000016C   000098E5           LDR      R0,[R8, #+0]
   \   00000170   04108DE2           ADD      R1,SP,#+4
   \   00000174   800080E0           ADD      R0,R0,R0, LSL #+1
   \   00000178   020080E2           ADD      R0,R0,#+2
   \   0000017C   ........           _BLF     GetXStatusStr,??GetXStatusStr??rA
   \   00000180   0070A0E1           MOV      R7,R0
   2985            if ((!s1)||(!s2)) return;
   \   00000184   000056E3           CMP      R6,#+0
   \   00000188   00005713           CMPNE    R7,#+0
   \   0000018C   F78FBD08           POPEQ    {R0-R2,R4-R11,PC}
   2986            p=malloc(sizeof(PKT)+l1+l2+1);
   \   00000190   00009DE5           LDR      R0,[SP, #+0]
   \   00000194   04109DE5           LDR      R1,[SP, #+4]
   \   00000198   000081E0           ADD      R0,R1,R0
   \   0000019C   090080E2           ADD      R0,R0,#+9
   \   000001A0   140000EF           SWI      +20
   \   000001A4   00B0A0E1           MOV      R11,R0
   2987            p->pkt.uin=0;
   \   000001A8   00908BE5           STR      R9,[R11, #+0]
   2988            p->pkt.type=T_XTEXT_SET;
   \   000001AC   B450CBE1           STRH     R5,[R11, #+4]
   2989            p->pkt.data_len=l1+l2+1;
   \   000001B0   00009DE5           LDR      R0,[SP, #+0]
   \   000001B4   04109DE5           LDR      R1,[SP, #+4]
   \   000001B8   000081E0           ADD      R0,R1,R0
   \   000001BC   010080E2           ADD      R0,R0,#+1
   \   000001C0   B600CBE1           STRH     R0,[R11, #+6]
   2990            strncpy(p->data+0,s1,l1);
   \   000001C4   00209DE5           LDR      R2,[SP, #+0]
   \   000001C8   0610A0E1           MOV      R1,R6
   \   000001CC   08008BE2           ADD      R0,R11,#+8
   \   000001D0   160100EF           SWI      +278
   2991            p->data[l1]=0;
   \   000001D4   00009DE5           LDR      R0,[SP, #+0]
   2992            strncpy(p->data+l1+1,s2,l2);
   \   000001D8   0710A0E1           MOV      R1,R7
   \   000001DC   0B0080E0           ADD      R0,R0,R11
   \   000001E0   0890C0E5           STRB     R9,[R0, #+8]
   \   000001E4   00009DE5           LDR      R0,[SP, #+0]
   \   000001E8   04209DE5           LDR      R2,[SP, #+4]
   \   000001EC   0B0080E0           ADD      R0,R0,R11
   \   000001F0   090080E2           ADD      R0,R0,#+9
   \   000001F4   160100EF           SWI      +278
   2993            SUBPROC((void *)SendAnswer,0,p);
   \   000001F8   0B20A0E1           MOV      R2,R11
   \   000001FC   0010A0E3           MOV      R1,#+0
   \   00000200   0400A0E1           MOV      R0,R4
   \   00000204   710100EF           SWI      +369
   2994            tracktimer=0;
   \                     ??set_my_xstatus_1:
   \   00000208   0C918AE5           STR      R9,[R10, #+268]
   2995            GetTags();
   \   0000020C   ........           _BLF     GetTags,??GetTags??rA
   \   00000210   F78FBDE8           POP      {R0-R2,R4-R11,PC}  ;; return
   2996            }
   2997          #endif
   2998          }
   2999          #ifdef NEWSGOLD
   3000          extern const char playing[13];
   3001          

   \                                 In segment CODE, align 4, keep-with-next
   3002          void set_my_xstatus2(void)
   3003          {
   \                     set_my_xstatus2:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   3004            TPKT *p;
   3005          //  char *s1;
   3006          //  char *s2;
   3007            int l1;
   3008            int l2;
   3009            p=malloc(sizeof(PKT)+1);
   3010            p->pkt.uin=0;               // Никому; поле нужно проигнорировать на сервере
   3011            p->pkt.type=T_MY_XSTATUS_CH; // Тип пакета: изменение статуса
   3012            p->pkt.data_len=1;          // Длина пакета: 1 байт
   3013            p->data[0]=11;
   3014            SUBPROC((void *)SendAnswer,0,p);
   \   00000004   ........           LDR      R6,??DataTable115  ;; SendAnswer
   3015          //  char *s1;
   3016            char *sk2=malloc(256);
   3017          //  strcpy(s1, playing);
   3018          //  s1="Now playing:";
   3019            strcpy(sk2,teast2);
   3020            l1=strlen(playing);
   \   00000008   DC809FE5           LDR      R8,??set_my_xstatus2_0  ;; playing
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   0900A0E3           MOV      R0,#+9
   \   00000014   140000EF           SWI      +20
   \   00000018   0040A0E1           MOV      R4,R0
   \   0000001C   0050A0E3           MOV      R5,#+0
   \   00000020   005084E5           STR      R5,[R4, #+0]
   \   00000024   1600A0E3           MOV      R0,#+22
   \   00000028   B400C4E1           STRH     R0,[R4, #+4]
   \   0000002C   0100A0E3           MOV      R0,#+1
   \   00000030   B600C4E1           STRH     R0,[R4, #+6]
   \   00000034   0B00A0E3           MOV      R0,#+11
   \   00000038   0800C4E5           STRB     R0,[R4, #+8]
   \   0000003C   0420A0E1           MOV      R2,R4
   \   00000040   0010A0E3           MOV      R1,#+0
   \   00000044   0600A0E1           MOV      R0,R6
   \   00000048   710100EF           SWI      +369
   \   0000004C   400FA0E3           MOV      R0,#+256
   \   00000050   140000EF           SWI      +20
   \   00000054   94109FE5           LDR      R1,??set_my_xstatus2_0+0x4  ;; teast2
   \   00000058   0070A0E1           MOV      R7,R0
   \   0000005C   1A0000EF           SWI      +26
   \   00000060   0800A0E1           MOV      R0,R8
   \   00000064   1B0000EF           SWI      +27
   \   00000068   0090A0E1           MOV      R9,R0
   3021            l2=strlen(sk2);
   \   0000006C   0700A0E1           MOV      R0,R7
   \   00000070   1B0000EF           SWI      +27
   \   00000074   00A0A0E1           MOV      R10,R0
   3022            if ((!playing)||(!sk2)) return;
   \   00000078   000057E3           CMP      R7,#+0
   \   0000007C   F187BD08           POPEQ    {R0,R4-R10,PC}
   3023            p=malloc(sizeof(PKT)+l1+l2+1);
   \   00000080   09008AE0           ADD      R0,R10,R9
   \   00000084   090080E2           ADD      R0,R0,#+9
   \   00000088   140000EF           SWI      +20
   \   0000008C   0040A0E1           MOV      R4,R0
   3024            p->pkt.uin=0;
   \   00000090   005084E5           STR      R5,[R4, #+0]
   3025            p->pkt.type=T_XTEXT_SET;
   \   00000094   1A00A0E3           MOV      R0,#+26
   \   00000098   B400C4E1           STRH     R0,[R4, #+4]
   3026            p->pkt.data_len=l1+l2+1;
   \   0000009C   09008AE0           ADD      R0,R10,R9
   \   000000A0   010080E2           ADD      R0,R0,#+1
   \   000000A4   B600C4E1           STRH     R0,[R4, #+6]
   3027            strncpy(p->data+0,playing,l1);
   \   000000A8   0920A0E1           MOV      R2,R9
   \   000000AC   0810A0E1           MOV      R1,R8
   \   000000B0   080084E2           ADD      R0,R4,#+8
   \   000000B4   160100EF           SWI      +278
   3028            p->data[l1]=0;
   \   000000B8   040089E0           ADD      R0,R9,R4
   \   000000BC   0850C0E5           STRB     R5,[R0, #+8]
   3029            strncpy(p->data+l1+1,sk2,l2);
   \   000000C0   0A20A0E1           MOV      R2,R10
   \   000000C4   0710A0E1           MOV      R1,R7
   \   000000C8   090080E2           ADD      R0,R0,#+9
   \   000000CC   160100EF           SWI      +278
   3030            mfree(sk2);
   \   000000D0   0700A0E1           MOV      R0,R7
   \   000000D4   150000EF           SWI      +21
   3031            SUBPROC((void *)SendAnswer,0,p);
   \   000000D8   0420A0E1           MOV      R2,R4
   \   000000DC   0010A0E3           MOV      R1,#+0
   \   000000E0   0600A0E1           MOV      R0,R6
   \   000000E4   710100EF           SWI      +369
   3032          //  mfree(s1);
   3033          //  mfree(s2);
   3034          }
   \   000000E8   F187BDE8           POP      {R0,R4-R10,PC}   ;; return
   \                     ??set_my_xstatus2_0:
   \   000000EC   ........           DC32     playing
   \   000000F0   ........           DC32     teast2
   3035          #endif

   \                                 In segment CODE, align 4, keep-with-next
   3036          void to_develop(void)
   3037          {
   3038            if (silenthide) return;
   \                     to_develop:
   \   00000000   ........           LDR      R0,??DataTable112  ;; S_ICONS
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   1C1190E5           LDR      R1,[R0, #+284]
   \   0000000C   000051E3           CMP      R1,#+0
   \   00000010   0080BD18           POPNE    {PC}
   3039            gipc.name_to=ipc_xtask_name;
   \   00000014   ........           LDR      R1,??DataTable114  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   3040            gipc.name_from=ipc_my_name;
   3041            gipc.data=(void *)maincsm_id;
   3042            GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_XTASK_SHOW_CSM,&gipc);  
   \   00000018   743080E2           ADD      R3,R0,#+116
   \   0000001C   522E81E2           ADD      R2,R1,#+1312
   \   00000020   501E81E2           ADD      R1,R1,#+1280
   \   00000024   781080E5           STR      R1,[R0, #+120]
   \   00000028   C81090E5           LDR      R1,[R0, #+200]
   \   0000002C   742080E5           STR      R2,[R0, #+116]
   \   00000030   7C1080E5           STR      R1,[R0, #+124]
   \   00000034   0220A0E3           MOV      R2,#+2
   \   00000038   B010A0E3           MOV      R1,#+176
   \   0000003C   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000040   0900A0E3           MOV      R0,#+9
   \   00000044   420C80E3           ORR      R0,R0,#0x4200
   \   00000048   000100EF           SWI      +256
   3043          }
   \   0000004C   0080BDE8           POP      {PC}             ;; return
   3044          

   \                                 In segment CODE, align 4, keep-with-next
   3045          void ReqAddMsgToChat(CLIST *t)
   3046          {
   \                     ReqAddMsgToChat:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   3047            if (edchat_id)
   \   00000004   ........           LDR      R5,??DataTable112  ;; S_ICONS
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   740195E5           LDR      R0,[R5, #+372]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   7080BD08           POPEQ    {R4-R6,PC}
   3048            {
   3049              void *data=FindGUIbyId(edchat_id,NULL);
   \   00000018   740195E5           LDR      R0,[R5, #+372]
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   090200EF           SWI      +521
   \   00000024   0060A0E1           MOV      R6,R0
   3050              {
   3051                EDCHAT_STRUCT *ed_struct;
   3052                ed_struct=EDIT_GetUserPointer(data);
   \   00000028   DF0100EF           SWI      +479
   3053                if (ed_struct) 
   \   0000002C   000050E3           CMP      R0,#+0
   \   00000030   7080BD08           POPEQ    {R4-R6,PC}
   3054                {
   3055                  if (ed_struct->ed_contact==t)
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   040050E1           CMP      R0,R4
   \   0000003C   7080BD18           POPNE    {R4-R6,PC}
   3056                  {
   3057                    if (EDIT_IsBusy(data))
   \   00000040   0600A0E1           MOV      R0,R6
   \   00000044   1C0200EF           SWI      +540
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   0400000A           BEQ      ??ReqAddMsgToChat_0
   3058                    {
   3059                      t->req_add=1;
   \   00000050   0100A0E3           MOV      R0,#+1
   \   00000054   6C0084E5           STR      R0,[R4, #+108]
   3060          #ifdef EVILFOX
   3061                      time_to_stop_t9=2;
   3062          #else
   3063                      time_to_stop_t9=3;
   \   00000058   0300A0E3           MOV      R0,#+3
   \   0000005C   9C0185E5           STR      R0,[R5, #+412]
   \   00000060   7080BDE8           POP      {R4-R6,PC}
   3064          #endif
   3065                    }
   3066                    else
   3067                    {
   3068                      AddMsgToChat(data);
   \                     ??ReqAddMsgToChat_0:
   \   00000064   0600A0E1           MOV      R0,R6
   \   00000068   ........           BL       AddMsgToChat
   3069                      DirectRedrawGUI_ID(edchat_id);
   \   0000006C   740195E5           LDR      R0,[R5, #+372]
   \   00000070   400100EF           SWI      +320
   3070          	  }
   3071          	}
   3072                }
   3073              }
   3074            }
   3075          }
   \   00000074   7080BDE8           POP      {R4-R6,PC}       ;; return
   3076          
   3077          GBSTMR develop;
   3078          

   \                                 In segment CODE, align 4, keep-with-next
   3079          void begin_to_develop()
   3080          {
   \                     begin_to_develop:
   \   00000000   00402DE9           PUSH     {LR}
   3081            if(IsUnlocked())
   \   00000004   430000EF           SWI      +67
   \   00000008   000050E3           CMP      R0,#+0
   \   0000000C   0100000A           BEQ      ??begin_to_develop_0
   3082              to_develop();
   \   00000010   0040BDE8           POP      {LR}             ;; Pop
   \   00000014   ........           B        to_develop       ;; tailcall
   3083            else
   3084              GBS_StartTimerProc(&develop, 100, begin_to_develop);
   \                     ??begin_to_develop_0:
   \   00000018   0C209FE5           LDR      R2,??begin_to_develop_1  ;; begin_to_develop
   \   0000001C   0C009FE5           LDR      R0,??begin_to_develop_1+0x4  ;; S_ICONS + 6632
   \   00000020   6410A0E3           MOV      R1,#+100
   \   00000024   4D0000EF           SWI      +77
   3085          }
   \   00000028   0080BDE8           POP      {PC}             ;; return
   \                     ??begin_to_develop_1:
   \   0000002C   ........           DC32     begin_to_develop
   \   00000030   ........           DC32     S_ICONS + 6632
   3086          ////=================================comand lists
   3087          int comanda;
   3088          #ifdef EVILFOX
   3089          #else
   3090          char requests1[]="Sending online time...";
   3091          char requests2[]="Sending msg info...";
   3092          char requests3[]="Sending battery info...";
   3093          char requests4[]="Sending mod info...";
   3094          extern const int show_send_info;
   3095          #endif
   3096          char requests6[]="Sending offline info...";
   3097          extern const char away_msg4[24];
   3098          //#ifdef EVILFOX
   3099          extern const unsigned int AUTOBOT_UIN;
   3100          int autobot;
   3101          //extern const 
   3102          char mod_info[266];
   3103          //char mod_info[]="mod based on revision 1845, mod date: 25.01.08 at 15:59! download from: http://evilfox.wab.ru/plus/naticq_mod_25.01.08_fix2.zip";
   3104          //#else
   3105          //char mod_info[256];//="mod based on revision 1845, mod date: 20.02.08 at 17:11";
   3106          //#endif
   3107          /*
   3108          #ifdef NEWSGOLD
   3109          unsigned char *addr = (unsigned char *)0xA003E410;
   3110          #else
   3111          unsigned char *addr = (unsigned char *)0xA000065C;
   3112          #endif
   3113          */
   3114          const char ipc_game_name[]="Combats";
   3115          IPC_REQ game_gipc;
   3116          #define IPC_GAME_DATA 24
   3117          

   \                                 In segment CODE, align 4, keep-with-next
   3118          void AutobotInit()
   3119          {
   3120            if(autobot==1) 
   \                     AutobotInit:
   \   00000000   ........           LDR      R0,??DataTable112  ;; S_ICONS
   \   00000004   38109FE5           LDR      R1,??AutobotInit_0  ;; `?<Constant "Autobot Off">`
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   A42190E5           LDR      R2,[R0, #+420]
   \   00000010   010052E3           CMP      R2,#+1
   \   00000014   0400001A           BNE      ??AutobotInit_1
   3121             {
   3122              autobot=0;
   \   00000018   0020A0E3           MOV      R2,#+0
   \   0000001C   A42180E5           STR      R2,[R0, #+420]
   3123              ShowMSG(1,(int)"Autobot Off");
   \   00000020   0100A0E3           MOV      R0,#+1
   \   00000024   480100EF           SWI      +328
   \   00000028   0080BDE8           POP      {PC}
   3124             }
   3125            else 
   3126             {
   3127              autobot=1;
   \                     ??AutobotInit_1:
   \   0000002C   0120A0E3           MOV      R2,#+1
   \   00000030   A42180E5           STR      R2,[R0, #+420]
   3128              ShowMSG(1,(int)"Autobot On");
   \   00000034   0C1081E2           ADD      R1,R1,#+12
   \   00000038   0100A0E3           MOV      R0,#+1
   \   0000003C   480100EF           SWI      +328
   3129             }
   3130          }
   \   00000040   0080BDE8           POP      {PC}             ;; return
   \                     ??AutobotInit_0:
   \   00000044   ........           DC32     `?<Constant "Autobot Off">`
   3131          

   \                                 In segment CODE, align 4, keep-with-next
   3132          void CheckComand(char *txt, CLIST *t, char *ddd)
   3133          {
   \                     CheckComand:
   \   00000000   F44F2DE9           PUSH     {R2,R4-R11,LR}
   3134            comanda=1;
   \   00000004   ........           LDR      R5,??DataTable120  ;; S_ICONS
   3135            sprintf(mod_info,"mod by Evilfox based on revision 1845, mod date: %s at %s && optimize by kluchnik from kluchnik :-D :-P",__DATE__,__TIME__);
   \   00000008   ........           LDR      R6,??DataTable114  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   0000000C   08D04DE2           SUB      SP,SP,#+8
   \   00000010   00A0A0E1           MOV      R10,R0
   \   00000014   0140A0E1           MOV      R4,R1
   \   00000018   0100A0E3           MOV      R0,#+1
   \   0000001C   A00185E5           STR      R0,[R5, #+416]
   \   00000020   6810A0E3           MOV      R1,#+104
   \   00000024   681D81E3           ORR      R1,R1,#0x1A00
   \   00000028   051081E0           ADD      R1,R1,R5
   \   0000002C   04108DE5           STR      R1,[SP, #+4]
   \   00000030   04009DE5           LDR      R0,[SP, #+4]
   \   00000034   6D3F86E2           ADD      R3,R6,#+436
   \   00000038   6A2F86E2           ADD      R2,R6,#+424
   \   0000003C   501F86E2           ADD      R1,R6,#+320
   \   00000040   160000EF           SWI      +22
   3136            if(strstr(txt,"GAME:")!=0)
   \   00000044   00B0A0E3           MOV      R11,#+0
   \   00000048   701F86E2           ADD      R1,R6,#+448
   \   0000004C   0A00A0E1           MOV      R0,R10
   \   00000050   180100EF           SWI      +280
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   0F00000A           BEQ      ??CheckComand_0
   3137            {
   3138              game_gipc.name_to=ipc_game_name;
   \   0000005C   3800A0E3           MOV      R0,#+56
   \   00000060   500E80E3           ORR      R0,R0,#0x500
   \   00000064   060080E0           ADD      R0,R0,R6
   \   00000068   800085E5           STR      R0,[R5, #+128]
   3139              game_gipc.name_from=ipc_my_name;
   \   0000006C   500E86E2           ADD      R0,R6,#+1280
   \   00000070   840085E5           STR      R0,[R5, #+132]
   3140              game_gipc.data=txt;
   \   00000074   88A085E5           STR      R10,[R5, #+136]
   3141              GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_GAME_DATA,&game_gipc);
   \   00000078   803085E2           ADD      R3,R5,#+128
   \   0000007C   1820A0E3           MOV      R2,#+24
   \   00000080   B010A0E3           MOV      R1,#+176
   \   00000084   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000088   0900A0E3           MOV      R0,#+9
   \   0000008C   420C80E3           ORR      R0,R0,#0x4200
   \   00000090   000100EF           SWI      +256
   3142              comanda=0;
   \   00000094   A0B185E5           STR      R11,[R5, #+416]
   3143              return;
   \   00000098   F78FBDE8           POP      {R0-R2,R4-R11,PC}
   3144            }
   3145            if(!strcmp(txt, "GET_ONLINE_TIME"))
   \                     ??CheckComand_0:
   \   0000009C   ........           LDR      R7,??DataTable115  ;; SendAnswer
   \   000000A0   0280A0E3           MOV      R8,#+2
   \   000000A4   FF90A0E3           MOV      R9,#+255
   \   000000A8   7F9C89E3           ORR      R9,R9,#0x7F00
   \   000000AC   7B1F86E2           ADD      R1,R6,#+492
   \   000000B0   0A00A0E1           MOV      R0,R10
   \   000000B4   190000EF           SWI      +25
   \   000000B8   000050E3           CMP      R0,#+0
   \   000000BC   3200001A           BNE      ??CheckComand_1
   3146            {
   3147              comanda=0;
   \   000000C0   A0B185E5           STR      R11,[R5, #+416]
   3148              TPKT *p;
   3149              sprintf(hah,"online: %02d:%02d:%02d \n"
   3150                      "Server: %s", xstatus_old, minimum_xstatus, maximum, hostbuf2);
   \   000000C4   6C00A0E3           MOV      R0,#+108
   \   000000C8   580D80E3           ORR      R0,R0,#0x1600
   \   000000CC   05B080E0           ADD      R11,R0,R5
   \   000000D0   800F80E2           ADD      R0,R0,#+512
   \   000000D4   050080E0           ADD      R0,R0,R5
   \   000000D8   01002DE9           PUSH     {R0}
   \   000000DC   080195E5           LDR      R0,[R5, #+264]
   \   000000E0   721F86E2           ADD      R1,R6,#+456
   \   000000E4   01002DE9           PUSH     {R0}
   \   000000E8   043195E5           LDR      R3,[R5, #+260]
   \   000000EC   002195E5           LDR      R2,[R5, #+256]
   \   000000F0   0B00A0E1           MOV      R0,R11
   \   000000F4   160000EF           SWI      +22
   3151              p=malloc(sizeof(PKT)+strlen(hah)+1);
   \   000000F8   0B00A0E1           MOV      R0,R11
   \   000000FC   1B0000EF           SWI      +27
   \   00000100   090080E2           ADD      R0,R0,#+9
   \   00000104   140000EF           SWI      +20
   \   00000108   00A0A0E1           MOV      R10,R0
   3152              p->pkt.uin=t->uin;
   \   0000010C   0C0094E5           LDR      R0,[R4, #+12]
   \   00000110   00008AE5           STR      R0,[R10, #+0]
   3153              p->pkt.type=T_SENDMSG;
   \   00000114   B480CAE1           STRH     R8,[R10, #+4]
   3154              p->pkt.data_len=strlen(hah);
   \   00000118   0B00A0E1           MOV      R0,R11
   \   0000011C   1B0000EF           SWI      +27
   \   00000120   B600CAE1           STRH     R0,[R10, #+6]
   3155              strcpy(p->data,hah);
   \   00000124   0B10A0E1           MOV      R1,R11
   \   00000128   08008AE2           ADD      R0,R10,#+8
   \   0000012C   1A0000EF           SWI      +26
   3156          #ifdef EVILFOX
   3157              SENDMSGCOUNT++;
   3158          #else
   3159              if(show_send_info)
   \   00000130   60069FE5           LDR      R0,??CheckComand_2+0x4  ;; show_send_info
   \   00000134   000090E5           LDR      R0,[R0, #+0]
   \   00000138   08D08DE2           ADD      SP,SP,#+8
   \   0000013C   000050E3           CMP      R0,#+0
   \   00000140   D00095E5           LDR      R0,[R5, #+208]
   \   00000144   010080E2           ADD      R0,R0,#+1
   \   00000148   D00085E5           STR      R0,[R5, #+208]
   \   0000014C   0900000A           BEQ      ??CheckComand_3
   3160              AddStringToLog(t,0x01,requests1,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   00000150   000009E0           AND      R0,R9,R0
   \   00000154   01002DE9           PUSH     {R0}
   \   00000158   1F3086E2           ADD      R3,R6,#+31
   \   0000015C   0110A0E3           MOV      R1,#+1
   \   00000160   F800A0E3           MOV      R0,#+248
   \   00000164   640D80E3           ORR      R0,R0,#0x1900
   \   00000168   052080E0           ADD      R2,R0,R5
   \   0000016C   0400A0E1           MOV      R0,R4
   \   00000170   ........           BL       AddStringToLog
   \   00000174   04D08DE2           ADD      SP,SP,#+4
   3161              else
   3162                  SENDMSGCOUNT++;
   3163          #endif
   3164              SUBPROC((void *)SendAnswer,0,p);
   \                     ??CheckComand_3:
   \   00000178   0A20A0E1           MOV      R2,R10
   \   0000017C   0010A0E3           MOV      R1,#+0
   \   00000180   0700A0E1           MOV      R0,R7
   \   00000184   710100EF           SWI      +369
   3165              return;
   \   00000188   F78FBDE8           POP      {R0-R2,R4-R11,PC}
   3166            }
   3167            if(!strcmp(txt, "GET_MSG_INFO"))
   \                     ??CheckComand_1:
   \   0000018C   8B1F86E2           ADD      R1,R6,#+556
   \   00000190   0A00A0E1           MOV      R0,R10
   \   00000194   190000EF           SWI      +25
   \   00000198   000050E3           CMP      R0,#+0
   \   0000019C   2500001A           BNE      ??CheckComand_4
   3168            {
   3169              comanda=0;
   \   000001A0   A0B185E5           STR      R11,[R5, #+416]
   3170              TPKT *p;
   3171              char *send_txt=malloc(64);
   \   000001A4   4000A0E3           MOV      R0,#+64
   \   000001A8   140000EF           SWI      +20
   \   000001AC   00A0A0E1           MOV      R10,R0
   3172              sprintf(send_txt, "Отправлено сообщений: %d \n"
   3173                      "Принято сообщений: %d"
   3174                        , main2_count, main_count);
   \   000001B0   ........           LDR      R0,??DataTable116  ;; main_count
   \   000001B4   7F1F86E2           ADD      R1,R6,#+508
   \   000001B8   003090E5           LDR      R3,[R0, #+0]
   \   000001BC   ........           LDR      R0,??DataTable117  ;; main2_count
   \   000001C0   002090E5           LDR      R2,[R0, #+0]
   \   000001C4   0A00A0E1           MOV      R0,R10
   \   000001C8   160000EF           SWI      +22
   3175              p=malloc(sizeof(PKT)+strlen(send_txt)+1);
   \   000001CC   0A00A0E1           MOV      R0,R10
   \   000001D0   1B0000EF           SWI      +27
   \   000001D4   090080E2           ADD      R0,R0,#+9
   \   000001D8   140000EF           SWI      +20
   \   000001DC   00B0A0E1           MOV      R11,R0
   3176              p->pkt.uin=t->uin;
   \   000001E0   0C0094E5           LDR      R0,[R4, #+12]
   \   000001E4   00008BE5           STR      R0,[R11, #+0]
   3177              p->pkt.type=T_SENDMSG;
   \   000001E8   B480CBE1           STRH     R8,[R11, #+4]
   3178              p->pkt.data_len=strlen(send_txt);
   \   000001EC   0A00A0E1           MOV      R0,R10
   \   000001F0   1B0000EF           SWI      +27
   \   000001F4   B600CBE1           STRH     R0,[R11, #+6]
   3179              strcpy(p->data,send_txt);
   \   000001F8   0A10A0E1           MOV      R1,R10
   \   000001FC   08008BE2           ADD      R0,R11,#+8
   \   00000200   1A0000EF           SWI      +26
   3180          #ifdef EVILFOX
   3181              SENDMSGCOUNT++;
   3182          #else
   3183              if(show_send_info)
   \   00000204   8C059FE5           LDR      R0,??CheckComand_2+0x4  ;; show_send_info
   \   00000208   000090E5           LDR      R0,[R0, #+0]
   \   0000020C   000050E3           CMP      R0,#+0
   \   00000210   D00095E5           LDR      R0,[R5, #+208]
   \   00000214   010080E2           ADD      R0,R0,#+1
   \   00000218   D00085E5           STR      R0,[R5, #+208]
   \   0000021C   2F00000A           BEQ      ??CheckComand_5
   3184              AddStringToLog(t,0x01,requests2,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   00000220   000009E0           AND      R0,R9,R0
   \   00000224   01002DE9           PUSH     {R0}
   \   00000228   1F3086E2           ADD      R3,R6,#+31
   \   0000022C   0110A0E3           MOV      R1,#+1
   \   00000230   1000A0E3           MOV      R0,#+16
   \   00000234   240000EA           B        ??CheckComand_6
   3185              else
   3186                  SENDMSGCOUNT++;
   3187          #endif
   3188              SUBPROC((void *)SendAnswer,0,p);
   3189              mfree(send_txt);
   3190              return;
   3191            }
   3192            if(!strcmp(txt, "GET_MOD_INFO"))
   \                     ??CheckComand_4:
   \   00000238   8F1F86E2           ADD      R1,R6,#+572
   \   0000023C   0A00A0E1           MOV      R0,R10
   \   00000240   190000EF           SWI      +25
   \   00000244   000050E3           CMP      R0,#+0
   \   00000248   2B00001A           BNE      ??CheckComand_7
   3193            {
   3194              comanda=0;
   \   0000024C   A0B185E5           STR      R11,[R5, #+416]
   3195              TPKT *p;
   3196              char *send_txt=malloc(256);
   \   00000250   400FA0E3           MOV      R0,#+256
   \   00000254   140000EF           SWI      +20
   3197          #ifdef EVILFOX
   3198          //    sprintf(I_UIN, "uin%d", t->uin);
   3199              strcpy(I_UIN, t->name);
   3200              if(strstr(ignor_list,I_UIN)==0)
   3201              {
   3202              strcpy(send_txt, mod_info);
   3203              }
   3204              else
   3205                strcpy(send_txt, "sorry! you are not autorized to see this info");
   3206          #else
   3207              strcpy(send_txt, mod_info);
   \   00000258   04109DE5           LDR      R1,[SP, #+4]
   \   0000025C   00A0A0E1           MOV      R10,R0
   \   00000260   1A0000EF           SWI      +26
   3208          #endif
   3209              p=malloc(sizeof(PKT)+strlen(send_txt)+1);
   \   00000264   0A00A0E1           MOV      R0,R10
   \   00000268   1B0000EF           SWI      +27
   \   0000026C   090080E2           ADD      R0,R0,#+9
   \   00000270   140000EF           SWI      +20
   \   00000274   00B0A0E1           MOV      R11,R0
   3210              p->pkt.uin=t->uin;
   \   00000278   0C0094E5           LDR      R0,[R4, #+12]
   \   0000027C   00008BE5           STR      R0,[R11, #+0]
   3211              p->pkt.type=T_SENDMSG;
   \   00000280   B480CBE1           STRH     R8,[R11, #+4]
   3212              p->pkt.data_len=strlen(send_txt);
   \   00000284   0A00A0E1           MOV      R0,R10
   \   00000288   1B0000EF           SWI      +27
   \   0000028C   B600CBE1           STRH     R0,[R11, #+6]
   3213              strcpy(p->data,send_txt);
   \   00000290   0A10A0E1           MOV      R1,R10
   \   00000294   08008BE2           ADD      R0,R11,#+8
   \   00000298   1A0000EF           SWI      +26
   3214          #ifdef EVILFOX
   3215                SENDMSGCOUNT++;
   3216          #else
   3217                if(show_send_info)
   \   0000029C   F4049FE5           LDR      R0,??CheckComand_2+0x4  ;; show_send_info
   \   000002A0   000090E5           LDR      R0,[R0, #+0]
   \   000002A4   000050E3           CMP      R0,#+0
   \   000002A8   D00095E5           LDR      R0,[R5, #+208]
   \   000002AC   010080E2           ADD      R0,R0,#+1
   \   000002B0   D00085E5           STR      R0,[R5, #+208]
   \   000002B4   0900000A           BEQ      ??CheckComand_5
   3218              AddStringToLog(t,0x01,requests4,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   000002B8   000009E0           AND      R0,R9,R0
   \   000002BC   01002DE9           PUSH     {R0}
   \   000002C0   1F3086E2           ADD      R3,R6,#+31
   \   000002C4   0110A0E3           MOV      R1,#+1
   \   000002C8   3C00A0E3           MOV      R0,#+60
   \                     ??CheckComand_6:
   \   000002CC   680D80E3           ORR      R0,R0,#0x1A00
   \   000002D0   052080E0           ADD      R2,R0,R5
   \   000002D4   0400A0E1           MOV      R0,R4
   \   000002D8   ........           BL       AddStringToLog
   \   000002DC   04D08DE2           ADD      SP,SP,#+4
   3219              else
   3220                  SENDMSGCOUNT++;
   3221          #endif
   3222              SUBPROC((void *)SendAnswer,0,p);
   \                     ??CheckComand_5:
   \   000002E0   0B20A0E1           MOV      R2,R11
   \   000002E4   0010A0E3           MOV      R1,#+0
   \   000002E8   0700A0E1           MOV      R0,R7
   \   000002EC   710100EF           SWI      +369
   3223              mfree(send_txt);
   \   000002F0   0A00A0E1           MOV      R0,R10
   \   000002F4   150000EF           SWI      +21
   3224              return;
   \   000002F8   F78FBDE8           POP      {R0-R2,R4-R11,PC}
   3225            }
   3226            if(!strcmp(txt, "GET_BAT_INFO"))
   \                     ??CheckComand_7:
   \   000002FC   991F86E2           ADD      R1,R6,#+612
   \   00000300   0A00A0E1           MOV      R0,R10
   \   00000304   190000EF           SWI      +25
   \   00000308   000050E3           CMP      R0,#+0
   \   0000030C   2100001A           BNE      ??CheckComand_8
   3227            {
   3228              comanda=0;
   \   00000310   A0B185E5           STR      R11,[R5, #+416]
   3229              TPKT *p;
   3230              int bat;
   3231              bat=*RamCap();
   \   00000314   C88000EF           SWI      +32968
   \   00000318   B0B0D0E1           LDRH     R11,[R0, #+0]
   3232              char *send_txt=malloc(64);
   \   0000031C   4000A0E3           MOV      R0,#+64
   \   00000320   140000EF           SWI      +20
   \   00000324   00A0A0E1           MOV      R10,R0
   3233              sprintf(send_txt, "battery: %d percents", bat);
   \   00000328   0B20A0E1           MOV      R2,R11
   \   0000032C   931F86E2           ADD      R1,R6,#+588
   \   00000330   160000EF           SWI      +22
   3234              p=malloc(sizeof(PKT)+21+1);
   \   00000334   1E00A0E3           MOV      R0,#+30
   \   00000338   140000EF           SWI      +20
   \   0000033C   00B0A0E1           MOV      R11,R0
   3235              p->pkt.uin=t->uin;
   \   00000340   0C0094E5           LDR      R0,[R4, #+12]
   \   00000344   00008BE5           STR      R0,[R11, #+0]
   3236              p->pkt.type=T_SENDMSG;
   \   00000348   B480CBE1           STRH     R8,[R11, #+4]
   3237              p->pkt.data_len=strlen(send_txt);
   \   0000034C   0A00A0E1           MOV      R0,R10
   \   00000350   1B0000EF           SWI      +27
   \   00000354   B600CBE1           STRH     R0,[R11, #+6]
   3238              strcpy(p->data,send_txt);
   \   00000358   0A10A0E1           MOV      R1,R10
   \   0000035C   08008BE2           ADD      R0,R11,#+8
   \   00000360   1A0000EF           SWI      +26
   3239          #ifdef EVILFOX
   3240              SENDMSGCOUNT++;
   3241          #else
   3242              if(show_send_info)
   \   00000364   2C049FE5           LDR      R0,??CheckComand_2+0x4  ;; show_send_info
   \   00000368   000090E5           LDR      R0,[R0, #+0]
   \   0000036C   000050E3           CMP      R0,#+0
   \   00000370   D00095E5           LDR      R0,[R5, #+208]
   \   00000374   010080E2           ADD      R0,R0,#+1
   \   00000378   D00085E5           STR      R0,[R5, #+208]
   \   0000037C   D7FFFF0A           BEQ      ??CheckComand_5
   3243              AddStringToLog(t,0x01,requests3,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   00000380   000009E0           AND      R0,R9,R0
   \   00000384   01002DE9           PUSH     {R0}
   \   00000388   1F3086E2           ADD      R3,R6,#+31
   \   0000038C   0110A0E3           MOV      R1,#+1
   \   00000390   2400A0E3           MOV      R0,#+36
   \   00000394   CCFFFFEA           B        ??CheckComand_6
   3244              else
   3245                  SENDMSGCOUNT++;
   3246          #endif
   3247              SUBPROC((void *)SendAnswer,0,p);
   3248              mfree(send_txt);
   3249              return;
   3250            }
   3251            if(away_m==1)
   \                     ??CheckComand_8:
   \   00000398   B400A0E3           MOV      R0,#+180
   \   0000039C   500D80E3           ORR      R0,R0,#0x1400
   \   000003A0   05A080E0           ADD      R10,R0,R5
   \   000003A4   E80095E5           LDR      R0,[R5, #+232]
   \   000003A8   010050E3           CMP      R0,#+1
   \   000003AC   3300001A           BNE      ??CheckComand_9
   3252            {
   3253              comanda=1;
   3254              TPKT *p;
   3255              if(inp_away_m)//Если ввели текст то выводим его,иначе из конфига
   \   000003B0   183195E5           LDR      R3,[R5, #+280]
   \   000003B4   E0239FE5           LDR      R2,??CheckComand_2+0x8  ;; away_msg4
   \   000003B8   A00185E5           STR      R0,[R5, #+416]
   \   000003BC   BC00A0E3           MOV      R0,#+188
   \   000003C0   540D80E3           ORR      R0,R0,#0x1500
   \   000003C4   051080E0           ADD      R1,R0,R5
   \   000003C8   02002DE9           PUSH     {R1}
   \   000003CC   000053E3           CMP      R3,#+0
   3256                sprintf(away_msg, "Автоответчик: %s %s! %s %s", away_msg4, ddd, inp_away_msg2, away_msg_time);
   \   000003D0   E4109515           LDRNE    R1,[R5, #+228]
   \   000003D4   9D0FA0E3           MOV      R0,#+628
   3257              else
   3258                sprintf(away_msg, "Автоответчик: %s %s! %s %s", away_msg4, ddd, away_msg2, away_msg_time);
   \   000003D8   ........           LDREQ    R1,??DataTable118  ;; away_msg2
   \   000003DC   02002DE9           PUSH     {R1}
   \   000003E0   10309DE5           LDR      R3,[SP, #+16]
   \   000003E4   061080E0           ADD      R1,R0,R6
   \   000003E8   0A00A0E1           MOV      R0,R10
   \   000003EC   160000EF           SWI      +22
   \   000003F0   08D08DE2           ADD      SP,SP,#+8
   3259              p=malloc(sizeof(PKT)+strlen(away_msg)+1);
   \   000003F4   0A00A0E1           MOV      R0,R10
   \   000003F8   1B0000EF           SWI      +27
   \   000003FC   090080E2           ADD      R0,R0,#+9
   \   00000400   140000EF           SWI      +20
   \   00000404   00B0A0E1           MOV      R11,R0
   3260              p->pkt.uin=t->uin;
   \   00000408   0C0094E5           LDR      R0,[R4, #+12]
   \   0000040C   00008BE5           STR      R0,[R11, #+0]
   3261              p->pkt.type=T_SENDMSG;
   \   00000410   B480CBE1           STRH     R8,[R11, #+4]
   3262              p->pkt.data_len=strlen(away_msg);
   \   00000414   0A00A0E1           MOV      R0,R10
   \   00000418   1B0000EF           SWI      +27
   \   0000041C   B600CBE1           STRH     R0,[R11, #+6]
   3263              strcpy(p->data,away_msg);
   \   00000420   0A10A0E1           MOV      R1,R10
   \   00000424   08008BE2           ADD      R0,R11,#+8
   \   00000428   1A0000EF           SWI      +26
   3264          #ifdef EVILFOX
   3265                SENDMSGCOUNT++;
   3266          #else
   3267                if(show_send_info)
   \   0000042C   64039FE5           LDR      R0,??CheckComand_2+0x4  ;; show_send_info
   \   00000430   000090E5           LDR      R0,[R0, #+0]
   \   00000434   000050E3           CMP      R0,#+0
   \   00000438   D00095E5           LDR      R0,[R5, #+208]
   \   0000043C   010080E2           ADD      R0,R0,#+1
   \   00000440   D00085E5           STR      R0,[R5, #+208]
   \   00000444   0900000A           BEQ      ??CheckComand_10
   3268                AddStringToLog(t,0x01,requests6,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   00000448   000009E0           AND      R0,R9,R0
   \   0000044C   01002DE9           PUSH     {R0}
   \   00000450   1F3086E2           ADD      R3,R6,#+31
   \   00000454   0110A0E3           MOV      R1,#+1
   \   00000458   5000A0E3           MOV      R0,#+80
   \   0000045C   680D80E3           ORR      R0,R0,#0x1A00
   \   00000460   052080E0           ADD      R2,R0,R5
   \   00000464   0400A0E1           MOV      R0,R4
   \   00000468   ........           BL       AddStringToLog
   \   0000046C   04D08DE2           ADD      SP,SP,#+4
   3269                else
   3270                  SENDMSGCOUNT++;
   3271          #endif
   3272                SUBPROC((void *)SendAnswer,0,p);
   \                     ??CheckComand_10:
   \   00000470   0B20A0E1           MOV      R2,R11
   \   00000474   0010A0E3           MOV      R1,#+0
   \   00000478   0700A0E1           MOV      R0,R7
   \   0000047C   710100EF           SWI      +369
   \                     ??CheckComand_9:
   \   00000480   18139FE5           LDR      R1,??CheckComand_2+0xC  ;; AUTOBOT_UIN
   \   00000484   0C0094E5           LDR      R0,[R4, #+12]
   \   00000488   001091E5           LDR      R1,[R1, #+0]
   \   0000048C   010050E1           CMP      R0,R1
   \   00000490   5D00001A           BNE      ??CheckComand_11
   \   00000494   A40195E5           LDR      R0,[R5, #+420]
   \   00000498   000050E3           CMP      R0,#+0
   \   0000049C   5A00000A           BEQ      ??CheckComand_11
   3273            }
   3274          //#ifdef EVILFOX
   3275            if((t->uin==AUTOBOT_UIN)&&(autobot))
   3276            {
   3277              TPKT *p;
   3278              if(t->bot_msg==0) sprintf(away_msg, "Привет");
   \   000004A0   580094E5           LDR      R0,[R4, #+88]
   \   000004A4   000050E3           CMP      R0,#+0
   \   000004A8   0200001A           BNE      ??CheckComand_12
   \   000004AC   A41F86E2           ADD      R1,R6,#+656
   \   000004B0   0A00A0E1           MOV      R0,R10
   \   000004B4   160000EF           SWI      +22
   3279              if(t->bot_msg==1) sprintf(away_msg, "думаешь?!");
   \                     ??CheckComand_12:
   \   000004B8   580094E5           LDR      R0,[R4, #+88]
   \   000004BC   010050E3           CMP      R0,#+1
   \   000004C0   0200001A           BNE      ??CheckComand_13
   \   000004C4   A61F86E2           ADD      R1,R6,#+664
   \   000004C8   0A00A0E1           MOV      R0,R10
   \   000004CC   160000EF           SWI      +22
   3280              if(t->bot_msg==2) sprintf(away_msg, "да что ты говоришь");
   \                     ??CheckComand_13:
   \   000004D0   580094E5           LDR      R0,[R4, #+88]
   \   000004D4   020050E3           CMP      R0,#+2
   \   000004D8   0200001A           BNE      ??CheckComand_14
   \   000004DC   A91F86E2           ADD      R1,R6,#+676
   \   000004E0   0A00A0E1           MOV      R0,R10
   \   000004E4   160000EF           SWI      +22
   3281              if(t->bot_msg==3) sprintf(away_msg, "странно");
   \                     ??CheckComand_14:
   \   000004E8   580094E5           LDR      R0,[R4, #+88]
   \   000004EC   030050E3           CMP      R0,#+3
   \   000004F0   0200001A           BNE      ??CheckComand_15
   \   000004F4   AE1F86E2           ADD      R1,R6,#+696
   \   000004F8   0A00A0E1           MOV      R0,R10
   \   000004FC   160000EF           SWI      +22
   3282              if(t->bot_msg==4) sprintf(away_msg, "ты так думаешь?");
   \                     ??CheckComand_15:
   \   00000500   580094E5           LDR      R0,[R4, #+88]
   \   00000504   040050E3           CMP      R0,#+4
   \   00000508   0200001A           BNE      ??CheckComand_16
   \   0000050C   B01F86E2           ADD      R1,R6,#+704
   \   00000510   0A00A0E1           MOV      R0,R10
   \   00000514   160000EF           SWI      +22
   3283              if(t->bot_msg==5) sprintf(away_msg, "может быть");
   \                     ??CheckComand_16:
   \   00000518   580094E5           LDR      R0,[R4, #+88]
   \   0000051C   050050E3           CMP      R0,#+5
   \   00000520   0200001A           BNE      ??CheckComand_17
   \   00000524   B41F86E2           ADD      R1,R6,#+720
   \   00000528   0A00A0E1           MOV      R0,R10
   \   0000052C   160000EF           SWI      +22
   3284              if(t->bot_msg==6) sprintf(away_msg, "да нахрен");
   \                     ??CheckComand_17:
   \   00000530   580094E5           LDR      R0,[R4, #+88]
   \   00000534   060050E3           CMP      R0,#+6
   \   00000538   0400001A           BNE      ??CheckComand_18
   \   0000053C   F400A0E3           MOV      R0,#+244
   \   00000540   400E80E3           ORR      R0,R0,#0x400
   \   00000544   061080E0           ADD      R1,R0,R6
   \   00000548   0A00A0E1           MOV      R0,R10
   \   0000054C   160000EF           SWI      +22
   3285              if(t->bot_msg==7) sprintf(away_msg, "конечна");
   \                     ??CheckComand_18:
   \   00000550   580094E5           LDR      R0,[R4, #+88]
   \   00000554   070050E3           CMP      R0,#+7
   \   00000558   0200001A           BNE      ??CheckComand_19
   \   0000055C   B71F86E2           ADD      R1,R6,#+732
   \   00000560   0A00A0E1           MOV      R0,R10
   \   00000564   160000EF           SWI      +22
   3286              if(t->bot_msg==8) sprintf(away_msg, "почему нет");
   \                     ??CheckComand_19:
   \   00000568   580094E5           LDR      R0,[R4, #+88]
   \   0000056C   080050E3           CMP      R0,#+8
   \   00000570   0200001A           BNE      ??CheckComand_20
   \   00000574   B91F86E2           ADD      R1,R6,#+740
   \   00000578   0A00A0E1           MOV      R0,R10
   \   0000057C   160000EF           SWI      +22
   3287              t->bot_msg++;
   \                     ??CheckComand_20:
   \   00000580   580094E5           LDR      R0,[R4, #+88]
   \   00000584   010080E2           ADD      R0,R0,#+1
   \   00000588   580084E5           STR      R0,[R4, #+88]
   3288              if(t->bot_msg==9)
   \   0000058C   090050E3           CMP      R0,#+9
   3289                t->bot_msg=1;
   \   00000590   0100A003           MOVEQ    R0,#+1
   \   00000594   58008405           STREQ    R0,[R4, #+88]
   3290           //     strcpy(away_msg, c);
   3291                p=malloc(sizeof(PKT)+strlen(away_msg)+1);
   \   00000598   0A00A0E1           MOV      R0,R10
   \   0000059C   1B0000EF           SWI      +27
   \   000005A0   090080E2           ADD      R0,R0,#+9
   \   000005A4   140000EF           SWI      +20
   \   000005A8   00B0A0E1           MOV      R11,R0
   3292                p->pkt.uin=t->uin;
   \   000005AC   0C0094E5           LDR      R0,[R4, #+12]
   \   000005B0   00008BE5           STR      R0,[R11, #+0]
   3293                p->pkt.type=T_SENDMSG;
   \   000005B4   B480CBE1           STRH     R8,[R11, #+4]
   3294                p->pkt.data_len=strlen(away_msg);
   \   000005B8   0A00A0E1           MOV      R0,R10
   \   000005BC   1B0000EF           SWI      +27
   \   000005C0   B600CBE1           STRH     R0,[R11, #+6]
   3295                strcpy(p->data,away_msg);
   \   000005C4   0A10A0E1           MOV      R1,R10
   \   000005C8   08008BE2           ADD      R0,R11,#+8
   \   000005CC   1A0000EF           SWI      +26
   3296                AddStringToLog(t,0x01,away_msg,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   000005D0   D00095E5           LDR      R0,[R5, #+208]
   \   000005D4   1F3086E2           ADD      R3,R6,#+31
   \   000005D8   010080E2           ADD      R0,R0,#+1
   \   000005DC   D00085E5           STR      R0,[R5, #+208]
   \   000005E0   000009E0           AND      R0,R9,R0
   \   000005E4   01002DE9           PUSH     {R0}
   \   000005E8   0A20A0E1           MOV      R2,R10
   \   000005EC   0110A0E3           MOV      R1,#+1
   \   000005F0   0400A0E1           MOV      R0,R4
   \   000005F4   ........           BL       AddStringToLog
   3297                SUBPROC((void *)SendAnswer,0,p);
   \   000005F8   0B20A0E1           MOV      R2,R11
   \   000005FC   0010A0E3           MOV      R1,#+0
   \   00000600   0700A0E1           MOV      R0,R7
   \   00000604   710100EF           SWI      +369
   \   00000608   04D08DE2           ADD      SP,SP,#+4
   3298            }
   3299          extern const int autobot_kel;
   3300            if((t->uin==334492880)&&(autobot_kel))
   \                     ??CheckComand_11:
   \   0000060C   0C0094E5           LDR      R0,[R4, #+12]
   \   00000610   8C119FE5           LDR      R1,??CheckComand_2+0x10  ;; 0x13eff4d0
   \   00000614   010050E1           CMP      R0,R1
   \   00000618   F78FBD18           POPNE    {R0-R2,R4-R11,PC}
   \   0000061C   84019FE5           LDR      R0,??CheckComand_2+0x14  ;; autobot_kel
   \   00000620   000090E5           LDR      R0,[R0, #+0]
   \   00000624   000050E3           CMP      R0,#+0
   \   00000628   F78FBD08           POPEQ    {R0-R2,R4-R11,PC}
   3301            {
   3302              TPKT *p;
   3303              //if(t->bot_msg==0) sprintf(away_msg, "Привет");
   3304              if(t->bot_msg==0) sprintf(away_msg, "думаешь?!");
   \   0000062C   580094E5           LDR      R0,[R4, #+88]
   \   00000630   000050E3           CMP      R0,#+0
   \   00000634   0200001A           BNE      ??CheckComand_21
   \   00000638   A61F86E2           ADD      R1,R6,#+664
   \   0000063C   0A00A0E1           MOV      R0,R10
   \   00000640   160000EF           SWI      +22
   3305              if(t->bot_msg==1) sprintf(away_msg, "да что ты говоришь");
   \                     ??CheckComand_21:
   \   00000644   580094E5           LDR      R0,[R4, #+88]
   \   00000648   010050E3           CMP      R0,#+1
   \   0000064C   0200001A           BNE      ??CheckComand_22
   \   00000650   A91F86E2           ADD      R1,R6,#+676
   \   00000654   0A00A0E1           MOV      R0,R10
   \   00000658   160000EF           SWI      +22
   3306              if(t->bot_msg==2) sprintf(away_msg, "странно");
   \                     ??CheckComand_22:
   \   0000065C   580094E5           LDR      R0,[R4, #+88]
   \   00000660   020050E3           CMP      R0,#+2
   \   00000664   0200001A           BNE      ??CheckComand_23
   \   00000668   AE1F86E2           ADD      R1,R6,#+696
   \   0000066C   0A00A0E1           MOV      R0,R10
   \   00000670   160000EF           SWI      +22
   3307              if(t->bot_msg==3) sprintf(away_msg, "угу");
   \                     ??CheckComand_23:
   \   00000674   580094E5           LDR      R0,[R4, #+88]
   \   00000678   030050E3           CMP      R0,#+3
   \   0000067C   0200001A           BNE      ??CheckComand_24
   \   00000680   431F8FE2           ADR      R1,??CheckComand_2  ;; "угу"
   \   00000684   0A00A0E1           MOV      R0,R10
   \   00000688   160000EF           SWI      +22
   3308              if(t->bot_msg==4) sprintf(away_msg, "Не еби мозг!");
   \                     ??CheckComand_24:
   \   0000068C   580094E5           LDR      R0,[R4, #+88]
   \   00000690   040050E3           CMP      R0,#+4
   \   00000694   0200001A           BNE      ??CheckComand_25
   \   00000698   BC1F86E2           ADD      R1,R6,#+752
   \   0000069C   0A00A0E1           MOV      R0,R10
   \   000006A0   160000EF           SWI      +22
   3309              if(t->bot_msg==5) sprintf(away_msg, "иди на хуй!!");
   \                     ??CheckComand_25:
   \   000006A4   580094E5           LDR      R0,[R4, #+88]
   \   000006A8   050050E3           CMP      R0,#+5
   \   000006AC   0200001A           BNE      ??CheckComand_26
   \   000006B0   C01F86E2           ADD      R1,R6,#+768
   \   000006B4   0A00A0E1           MOV      R0,R10
   \   000006B8   160000EF           SWI      +22
   3310              if(t->bot_msg==6) sprintf(away_msg, "сука");
   \                     ??CheckComand_26:
   \   000006BC   580094E5           LDR      R0,[R4, #+88]
   \   000006C0   060050E3           CMP      R0,#+6
   \   000006C4   0200001A           BNE      ??CheckComand_27
   \   000006C8   C41F86E2           ADD      R1,R6,#+784
   \   000006CC   0A00A0E1           MOV      R0,R10
   \   000006D0   160000EF           SWI      +22
   3311              if(t->bot_msg==7) sprintf(away_msg, "заебал");
   \                     ??CheckComand_27:
   \   000006D4   580094E5           LDR      R0,[R4, #+88]
   \   000006D8   070050E3           CMP      R0,#+7
   \   000006DC   0200001A           BNE      ??CheckComand_28
   \   000006E0   C61F86E2           ADD      R1,R6,#+792
   \   000006E4   0A00A0E1           MOV      R0,R10
   \   000006E8   160000EF           SWI      +22
   3312              if(t->bot_msg==8) sprintf(away_msg, "отъебись!!!!!гад!!*FUCK_YOU*");
   \                     ??CheckComand_28:
   \   000006EC   580094E5           LDR      R0,[R4, #+88]
   \   000006F0   080050E3           CMP      R0,#+8
   \   000006F4   0200001A           BNE      ??CheckComand_29
   \   000006F8   C81F86E2           ADD      R1,R6,#+800
   \   000006FC   0A00A0E1           MOV      R0,R10
   \   00000700   160000EF           SWI      +22
   3313              t->bot_msg++;
   \                     ??CheckComand_29:
   \   00000704   580094E5           LDR      R0,[R4, #+88]
   \   00000708   010080E2           ADD      R0,R0,#+1
   \   0000070C   580084E5           STR      R0,[R4, #+88]
   3314              if(t->bot_msg==9)
   \   00000710   090050E3           CMP      R0,#+9
   3315                t->bot_msg=1;
   \   00000714   0100A003           MOVEQ    R0,#+1
   \   00000718   58008405           STREQ    R0,[R4, #+88]
   3316           //     strcpy(away_msg, c);
   3317                p=malloc(sizeof(PKT)+strlen(away_msg)+1);
   \   0000071C   0A00A0E1           MOV      R0,R10
   \   00000720   1B0000EF           SWI      +27
   \   00000724   090080E2           ADD      R0,R0,#+9
   \   00000728   140000EF           SWI      +20
   \   0000072C   00B0A0E1           MOV      R11,R0
   3318                p->pkt.uin=t->uin;
   \   00000730   0C0094E5           LDR      R0,[R4, #+12]
   \   00000734   00008BE5           STR      R0,[R11, #+0]
   3319                p->pkt.type=T_SENDMSG;
   \   00000738   B480CBE1           STRH     R8,[R11, #+4]
   3320                p->pkt.data_len=strlen(away_msg);
   \   0000073C   0A00A0E1           MOV      R0,R10
   \   00000740   1B0000EF           SWI      +27
   \   00000744   B600CBE1           STRH     R0,[R11, #+6]
   3321                strcpy(p->data,away_msg);
   \   00000748   0A10A0E1           MOV      R1,R10
   \   0000074C   08008BE2           ADD      R0,R11,#+8
   \   00000750   1A0000EF           SWI      +26
   3322                AddStringToLog(t,0x01,away_msg,I_str,(++SENDMSGCOUNT)&0x7FFF);
   \   00000754   D00095E5           LDR      R0,[R5, #+208]
   \   00000758   1F3086E2           ADD      R3,R6,#+31
   \   0000075C   010080E2           ADD      R0,R0,#+1
   \   00000760   D00085E5           STR      R0,[R5, #+208]
   \   00000764   000009E0           AND      R0,R9,R0
   \   00000768   01002DE9           PUSH     {R0}
   \   0000076C   0A20A0E1           MOV      R2,R10
   \   00000770   0110A0E3           MOV      R1,#+1
   \   00000774   0400A0E1           MOV      R0,R4
   \   00000778   ........           BL       AddStringToLog
   3323                SUBPROC((void *)SendAnswer,0,p);
   \   0000077C   0B20A0E1           MOV      R2,R11
   \   00000780   0010A0E3           MOV      R1,#+0
   \   00000784   0700A0E1           MOV      R0,R7
   \   00000788   710100EF           SWI      +369
   \   0000078C   04D08DE2           ADD      SP,SP,#+4
   \   00000790   F78FBDE8           POP      {R0-R2,R4-R11,PC}  ;; return
   \                     ??CheckComand_2:
   \   00000794   F3E3F300           DC8      "угу"
   \   00000798   ........           DC32     show_send_info
   \   0000079C   ........           DC32     away_msg4
   \   000007A0   ........           DC32     AUTOBOT_UIN
   \   000007A4   D0F4EF13           DC32     0x13eff4d0
   \   000007A8   ........           DC32     autobot_kel
   3324            }
   3325          
   3326          //#endif
   3327          }
   3328          //===========================komand list end
   3329          

   \                                 In segment DATA_Z, align 4, align-sorted
   3330          char INC_Nick[32];
   \                     INC_Nick:
   \   00000000                      DS8 32
   3331          char show_nick[32];
   3332          int INC_show;
   3333          #ifdef ELKA
   3334          int font =9;
   3335          #else
   3336          int font= 4;
   3337          #endif
   3338          const char color[4]={255,255,255,100};
   3339          

   \                                 In segment CODE, align 4, keep-with-next
   3340          void show_pp_sender()
   3341          {
   \                     show_pp_sender:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   3342            if(INC_show>0)
   \   00000004   ........           LDR      R4,??DataTable120  ;; S_ICONS
   \   00000008   A80194E5           LDR      R0,[R4, #+424]
   \   0000000C   010050E3           CMP      R0,#+1
   \   00000010   F081BDB8           POPLT    {R4-R8,PC}
   3343            {
   3344              WSHDR *ws=AllocWS(256);
   \   00000014   400FA0E3           MOV      R0,#+256
   \   00000018   250100EF           SWI      +293
   \   0000001C   0050A0E1           MOV      R5,R0
   3345              ascii2ws(ws,show_nick);
   \   00000020   7400A0E3           MOV      R0,#+116
   \   00000024   6C0D80E3           ORR      R0,R0,#0x1B00
   \   00000028   041080E0           ADD      R1,R0,R4
   \   0000002C   0500A0E1           MOV      R0,R5
   \   00000030   ........           _BLF     ascii2ws,??ascii2ws??rA
   3346              DrawRectangle(0,0,Get_WS_width(ws,font)+2,GetFontYSIZE(font)+2,0,GetPaletteAdrByColorIndex(1),GetPaletteAdrByColorIndex(1));
   \   00000034   0100A0E3           MOV      R0,#+1
   \   00000038   2E0100EF           SWI      +302
   \   0000003C   0060A0E1           MOV      R6,R0
   \   00000040   0100A0E3           MOV      R0,#+1
   \   00000044   2E0100EF           SWI      +302
   \   00000048   0070A0E1           MOV      R7,R0
   \   0000004C   AC0194E5           LDR      R0,[R4, #+428]
   \   00000050   C50100EF           SWI      +453
   \   00000054   AC1194E5           LDR      R1,[R4, #+428]
   \   00000058   0080A0E1           MOV      R8,R0
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   080200EF           SWI      +520
   \   00000064   40002DE9           PUSH     {R6}
   \   00000068   80002DE9           PUSH     {R7}
   \   0000006C   0010A0E3           MOV      R1,#+0
   \   00000070   02002DE9           PUSH     {R1}
   \   00000074   023088E2           ADD      R3,R8,#+2
   \   00000078   022080E2           ADD      R2,R0,#+2
   \   0000007C   0000A0E3           MOV      R0,#+0
   \   00000080   B40100EF           SWI      +436
   3347              DrawString(ws,1,1,1+Get_WS_width(ws,font)+2,1+GetFontYSIZE(font),font,0,( char*) color,GetPaletteAdrByColorIndex(23));
   \   00000084   1700A0E3           MOV      R0,#+23
   \   00000088   2E0100EF           SWI      +302
   \   0000008C   0060A0E1           MOV      R6,R0
   \   00000090   AC0194E5           LDR      R0,[R4, #+428]
   \   00000094   C50100EF           SWI      +453
   \   00000098   AC1194E5           LDR      R1,[R4, #+428]
   \   0000009C   0070A0E1           MOV      R7,R0
   \   000000A0   0500A0E1           MOV      R0,R5
   \   000000A4   080200EF           SWI      +520
   \   000000A8   64109FE5           LDR      R1,??show_pp_sender_0  ;; color
   \   000000AC   40002DE9           PUSH     {R6}
   \   000000B0   02002DE9           PUSH     {R1}
   \   000000B4   033080E2           ADD      R3,R0,#+3
   \   000000B8   0120A0E3           MOV      R2,#+1
   \   000000BC   0500A0E1           MOV      R0,R5
   \   000000C0   0010A0E3           MOV      R1,#+0
   \   000000C4   02002DE9           PUSH     {R1}
   \   000000C8   AC1194E5           LDR      R1,[R4, #+428]
   \   000000CC   02002DE9           PUSH     {R1}
   \   000000D0   011087E2           ADD      R1,R7,#+1
   \   000000D4   02002DE9           PUSH     {R1}
   \   000000D8   0210A0E1           MOV      R1,R2
   \   000000DC   4C0100EF           SWI      +332
   3348              FreeWS(ws);
   \   000000E0   0500A0E1           MOV      R0,R5
   \   000000E4   290100EF           SWI      +297
   3349              INC_show--;
   \   000000E8   A80194E5           LDR      R0,[R4, #+424]
   3350              GBS_StartTimerProc(&develop, 10, show_pp_sender);
   \   000000EC   24209FE5           LDR      R2,??show_pp_sender_0+0x4  ;; show_pp_sender
   \   000000F0   010040E2           SUB      R0,R0,#+1
   \   000000F4   A80184E5           STR      R0,[R4, #+424]
   \   000000F8   0A10A0E3           MOV      R1,#+10
   \   000000FC   E800A0E3           MOV      R0,#+232
   \   00000100   640D80E3           ORR      R0,R0,#0x1900
   \   00000104   040080E0           ADD      R0,R0,R4
   \   00000108   4D0000EF           SWI      +77
   \   0000010C   20D08DE2           ADD      SP,SP,#+32
   3351            }
   3352          }
   \   00000110   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??show_pp_sender_0:
   \   00000114   ........           DC32     color
   \   00000118   ........           DC32     show_pp_sender
   3353          
   3354          extern const int SHOW_ACTIVE;
   3355          

   \                                 In segment CODE, align 4, keep-with-next
   3356          void Get_Online_total()
   3357          {
   3358            CLIST *t;
   3359            kopa_online=0;
   \                     Get_Online_total:
   \   00000000   ........           LDR      R0,??DataTable120  ;; S_ICONS
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   801180E5           STR      R1,[R0, #+384]
   3360            kopa_kontaktu=0;
   \   0000000C   841180E5           STR      R1,[R0, #+388]
   3361            t=(CLIST *)(&cltop);
   \   00000010   5A1F80E2           ADD      R1,R0,#+360
   \   00000014   FF30A0E3           MOV      R3,#+255
   \   00000018   FF3C83E3           ORR      R3,R3,#0xFF00
   \   0000001C   0A0000EA           B        ??Get_Online_total_0
   3362            while(t=(CLIST *)(t->next))
   3363            {
   3364              if (!t->isgroup)
   \                     ??Get_Online_total_1:
   \   00000020   082091E5           LDR      R2,[R1, #+8]
   \   00000024   000052E3           CMP      R2,#+0
   \   00000028   0700001A           BNE      ??Get_Online_total_0
   3365              {
   3366                kopa_online++;
   \   0000002C   802190E5           LDR      R2,[R0, #+384]
   \   00000030   012082E2           ADD      R2,R2,#+1
   \   00000034   802180E5           STR      R2,[R0, #+384]
   3367                if (t->state!=65535) kopa_kontaktu++;
   \   00000038   B425D1E1           LDRH     R2,[R1, #+84]
   \   0000003C   030052E1           CMP      R2,R3
   \   00000040   84219015           LDRNE    R2,[R0, #+388]
   \   00000044   01208212           ADDNE    R2,R2,#+1
   \   00000048   84218015           STRNE    R2,[R0, #+388]
   3368              }
   3369            }
   \                     ??Get_Online_total_0:
   \   0000004C   001091E5           LDR      R1,[R1, #+0]
   \   00000050   000051E3           CMP      R1,#+0
   \   00000054   F1FFFF1A           BNE      ??Get_Online_total_1
   3370          }
   \   00000058   1EFF2FE1           BX       LR               ;; return
   3371          

   \                                 In segment CODE, align 4, keep-with-next
   3372          ProcessPacket(TPKT *p)
   3373          {
   \                     ProcessPacket:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   4CDF4DE2           SUB      SP,SP,#+304
   3374            extern const int VIBR_TYPE, VIBR_ON_CONNECT;
   3375            CLIST *t;
   3376            LOGQ *q;
   3377            char s[256];
   3378            switch(p->pkt.type)
   \   00000008   ........           LDR      R5,??DataTable133  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   0000000C   ........           LDR      R7,??DataTable139  ;; S_ICONS
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   B410D4E1           LDRH     R1,[R4, #+4]
   \   00000018   000094E5           LDR      R0,[R4, #+0]
   \   0000001C   0160A0E3           MOV      R6,#+1
   \   00000020   0080A0E3           MOV      R8,#+0
   \   00000024   031041E2           SUB      R1,R1,#+3
   \   00000028   1C0051E3           CMP      R1,#+28
   \   0000002C   0F02008A           BHI      ??ProcessPacket_1
   \   00000030   022F8FE2           ADR      R2,??ProcessPacket_0
   \   00000034   8110A0E1           MOV      R1,R1, LSL #+1
   \   00000038   B12092E1           LDRH     R2,[R2, R1]
   \   0000003C   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??ProcessPacket_0:
   \   00000040   C2000E000B02       DC16     +194,+14,+523,+523
   \              0B02        
   \   00000048   11000B024400       DC16     +17,+523,+68,+523
   \              0B02        
   \   00000050   0B020B020B02       DC16     +523,+523,+523,+523
   \              0B02        
   \   00000058   0B0273017301       DC16     +523,+371,+371,+523
   \              0B02        
   \   00000060   0B0235004200       DC16     +523,+53,+66,+523
   \              0B02        
   \   00000068   0B020B02A901       DC16     +523,+523,+425,+523
   \              0B02        
   \   00000070   0B020B020B02       DC16     +523,+523,+523,+523
   \              0B02        
   \   00000078   09020000           DC16     +521,+0
   3379            {
   3380            case T_LOGIN:
   3381              set_my_status();
   \                     ??ProcessPacket_2:
   \   0000007C   ........           BL       set_my_status
   3382              set_my_xstatus();
   \   00000080   ........           BL       set_my_xstatus
   \   00000084   F90100EA           B        ??ProcessPacket_1
   3383              break;
   3384            case T_CLENTRY:
   3385              if (p->pkt.uin)
   \                     ??ProcessPacket_3:
   \   00000088   000050E3           CMP      R0,#+0
   \   0000008C   1300000A           BEQ      ??ProcessPacket_4
   3386              {
   3387                if ((t=FindContactByUin(p->pkt.uin)))
   \   00000090   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   00000094   0090B0E1           MOVS     R9,R0
   \   00000098   0A00000A           BEQ      ??ProcessPacket_5
   3388                {
   3389          	//        t->state=0xFFFF;
   3390                  strncpy(t->name,p->data,63);
   \   0000009C   3F20A0E3           MOV      R2,#+63
   \   000000A0   081084E2           ADD      R1,R4,#+8
   \   000000A4   140089E2           ADD      R0,R9,#+20
   \   000000A8   160100EF           SWI      +278
   3391          	t->group=GROUP_CACHE;
   \   000000AC   6C0197E5           LDR      R0,[R7, #+364]
   \   000000B0   100089E5           STR      R0,[R9, #+16]
   3392          	ChangeContactPos(t);
   \                     ??ProcessPacket_6:
   \   000000B4   0900A0E1           MOV      R0,R9
   \   000000B8   ........           _BLF     ChangeContactPos,??ChangeContactPos??rA
   3393          	RecountMenu(t);
   \   000000BC   0900A0E1           MOV      R0,R9
   \                     ??ProcessPacket_7:
   \   000000C0   ........           BL       RecountMenu
   \   000000C4   E90100EA           B        ??ProcessPacket_1
   3394                }
   3395                else
   3396                {
   3397                 // RecountMenu(AddContact(p->pkt.uin,p->data));
   3398                  RecountMenu(AddContact(p->pkt.uin,p->data, GROUP_CACHE, 0));
   \                     ??ProcessPacket_5:
   \   000000C8   6C2197E5           LDR      R2,[R7, #+364]
   \   000000CC   000094E5           LDR      R0,[R4, #+0]
   \   000000D0   0030A0E3           MOV      R3,#+0
   \   000000D4   081084E2           ADD      R1,R4,#+8
   \   000000D8   ........           _BLF     AddContact,??AddContact??rA
   \   000000DC   F7FFFFEA           B        ??ProcessPacket_7
   3399                }
   3400              }
   3401              else
   3402              {
   3403                if(VIBR_ON_CONNECT)
   \                     ??ProcessPacket_4:
   \   000000E0   ........           LDR      R0,??DataTable123  ;; VIBR_ON_CONNECT
   \   000000E4   000090E5           LDR      R0,[R0, #+0]
   \   000000E8   000050E3           CMP      R0,#+0
   \   000000EC   0100000A           BEQ      ??ProcessPacket_8
   3404                {
   3405                  vibra_count=1;
   \   000000F0   F86087E5           STR      R6,[R7, #+248]
   3406                  start_vibra();
   \   000000F4   ........           BL       start_vibra
   3407                }
   3408                GROUP_CACHE=0;
   \                     ??ProcessPacket_8:
   \   000000F8   6C8187E5           STR      R8,[R7, #+364]
   3409                ask_my_info();
   3410                if (contactlist_menu_id)
   \   000000FC   700197E5           LDR      R0,[R7, #+368]
   \   00000100   000050E3           CMP      R0,#+0
   \   00000104   0100000A           BEQ      ??ProcessPacket_9
   3411                {
   3412          	RecountMenu(NULL);
   \   00000108   0000A0E3           MOV      R0,#+0
   \                     ??ProcessPacket_10:
   \   0000010C   EBFFFFEA           B        ??ProcessPacket_7
   3413                }
   3414                else
   3415                  create_contactlist_menu();
   \                     ??ProcessPacket_9:
   \   00000110   ........           BL       create_contactlist_menu
   \   00000114   D50100EA           B        ??ProcessPacket_1
   3416              }
   3417              break;
   3418            case T_GROUPID:
   3419              if (t=FindGroupByID(GROUP_CACHE=p->pkt.uin))
   \                     ??ProcessPacket_11:
   \   00000118   6C0187E5           STR      R0,[R7, #+364]
   \   0000011C   ........           _BLF     FindGroupByID,??FindGroupByID??rA
   \   00000120   0090B0E1           MOVS     R9,R0
   \   00000124   0400000A           BEQ      ??ProcessPacket_12
   3420              {
   3421                strncpy(t->name,p->data,63);
   \   00000128   3F20A0E3           MOV      R2,#+63
   \   0000012C   081084E2           ADD      R1,R4,#+8
   \   00000130   140089E2           ADD      R0,R9,#+20
   \   00000134   160100EF           SWI      +278
   3422                ChangeContactPos(t);
   \   00000138   DDFFFFEA           B        ??ProcessPacket_6
   3423                RecountMenu(t);
   3424              }
   3425              else
   3426              {
   3427                RecountMenu(AddGroup(p->pkt.uin,p->data));
   \                     ??ProcessPacket_12:
   \   0000013C   000094E5           LDR      R0,[R4, #+0]
   \   00000140   081084E2           ADD      R1,R4,#+8
   \   00000144   ........           _BLF     AddGroup,??AddGroup??rA
   \   00000148   DCFFFFEA           B        ??ProcessPacket_7
   3428              }
   3429              break;
   3430            case T_GROUPFOLLOW:
   3431              GROUP_CACHE=p->pkt.uin;
   \                     ??ProcessPacket_13:
   \   0000014C   6C0187E5           STR      R0,[R7, #+364]
   \   00000150   C60100EA           B        ??ProcessPacket_1
   3432              break;
   3433            case T_STATUSCHANGE:
   3434              t=FindContactByUin(p->pkt.uin);
   \                     ??ProcessPacket_14:
   \   00000154   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   00000158   0090B0E1           MOVS     R9,R0
   3435              if (t)
   \   0000015C   6B00000A           BEQ      ??ProcessPacket_15
   3436              {
   3437                int i=t->state;
   \   00000160   B415D9E1           LDRH     R1,[R9, #+84]
   3438                CLIST *oldt=NULL;
   \   00000164   00A0A0E3           MOV      R10,#+0
   \   00000168   00108DE5           STR      R1,[SP, #+0]
   \   0000016C   0A00D4E5           LDRB     R0,[R4, #+10]
   \   00000170   B615D9E1           LDRH     R1,[R9, #+86]
   \   00000174   000051E1           CMP      R1,R0
   \   00000178   1D00000A           BEQ      ??ProcessPacket_16
   3439                if (t->xstate!=p->data[2])  // Если картинка икс статуса сменилась
   3440                {
   3441                  t->xstate=p->data[2];
   \   0000017C   B605C9E1           STRH     R0,[R9, #+86]
   3442                  FreeXText(t);
   \   00000180   0900A0E1           MOV      R0,R9
   \   00000184   ........           _BLF     FreeXText,??FreeXText??rA
   3443                  if (t->xstate && ENA_AUTO_XTXT)   // Если установлен икс статус и можно запрашивать по смене икс статуса :)
   \   00000188   B605D9E1           LDRH     R0,[R9, #+86]
   \   0000018C   000050E3           CMP      R0,#+0
   \   00000190   1600000A           BEQ      ??ProcessPacket_17
   \   00000194   E8069FE5           LDR      R0,??ProcessPacket_18+0x4  ;; ENA_AUTO_XTXT
   \   00000198   000090E5           LDR      R0,[R0, #+0]
   \   0000019C   000050E3           CMP      R0,#+0
   \   000001A0   1200000A           BEQ      ??ProcessPacket_17
   3444                  {
   3445                    t->req_xtext=1;
   \   000001A4   8C6089E5           STR      R6,[R9, #+140]
   3446                    if (edchat_id)   // Если открыт чат
   \   000001A8   740197E5           LDR      R0,[R7, #+372]
   \   000001AC   000050E3           CMP      R0,#+0
   \   000001B0   0F00000A           BEQ      ??ProcessPacket_16
   3447                    {
   3448                      void *data=FindGUIbyId(edchat_id,NULL);
   \   000001B4   740197E5           LDR      R0,[R7, #+372]
   \   000001B8   0010A0E3           MOV      R1,#+0
   \   000001BC   090200EF           SWI      +521
   3449                      if (data)
   \   000001C0   000050E3           CMP      R0,#+0
   \   000001C4   0A00000A           BEQ      ??ProcessPacket_16
   3450                      {
   3451                        EDCHAT_STRUCT *ed_struct=EDIT_GetUserPointer(data);
   \   000001C8   DF0100EF           SWI      +479
   3452                        if (ed_struct)
   \   000001CC   000050E3           CMP      R0,#+0
   \   000001D0   0700000A           BEQ      ??ProcessPacket_16
   3453                        {
   3454                          if (ed_struct->ed_contact==t)   // Если наш чат то запрашиваем текст статуса
   \   000001D4   000090E5           LDR      R0,[R0, #+0]
   \   000001D8   090050E1           CMP      R0,R9
   \   000001DC   0400001A           BNE      ??ProcessPacket_16
   3455                          {
   3456                            t->req_xtext=0;
   \   000001E0   8C8089E5           STR      R8,[R9, #+140]
   3457                            RequestXText(t->uin);
   \   000001E4   0C0099E5           LDR      R0,[R9, #+12]
   \   000001E8   ........           BL       RequestXText
   \   000001EC   000000EA           B        ??ProcessPacket_16
   3458                          }
   3459                        }
   3460          	    }
   3461          	  }
   3462          	}
   3463                  else  // Если икс статус не установлен то на всякий случай снимаем флаг получения текста
   3464                  {
   3465                    t->req_xtext=0;
   \                     ??ProcessPacket_17:
   \   000001F0   8C8089E5           STR      R8,[R9, #+140]
   3466                  }
   3467                }
   3468                if (contactlist_menu_id)
   \                     ??ProcessPacket_16:
   \   000001F4   700197E5           LDR      R0,[R7, #+368]
   \   000001F8   000050E3           CMP      R0,#+0
   \   000001FC   0500000A           BEQ      ??ProcessPacket_19
   3469                {
   3470          	oldt=FindContactByN(GetCurMenuItem(FindGUIbyId(contactlist_menu_id,NULL)));
   \   00000200   700197E5           LDR      R0,[R7, #+368]
   \   00000204   0010A0E3           MOV      R1,#+0
   \   00000208   090200EF           SWI      +521
   \   0000020C   8F0100EF           SWI      +399
   \   00000210   ........           _BLF     FindContactByN,??FindContactByN??rA
   \   00000214   00A0A0E1           MOV      R10,R0
   3471                }
   3472                if(t->state==65535) t->change=1;
   \                     ??ProcessPacket_19:
   \   00000218   B405D9E1           LDRH     R0,[R9, #+84]
   \   0000021C   FFB0A0E3           MOV      R11,#+255
   \   00000220   FFBC8BE3           ORR      R11,R11,#0xFF00
   \   00000224   0B0050E1           CMP      R0,R11
   \   00000228   60608905           STREQ    R6,[R9, #+96]
   3473                t->state=*((unsigned short *)(p->data));
   \   0000022C   B800D4E1           LDRH     R0,[R4, #+8]
   \   00000230   B405C9E1           STRH     R0,[R9, #+84]
   3474                if((t->state!=65535)&&(t->change==1))
   \   00000234   0B0050E1           CMP      R0,R11
   \   00000238   0400000A           BEQ      ??ProcessPacket_20
   \   0000023C   600099E5           LDR      R0,[R9, #+96]
   \   00000240   010050E3           CMP      R0,#+1
   3475                {
   3476                  t->just_now=2;
   \   00000244   0200A003           MOVEQ    R0,#+2
   \   00000248   5C008905           STREQ    R0,[R9, #+92]
   3477                  t->change=0;
   \   0000024C   60808905           STREQ    R8,[R9, #+96]
   3478                }
   3479                LogStatusChange(t);
   \                     ??ProcessPacket_20:
   \   00000250   0900A0E1           MOV      R0,R9
   \   00000254   ........           _BLF     LogStatusChange,??LogStatusChange??rA
   3480                ChangeContactPos(t);
   \   00000258   0900A0E1           MOV      R0,R9
   \   0000025C   ........           _BLF     ChangeContactPos,??ChangeContactPos??rA
   3481                RecountMenu(oldt);
   \   00000260   0A00A0E1           MOV      R0,R10
   \   00000264   ........           BL       RecountMenu
   3482                if ((t->state!=0xFFFF)&&(i==0xFFFF))//Звук
   \   00000268   B405D9E1           LDRH     R0,[R9, #+84]
   \   0000026C   0B0050E1           CMP      R0,R11
   \   00000270   1A00000A           BEQ      ??ProcessPacket_21
   \   00000274   00109DE5           LDR      R1,[SP, #+0]
   \   00000278   0B0051E1           CMP      R1,R11
   \   0000027C   1700001A           BNE      ??ProcessPacket_21
   3483                {
   3484          #ifdef EVILFOX
   3485                  if(!extended_sounds)
   3486                  {
   3487          	Play(sndGlobal);
   3488                  }
   3489                  else
   3490                  {
   3491                    uins=t->uin;
   3492                    sprintf(talk_sound, "%s%d.wav", sndGlobal2, uins);
   3493                    Play(talk_sound);
   3494                  }
   3495          #else
   3496                  if(!extended_sounds)
   \   00000280   ........           LDR      R0,??DataTable124  ;; extended_sounds
   \   00000284   FC659FE5           LDR      R6,??ProcessPacket_18+0x8  ;; sndGlobal
   \   00000288   000090E5           LDR      R0,[R0, #+0]
   \   0000028C   000050E3           CMP      R0,#+0
   3497                  {
   3498          	Play(sndGlobal);
   \   00000290   0600A001           MOVEQ    R0,R6
   \   00000294   1700000A           BEQ      ??ProcessPacket_22
   3499                  }
   3500                  else
   3501                  {
   3502                    FSTATS stat;
   3503                    int fsize;
   3504              unsigned int ul = 0;
   3505                  uins=t->uin;
   3506                  sprintf(talk_sound, "%s%d.wav", sndGlobal2, uins);
   \   00000298   EC259FE5           LDR      R2,??ProcessPacket_18+0xC  ;; sndGlobal2
   \   0000029C   04808DE5           STR      R8,[SP, #+4]
   \   000002A0   0C0099E5           LDR      R0,[R9, #+12]
   \   000002A4   C58FA0E3           MOV      R8,#+788
   \   000002A8   A40087E5           STR      R0,[R7, #+164]
   \   000002AC   0030A0E1           MOV      R3,R0
   \   000002B0   451F85E2           ADD      R1,R5,#+276
   \   000002B4   070088E0           ADD      R0,R8,R7
   \   000002B8   160000EF           SWI      +22
   3507                  GetFileStats(talk_sound,&stat,&ul);
   \   000002BC   04208DE2           ADD      R2,SP,#+4
   \   000002C0   421F8DE2           ADD      R1,SP,#+264
   \   000002C4   070088E0           ADD      R0,R8,R7
   \   000002C8   840000EF           SWI      +132
   3508                  fsize=stat.size;
   3509                  if(fsize>0)
   \   000002CC   0C019DE5           LDR      R0,[SP, #+268]
   \   000002D0   010050E3           CMP      R0,#+1
   \   000002D4   0600A0B1           MOVLT    R0,R6
   3510                  Play(talk_sound);
   \   000002D8   070088A0           ADDGE    R0,R8,R7
   \   000002DC   050000EA           B        ??ProcessPacket_22
   3511                  else
   3512                    Play(sndGlobal);
   3513                  }
   3514          #endif
   3515                }
   3516                if ((i!=0xFFFF)&&(t->state==0xFFFF))//Звук
   \                     ??ProcessPacket_21:
   \   000002E0   00109DE5           LDR      R1,[SP, #+0]
   \   000002E4   0B0051E1           CMP      R1,R11
   \   000002E8   0300000A           BEQ      ??ProcessPacket_23
   \   000002EC   0B0050E1           CMP      R0,R11
   \   000002F0   0100001A           BNE      ??ProcessPacket_23
   3517                {
   3518          	Play(sndSrvMsg);
   \   000002F4   94059FE5           LDR      R0,??ProcessPacket_18+0x10  ;; sndSrvMsg
   \                     ??ProcessPacket_22:
   \   000002F8   ........           BL       Play
   3519                }
   3520                if(TIME_OR_MSG==2)
   \                     ??ProcessPacket_23:
   \   000002FC   ........           LDR      R0,??DataTable125  ;; TIME_OR_MSG
   \   00000300   000090E5           LDR      R0,[R0, #+0]
   \   00000304   020050E3           CMP      R0,#+2
   \   00000308   0000001A           BNE      ??ProcessPacket_15
   3521                Get_Online_total();
   \   0000030C   ........           BL       Get_Online_total
   3522              }
   3523              if (edchat_id)
   \                     ??ProcessPacket_15:
   \   00000310   740197E5           LDR      R0,[R7, #+372]
   \   00000314   000050E3           CMP      R0,#+0
   \   00000318   5401000A           BEQ      ??ProcessPacket_1
   3524              {
   3525                void *data=FindGUIbyId(edchat_id,NULL);
   \   0000031C   740197E5           LDR      R0,[R7, #+372]
   \   00000320   0010A0E3           MOV      R1,#+0
   \   00000324   090200EF           SWI      +521
   3526                {
   3527          	EDCHAT_STRUCT *ed_struct;
   3528          	ed_struct=EDIT_GetUserPointer(data);
   \   00000328   DF0100EF           SWI      +479
   3529          	if (ed_struct) 
   \   0000032C   000050E3           CMP      R0,#+0
   \   00000330   4E01000A           BEQ      ??ProcessPacket_1
   3530          	{
   3531          	  if (ed_struct->ed_contact==t)
   \   00000334   000090E5           LDR      R0,[R0, #+0]
   \   00000338   090050E1           CMP      R0,R9
   \   0000033C   4B01001A           BNE      ??ProcessPacket_1
   3532          	  {
   3533          	    DirectRedrawGUI_ID(edchat_id);
   \   00000340   740197E5           LDR      R0,[R7, #+372]
   \   00000344   400100EF           SWI      +320
   \   00000348   480100EA           B        ??ProcessPacket_1
   3534          	  }
   3535          	}
   3536                }
   3537              }
   3538              break;
   3539            case T_RECVMSG:
   3540              NEW_MSG=1;
   \                     ??ProcessPacket_24:
   \   0000034C   986187E5           STR      R6,[R7, #+408]
   3541              t=FindContactByUin(p->pkt.uin);
   \   00000350   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   00000354   0090B0E1           MOVS     R9,R0
   3542              if (!t)
   \   00000358   0900001A           BNE      ??ProcessPacket_25
   3543              {
   3544                sprintf(s,percent_d,p->pkt.uin);
   \   0000035C   002094E5           LDR      R2,[R4, #+0]
   \   00000360   1B1085E2           ADD      R1,R5,#+27
   \   00000364   08008DE2           ADD      R0,SP,#+8
   \   00000368   160000EF           SWI      +22
   3545                //t=AddContact(p->pkt.uin,s);
   3546                t=AddContact(p->pkt.uin,s,GROUP_CACHE,0);
   \   0000036C   6C2197E5           LDR      R2,[R7, #+364]
   \   00000370   000094E5           LDR      R0,[R4, #+0]
   \   00000374   0030A0E3           MOV      R3,#+0
   \   00000378   08108DE2           ADD      R1,SP,#+8
   \   0000037C   ........           _BLF     AddContact,??AddContact??rA
   \   00000380   0090A0E1           MOV      R9,R0
   3547              }
   3548              if(!t->isactive && HISTORY_BUFFER) GetHistory(t, 64<<HISTORY_BUFFER);
   \                     ??ProcessPacket_25:
   \   00000384   800099E5           LDR      R0,[R9, #+128]
   \   00000388   000050E3           CMP      R0,#+0
   \   0000038C   0700001A           BNE      ??ProcessPacket_26
   \   00000390   ........           LDR      R0,??DataTable126  ;; HISTORY_BUFFER
   \   00000394   000090E5           LDR      R0,[R0, #+0]
   \   00000398   000050E3           CMP      R0,#+0
   \   0000039C   0300000A           BEQ      ??ProcessPacket_26
   \   000003A0   4010A0E3           MOV      R1,#+64
   \   000003A4   1110A0E1           LSL      R1,R1,R0
   \   000003A8   0900A0E1           MOV      R0,R9
   \   000003AC   ........           _BLF     GetHistory,??GetHistory??rA
   3549              if(SHOW_ACTIVE)
   \                     ??ProcessPacket_26:
   \   000003B0   ........           LDR      R0,??DataTable127  ;; SHOW_ACTIVE
   \   000003B4   000090E5           LDR      R0,[R0, #+0]
   \   000003B8   000050E3           CMP      R0,#+0
   3550              t->isactive=ACTIVE_TIME;
   \   000003BC   5A0FA013           MOVNE    R0,#+360
   \   000003C0   80008915           STRNE    R0,[R9, #+128]
   3551              //    ChangeContactPos(t);
   3552              if(VIBR_TYPE)
   \   000003C4   ........           LDR      R0,??DataTable128  ;; VIBR_TYPE
   \   000003C8   000090E5           LDR      R0,[R0, #+0]
   \   000003CC   000050E3           CMP      R0,#+0
   3553                vibra_count=2;
   \   000003D0   0200A013           MOVNE    R0,#+2
   \   000003D4   F8008715           STRNE    R0,[R7, #+248]
   3554              else
   3555                vibra_count=1;
   \   000003D8   F8608705           STREQ    R6,[R7, #+248]
   3556              start_vibra();
   \   000003DC   ........           BL       start_vibra
   3557          #ifdef ELKA
   3558              if(SLI_TYPE)
   3559                SLI_Timer();
   \   000003E0   ........           BL       SLI_Timer
   3560          #endif
   3561                  if(Is_Double_Vibra_On)
   \   000003E4   BC0097E5           LDR      R0,[R7, #+188]
   \   000003E8   000050E3           CMP      R0,#+0
   \   000003EC   0000000A           BEQ      ??ProcessPacket_27
   3562                    Reminder_timer();
   \   000003F0   ........           BL       Reminder_timer
   3563                if (Is_ILU_On)
   \                     ??ProcessPacket_27:
   \   000003F4   B80097E5           LDR      R0,[R7, #+184]
   \   000003F8   000050E3           CMP      R0,#+0
   \   000003FC   0800000A           BEQ      ??ProcessPacket_28
   3564              IlluminationOn(ILL_DISP_RECV,ILL_KEYS_RECV,ILL_RECV_TMR,ILL_RECV_FADE); //Illumination by BoBa 19.04.2007
   \   00000400   8C049FE5           LDR      R0,??ProcessPacket_18+0x14  ;; ILL_RECV_FADE
   \   00000404   003090E5           LDR      R3,[R0, #+0]
   \   00000408   88049FE5           LDR      R0,??ProcessPacket_18+0x18  ;; ILL_RECV_TMR
   \   0000040C   002090E5           LDR      R2,[R0, #+0]
   \   00000410   84049FE5           LDR      R0,??ProcessPacket_18+0x1C  ;; ILL_KEYS_RECV
   \   00000414   001090E5           LDR      R1,[R0, #+0]
   \   00000418   80049FE5           LDR      R0,??ProcessPacket_18+0x20  ;; ILL_DISP_RECV
   \   0000041C   000090E5           LDR      R0,[R0, #+0]
   \   00000420   ........           BL       IlluminationOn
   3565              if (t->name[0]=='#')
   \                     ??ProcessPacket_28:
   \   00000424   1400D9E5           LDRB     R0,[R9, #+20]
   \   00000428   230050E3           CMP      R0,#+35
   \   0000042C   1500001A           BNE      ??ProcessPacket_29
   3566              {
   3567                //Если это конференция, патчим имя
   3568                char *s=strchr(p->data,'>');
   \   00000430   3E10A0E3           MOV      R1,#+62
   \   00000434   080084E2           ADD      R0,R4,#+8
   \   00000438   180000EF           SWI      +24
   3569                //Если нашли символ > и после него пробел и ник короче 16 символов
   3570                if (s)
   \   0000043C   000050E3           CMP      R0,#+0
   \   00000440   1000000A           BEQ      ??ProcessPacket_29
   3571                {
   3572          	if ((s[1]==' ')&&((s-p->data)<16))
   \   00000444   0110D0E5           LDRB     R1,[R0, #+1]
   \   00000448   200051E3           CMP      R1,#+32
   \   0000044C   0D00001A           BNE      ??ProcessPacket_29
   \   00000450   081084E2           ADD      R1,R4,#+8
   \   00000454   011040E0           SUB      R1,R0,R1
   \   00000458   100051E3           CMP      R1,#+16
   \   0000045C   090000AA           BGE      ??ProcessPacket_29
   3573          	{
   3574          	  *s=0; //Режем строку
   \   00000460   0080C0E5           STRB     R8,[R0, #+0]
   3575          	  AddStringToLog(t,0x02,s+2,p->data,0xFFFFFFFF); //Добавляем имя из текста сообщения
   \   00000464   001066E2           RSB      R1,R6,#+0
   \   00000468   02002DE9           PUSH     {R1}
   \   0000046C   083084E2           ADD      R3,R4,#+8
   \   00000470   022080E2           ADD      R2,R0,#+2
   \   00000474   0900A0E1           MOV      R0,R9
   \   00000478   0210A0E3           MOV      R1,#+2
   \   0000047C   ........           BL       AddStringToLog
   3576          	  goto L1;
   \   00000480   04D08DE2           ADD      SP,SP,#+4
   \   00000484   2B0000EA           B        ??ProcessPacket_30
   3577          	}
   3578                }
   3579              }
   3580              //=============================================tas bus jautri
   3581              comanda=1;
   \                     ??ProcessPacket_29:
   \   00000488   A06187E5           STR      R6,[R7, #+416]
   3582          //    if(UIN!=t->uin)
   3583              CheckComand(p->data, t, t->name);
   \   0000048C   142089E2           ADD      R2,R9,#+20
   \   00000490   0910A0E1           MOV      R1,R9
   \   00000494   080084E2           ADD      R0,R4,#+8
   \   00000498   ........           BL       CheckComand
   3584              if(comanda==1)
   \   0000049C   A00197E5           LDR      R0,[R7, #+416]
   \   000004A0   010050E3           CMP      R0,#+1
   \   000004A4   2300001A           BNE      ??ProcessPacket_30
   3585              {
   3586                AddStringToLog(t,0x02,p->data,t->name,0xFFFFFFFF);
   \   000004A8   000066E2           RSB      R0,R6,#+0
   \   000004AC   01002DE9           PUSH     {R0}
   \   000004B0   143089E2           ADD      R3,R9,#+20
   \   000004B4   082084E2           ADD      R2,R4,#+8
   \   000004B8   0210A0E3           MOV      R1,#+2
   \   000004BC   0900A0E1           MOV      R0,R9
   \   000004C0   ........           BL       AddStringToLog
   3587                main_count++;
   \   000004C4   ........           LDR      R0,??DataTable129  ;; main_count
   \   000004C8   001090E5           LDR      R1,[R0, #+0]
   \   000004CC   011081E2           ADD      R1,R1,#+1
   \   000004D0   001080E5           STR      R1,[R0, #+0]
   3588                if(Is_INC_On)
   \   000004D4   B40097E5           LDR      R0,[R7, #+180]
   \   000004D8   04D08DE2           ADD      SP,SP,#+4
   \   000004DC   000050E3           CMP      R0,#+0
   \   000004E0   0E00000A           BEQ      ??ProcessPacket_31
   3589                {     
   3590                  strcpy(show_nick, t->name);
   \   000004E4   141089E2           ADD      R1,R9,#+20
   \   000004E8   7400A0E3           MOV      R0,#+116
   \   000004EC   6C0D80E3           ORR      R0,R0,#0x1B00
   \   000004F0   070080E0           ADD      R0,R0,R7
   \   000004F4   1A0000EF           SWI      +26
   3591                  if(!IsIdleUiOnTop()) 
   \   000004F8   C50000EF           SWI      +197
   \   000004FC   000050E3           CMP      R0,#+0
   \   00000500   0600001A           BNE      ??ProcessPacket_31
   3592                  {
   3593                   // int csm_oncreate_addr = ((int*)(((CSM_RAM*)(CSM_root()->csm_q->csm.last))->constr))[1] - 1;
   3594                   // char java_oncreate_pattern[8] = {0xB0, 0xB5, 0x04, 0x1C, 0x00, 0x25, 0x05, 0x61};
   3595                    /*if (memcmp((void*)csm_oncreate_addr, java_oncreate_pattern, 8))
   3596                    {
   3597                      INC_show=15;
   3598                      show_pp_sender();
   3599                    }*/
   3600                    if(IsNoJava())
   \   00000504   0F50A0E3           MOV      R5,#+15
   \   00000508   E80100EF           SWI      +488
   \   0000050C   000050E3           CMP      R0,#+0
   \   00000510   0000001A           BNE      ??ProcessPacket_32
   3601                    {
   3602                      INC_show=15;
   3603                      show_pp_sender();           
   3604                    }
   3605                    else
   3606                    {
   3607                      extern void DrawScreenShot();
   3608                      DrawScreenShot();
   \   00000514   ........           _BLF     DrawScreenShot,??DrawScreenShot??rA
   3609                      INC_show=15;
   \                     ??ProcessPacket_32:
   \   00000518   A85187E5           STR      R5,[R7, #+424]
   3610                      show_pp_sender();
   \   0000051C   ........           BL       show_pp_sender
   3611                    }
   3612          #ifdef EVILFOX
   3613          #else
   3614          //          else
   3615          //            ShowMSG(1,(int)show_nick);
   3616          #endif
   3617                  }
   3618                }
   3619                if(Is_SMARTCPU_On)
   \                     ??ProcessPacket_31:
   \   00000520   B00097E5           LDR      R0,[R7, #+176]
   \   00000524   000050E3           CMP      R0,#+0
   \   00000528   0200000A           BEQ      ??ProcessPacket_30
   3620                AddToMain(t->name,p->data);
   \   0000052C   081084E2           ADD      R1,R4,#+8
   \   00000530   140089E2           ADD      R0,R9,#+20
   \   00000534   ........           BL       AddToMain
   3621              }
   3622          //    if((Is_SMARTCPU_On)&&(comanda==1))
   3623          //    AddToMain(t->name,p->data);
   3624              L1:
   3625              //Разворачиваем группу, в которой пришло сообщение
   3626              {
   3627                CLIST *g=FindGroupByID(t->group);
   \                     ??ProcessPacket_30:
   \   00000538   100099E5           LDR      R0,[R9, #+16]
   \   0000053C   ........           _BLF     FindGroupByID,??FindGroupByID??rA
   3628                if (g)
   \   00000540   000050E3           CMP      R0,#+0
   3629                {
   3630          	if (g->state)
   \   00000544   B415D011           LDRHNE   R1,[R0, #+84]
   \   00000548   00005113           CMPNE    R1,#+0
   3631          	{
   3632          	  g->state=0;
   \   0000054C   B485C011           STRHNE   R8,[R0, #+84]
   3633          	}
   3634                }
   3635              }
   3636          //    if(comanda==1)
   3637          //    {
   3638              ReqAddMsgToChat(t);
   \   00000550   0900A0E1           MOV      R0,R9
   \   00000554   ........           BL       ReqAddMsgToChat
   3639              RecountMenu(t);
   \   00000558   0900A0E1           MOV      R0,R9
   \   0000055C   ........           BL       RecountMenu
   3640              switch (DEVELOP_IF)
   \   00000560   3C039FE5           LDR      R0,??ProcessPacket_18+0x24  ;; DEVELOP_IF
   \   00000564   000090E5           LDR      R0,[R0, #+0]
   \   00000568   000050E3           CMP      R0,#+0
   \   0000056C   0400000A           BEQ      ??ProcessPacket_33
   \   00000570   010050E2           SUBS     R0,R0,#+1
   \   00000574   0B00000A           BEQ      ??ProcessPacket_34
   \   00000578   020050E2           SUBS     R0,R0,#+2
   \   0000057C   1300000A           BEQ      ??ProcessPacket_35
   \   00000580   BA0000EA           B        ??ProcessPacket_1
   3641              {
   3642              case 0:
   3643          #ifdef EVILFOX
   3644                if ((((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=maincsm_id)) GBS_StartTimerProc(&develop, 216*2, to_develop);
   3645          #else
   3646                if ((((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=maincsm_id)) to_develop();
   \                     ??ProcessPacket_33:
   \   00000584   068100EF           SWI      +33030
   \   00000588   080090E5           LDR      R0,[R0, #+8]
   \   0000058C   C81097E5           LDR      R1,[R7, #+200]
   \   00000590   0C0090E5           LDR      R0,[R0, #+12]
   \   00000594   0C0090E5           LDR      R0,[R0, #+12]
   \   00000598   010050E1           CMP      R0,R1
   \                     ??ProcessPacket_36:
   \   0000059C   B300000A           BEQ      ??ProcessPacket_1
   \   000005A0   ........           BL       to_develop
   \   000005A4   B10000EA           B        ??ProcessPacket_1
   3647          #endif
   3648                break;
   3649              case 1:
   3650          #ifdef EVILFOX
   3651                if ((((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=maincsm_id)&&(IsUnlocked())) GBS_StartTimerProc(&develop, 216*2, to_develop);
   3652          #else
   3653                if ((((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=maincsm_id)&&(IsUnlocked())) to_develop();
   \                     ??ProcessPacket_34:
   \   000005A8   068100EF           SWI      +33030
   \   000005AC   080090E5           LDR      R0,[R0, #+8]
   \   000005B0   C81097E5           LDR      R1,[R7, #+200]
   \   000005B4   0C0090E5           LDR      R0,[R0, #+12]
   \   000005B8   0C0090E5           LDR      R0,[R0, #+12]
   \   000005BC   010050E1           CMP      R0,R1
   \   000005C0   AA00000A           BEQ      ??ProcessPacket_1
   \   000005C4   430000EF           SWI      +67
   \   000005C8   000050E3           CMP      R0,#+0
   \   000005CC   F2FFFFEA           B        ??ProcessPacket_36
   3654          #endif
   3655                break;
   3656              case 2:
   3657                break;
   3658              case 3:
   3659                GBS_DelTimer(&develop);
   \                     ??ProcessPacket_35:
   \   000005D0   E800A0E3           MOV      R0,#+232
   \   000005D4   640D80E3           ORR      R0,R0,#0x1900
   \   000005D8   070080E0           ADD      R0,R0,R7
   \   000005DC   8C0100EF           SWI      +396
   3660                if ((((CSM_RAM *)(CSM_root()->csm_q->csm.last))->id!=maincsm_id)&&(!IsUnlocked())) begin_to_develop();
   \   000005E0   068100EF           SWI      +33030
   \   000005E4   080090E5           LDR      R0,[R0, #+8]
   \   000005E8   C81097E5           LDR      R1,[R7, #+200]
   \   000005EC   0C0090E5           LDR      R0,[R0, #+12]
   \   000005F0   0C0090E5           LDR      R0,[R0, #+12]
   \   000005F4   010050E1           CMP      R0,R1
   \   000005F8   9C00000A           BEQ      ??ProcessPacket_1
   \   000005FC   430000EF           SWI      +67
   \   00000600   000050E3           CMP      R0,#+0
   \   00000604   9900001A           BNE      ??ProcessPacket_1
   \   00000608   ........           BL       begin_to_develop
   \   0000060C   970000EA           B        ??ProcessPacket_1
   3661                break;
   3662              }
   3663          //    }
   3664              break;
   3665            case T_SRV_ACK:
   3666            case T_CLIENT_ACK:
   3667              q=FindContactLOGQByAck(p);
   \                     ??ProcessPacket_37:
   \   00000610   0400A0E1           MOV      R0,R4
   \   00000614   ........           BL       FindContactLOGQByAck
   \   00000618   0050B0E1           MOVS     R5,R0
   3668              if (q&&(p->pkt.type==T_SRV_ACK))
   \   0000061C   9300000A           BEQ      ??ProcessPacket_1
   \   00000620   B400D4E1           LDRH     R0,[R4, #+4]
   \   00000624   100050E3           CMP      R0,#+16
   \   00000628   0B00001A           BNE      ??ProcessPacket_38
   3669              {
   3670                      if (Is_ILU_On)
   \   0000062C   B80097E5           LDR      R0,[R7, #+184]
   \   00000630   000050E3           CMP      R0,#+0
   \   00000634   0B00000A           BEQ      ??ProcessPacket_39
   3671                        IlluminationOn(ILL_DISP_SEND,ILL_KEYS_SEND,ILL_SEND_TMR,ILL_RECV_FADE); 
   \   00000638   54029FE5           LDR      R0,??ProcessPacket_18+0x14  ;; ILL_RECV_FADE
   \   0000063C   003090E5           LDR      R3,[R0, #+0]
   \   00000640   60029FE5           LDR      R0,??ProcessPacket_18+0x28  ;; ILL_SEND_TMR
   \   00000644   002090E5           LDR      R2,[R0, #+0]
   \   00000648   5C029FE5           LDR      R0,??ProcessPacket_18+0x2C  ;; ILL_KEYS_SEND
   \   0000064C   001090E5           LDR      R1,[R0, #+0]
   \   00000650   58029FE5           LDR      R0,??ProcessPacket_18+0x30  ;; ILL_DISP_SEND
   \   00000654   000090E5           LDR      R0,[R0, #+0]
   \   00000658   ........           BL       IlluminationOn
   3672              }//Illumination by BoBa 19.04.2007
   3673          /*    if ((
   3674          	IsGuiOnTop(contactlist_menu_id)||
   3675          	  IsGuiOnTop(edchat_id)
   3676          	    )&&(q))
   3677              {
   3678                DrawRoundedFrame(ScreenW()-8,YDISP,ScreenW()-1,YDISP+7,0,0,0,
   3679          		       GetPaletteAdrByColorIndex(0),
   3680          		       GetPaletteAdrByColorIndex(p->pkt.type==T_SRV_ACK?3:4));
   3681              }*/
   3682              if (q)
   3683              {
   3684                q->acked=p->pkt.type==T_SRV_ACK?1:2;
   \                     ??ProcessPacket_38:
   \   0000065C   B400D4E1           LDRH     R0,[R4, #+4]
   \   00000660   100050E3           CMP      R0,#+16
   \   00000664   0100001A           BNE      ??ProcessPacket_40
   \                     ??ProcessPacket_39:
   \   00000668   0100A0E3           MOV      R0,#+1
   \   0000066C   000000EA           B        ??ProcessPacket_41
   \                     ??ProcessPacket_40:
   \   00000670   0200A0E3           MOV      R0,#+2
   \                     ??ProcessPacket_41:
   \   00000674   040085E5           STR      R0,[R5, #+4]
   3685                t=FindContactByUin(p->pkt.uin);
   \   00000678   000094E5           LDR      R0,[R4, #+0]
   \   0000067C   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   00000680   0090A0E1           MOV      R9,R0
   3686                if (edchat_id)
   \   00000684   740197E5           LDR      R0,[R7, #+372]
   \   00000688   000050E3           CMP      R0,#+0
   \   0000068C   7700000A           BEQ      ??ProcessPacket_1
   3687                {
   3688          	void *data=FindGUIbyId(edchat_id,NULL);
   \   00000690   740197E5           LDR      R0,[R7, #+372]
   \   00000694   0010A0E3           MOV      R1,#+0
   \   00000698   090200EF           SWI      +521
   \   0000069C   0050B0E1           MOVS     R5,R0
   3689          	if (data)
   \   000006A0   7200000A           BEQ      ??ProcessPacket_1
   3690          	{
   3691          	  EDCHAT_STRUCT *ed_struct;
   3692          	  ed_struct=EDIT_GetUserPointer(data);
   \   000006A4   DF0100EF           SWI      +479
   3693          	  if (ed_struct) 
   \   000006A8   000050E3           CMP      R0,#+0
   \   000006AC   6F00000A           BEQ      ??ProcessPacket_1
   3694          	  {
   3695          	    if (ed_struct->ed_contact==t)
   \   000006B0   000090E5           LDR      R0,[R0, #+0]
   \   000006B4   090050E1           CMP      R0,R9
   \   000006B8   6C00001A           BNE      ??ProcessPacket_1
   3696          	    {
   3697          	      if (EDIT_IsBusy(data))
   \   000006BC   0500A0E1           MOV      R0,R5
   \   000006C0   1C0200EF           SWI      +540
   \   000006C4   000050E3           CMP      R0,#+0
   \   000006C8   0300000A           BEQ      ??ProcessPacket_42
   3698          	      {
   3699          		t->req_drawack=1;
   \   000006CC   706089E5           STR      R6,[R9, #+112]
   3700          #ifdef EVILFOX
   3701          		time_to_stop_t9=2;
   3702          #else
   3703                          time_to_stop_t9=3;
   \   000006D0   0300A0E3           MOV      R0,#+3
   \   000006D4   9C0187E5           STR      R0,[R7, #+412]
   \   000006D8   640000EA           B        ??ProcessPacket_1
   3704          #endif
   3705          	      }
   3706          	      else
   3707          		DrawAck(data);
   \                     ??ProcessPacket_42:
   \   000006DC   0500A0E1           MOV      R0,R5
   \   000006E0   ........           BL       DrawAck
   \   000006E4   610000EA           B        ??ProcessPacket_1
   3708          	    }
   3709          	  }
   3710          	}
   3711                }
   3712              }
   3713              break;
   3714            case T_XTEXT_ACK:
   3715              t=FindContactByUin(p->pkt.uin);
   \                     ??ProcessPacket_43:
   \   000006E8   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   000006EC   0090B0E1           MOVS     R9,R0
   3716              if (t)
   \   000006F0   5E00000A           BEQ      ??ProcessPacket_1
   3717              {
   3718                int i;
   3719                int j;
   3720                FreeXText(t);
   \   000006F4   ........           _BLF     FreeXText,??FreeXText??rA
   3721                i=p->pkt.data_len;
   \   000006F8   B660D4E1           LDRH     R6,[R4, #+6]
   3722                memcpy(t->xtext=malloc(i),p->data,i);
   \   000006FC   0600A0E1           MOV      R0,R6
   \   00000700   140000EF           SWI      +20
   \   00000704   880089E5           STR      R0,[R9, #+136]
   \   00000708   0620A0E1           MOV      R2,R6
   \   0000070C   081084E2           ADD      R1,R4,#+8
   \   00000710   1E0100EF           SWI      +286
   3723                zeromem(s,256);
   \   00000714   401FA0E3           MOV      R1,#+256
   \   00000718   08008DE2           ADD      R0,SP,#+8
   \   0000071C   1D0100EF           SWI      +285
   3724                strcpy(s,t->name);
   \   00000720   141089E2           ADD      R1,R9,#+20
   \   00000724   08008DE2           ADD      R0,SP,#+8
   \   00000728   1A0000EF           SWI      +26
   3725                strcat(s,":\n");
   \   0000072C   531F8FE2           ADR      R1,??ProcessPacket_18  ;; ":\n"
   \   00000730   08008DE2           ADD      R0,SP,#+8
   \   00000734   170000EF           SWI      +23
   3726                i=strlen(s);
   \   00000738   08008DE2           ADD      R0,SP,#+8
   \   0000073C   1B0000EF           SWI      +27
   3727                j=p->data[0];
   \   00000740   0860D4E5           LDRB     R6,[R4, #+8]
   \   00000744   0070A0E1           MOV      R7,R0
   3728                if (j>(255-i)) j=255-i;
   \   00000748   FF0067E2           RSB      R0,R7,#+255
   \   0000074C   060050E1           CMP      R0,R6
   \   00000750   0060A0B1           MOVLT    R6,R0
   3729                strncpy(s+i,p->data+1,j);
   \   00000754   0620A0E1           MOV      R2,R6
   \   00000758   091084E2           ADD      R1,R4,#+9
   \   0000075C   08008DE2           ADD      R0,SP,#+8
   \   00000760   000087E0           ADD      R0,R7,R0
   \   00000764   160100EF           SWI      +278
   3730                i+=j;
   \   00000768   070086E0           ADD      R0,R6,R7
   3731                if (i<255)
   \   0000076C   FF0050E3           CMP      R0,#+255
   \   00000770   100000AA           BGE      ??ProcessPacket_44
   3732                {
   3733          	s[i]='\n';
   \   00000774   08108DE2           ADD      R1,SP,#+8
   \   00000778   0A20A0E3           MOV      R2,#+10
   \   0000077C   0120C0E7           STRB     R2,[R0, +R1]
   3734          	i++;
   \   00000780   0810D4E5           LDRB     R1,[R4, #+8]
   \   00000784   B620D4E1           LDRH     R2,[R4, #+6]
   \   00000788   010080E2           ADD      R0,R0,#+1
   3735          	j=p->pkt.data_len-p->data[0]-1;
   3736          	if (j>(255-i)) j=255-i;
   3737          	strncpy(s+i,p->data+p->data[0]+1,j);
   \   0000078C   08308DE2           ADD      R3,SP,#+8
   \   00000790   012042E0           SUB      R2,R2,R1
   \   00000794   016042E2           SUB      R6,R2,#+1
   \   00000798   FF2060E2           RSB      R2,R0,#+255
   \   0000079C   060052E1           CMP      R2,R6
   \   000007A0   0260A0B1           MOVLT    R6,R2
   \   000007A4   0620A0E1           MOV      R2,R6
   \   000007A8   041081E0           ADD      R1,R1,R4
   \   000007AC   091081E2           ADD      R1,R1,#+9
   \   000007B0   030080E0           ADD      R0,R0,R3
   \   000007B4   160100EF           SWI      +278
   3738                }
   3739          //      if (IsGuiOnTop(contactlist_menu_id)) RefreshGUI();
   3740                /*
   3741          #ifdef EVILFOX
   3742          #else
   3743                if (!edchat_id) ShowMSG(0,(int)s);   // Только если редактор не наверху
   3744          #endif  
   3745                */
   3746                zeromem(s,256);
   \                     ??ProcessPacket_44:
   \   000007B8   401FA0E3           MOV      R1,#+256
   \   000007BC   08008DE2           ADD      R0,SP,#+8
   \   000007C0   1D0100EF           SWI      +285
   3747                i=0;
   3748                j=p->data[0];
   \   000007C4   0860D4E5           LDRB     R6,[R4, #+8]
   3749                if (j>(255-i)) j=255-i;
   3750                strncpy(s,p->data+1,j);
   \   000007C8   091084E2           ADD      R1,R4,#+9
   \   000007CC   08008DE2           ADD      R0,SP,#+8
   \   000007D0   400F56E3           CMP      R6,#+256
   \   000007D4   FF60A0A3           MOVGE    R6,#+255
   \   000007D8   0620A0E1           MOV      R2,R6
   \   000007DC   160100EF           SWI      +278
   3751                i+=j;
   3752                if (i<255)
   \   000007E0   FF0056E3           CMP      R6,#+255
   \   000007E4   100000AA           BGE      ??ProcessPacket_45
   3753                {
   3754          	s[i++]=13;
   \   000007E8   08108DE2           ADD      R1,SP,#+8
   \   000007EC   0D20A0E3           MOV      R2,#+13
   \   000007F0   0120C6E7           STRB     R2,[R6, +R1]
   \   000007F4   0810D4E5           LDRB     R1,[R4, #+8]
   \   000007F8   B620D4E1           LDRH     R2,[R4, #+6]
   \   000007FC   010086E2           ADD      R0,R6,#+1
   3755          	j=p->pkt.data_len-p->data[0]-1;
   3756          	if (j>(255-i)) j=255-i;
   3757          	strncpy(s+i,p->data+p->data[0]+1,j);
   \   00000800   08308DE2           ADD      R3,SP,#+8
   \   00000804   012042E0           SUB      R2,R2,R1
   \   00000808   016042E2           SUB      R6,R2,#+1
   \   0000080C   FF2060E2           RSB      R2,R0,#+255
   \   00000810   060052E1           CMP      R2,R6
   \   00000814   0260A0B1           MOVLT    R6,R2
   \   00000818   0620A0E1           MOV      R2,R6
   \   0000081C   041081E0           ADD      R1,R1,R4
   \   00000820   091081E2           ADD      R1,R1,#+9
   \   00000824   030080E0           ADD      R0,R0,R3
   \   00000828   160100EF           SWI      +278
   3758                }
   3759                AddStringToLog(t,0x03,s,x_status_change,0xFFFFFFFF);
   \                     ??ProcessPacket_45:
   \   0000082C   0800E0E1           MVN      R0,R8
   \   00000830   01002DE9           PUSH     {R0}
   \   00000834   0C208DE2           ADD      R2,SP,#+12
   \   00000838   0310A0E3           MOV      R1,#+3
   \   0000083C   2800A0E3           MOV      R0,#+40
   \   00000840   500E80E3           ORR      R0,R0,#0x500
   \   00000844   053080E0           ADD      R3,R0,R5
   \   00000848   0900A0E1           MOV      R0,R9
   \   0000084C   ........           BL       AddStringToLog
   3760                ReqAddMsgToChat(t);
   \   00000850   0900A0E1           MOV      R0,R9
   \   00000854   ........           BL       ReqAddMsgToChat
   3761                RecountMenu(t);      
   \   00000858   0900A0E1           MOV      R0,R9
   \   0000085C   ........           BL       RecountMenu
   \   00000860   04D08DE2           ADD      SP,SP,#+4
   \   00000864   010000EA           B        ??ProcessPacket_1
   3762              }
   3763              break;
   3764            case T_LASTPRIVACY:
   3765              CurrentPrivateStatus=p->data[0];
   \                     ??ProcessPacket_46:
   \   00000868   0800D4E5           LDRB     R0,[R4, #+8]
   \   0000086C   F40087E5           STR      R0,[R7, #+244]
   3766              break;
   3767            }
   3768            mfree(p);
   \                     ??ProcessPacket_1:
   \   00000870   0400A0E1           MOV      R0,R4
   \   00000874   150000EF           SWI      +21
   3769          }
   \   00000878   4CDF8DE2           ADD      SP,SP,#+304
   \   0000087C   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??ProcessPacket_18:
   \   00000880   3A0A0000           DC8      ":\n",+0
   \   00000884   ........           DC32     ENA_AUTO_XTXT
   \   00000888   ........           DC32     sndGlobal
   \   0000088C   ........           DC32     sndGlobal2
   \   00000890   ........           DC32     sndSrvMsg
   \   00000894   ........           DC32     ILL_RECV_FADE
   \   00000898   ........           DC32     ILL_RECV_TMR
   \   0000089C   ........           DC32     ILL_KEYS_RECV
   \   000008A0   ........           DC32     ILL_DISP_RECV
   \   000008A4   ........           DC32     DEVELOP_IF
   \   000008A8   ........           DC32     ILL_SEND_TMR
   \   000008AC   ........           DC32     ILL_KEYS_SEND
   \   000008B0   ........           DC32     ILL_DISP_SEND
   3770          
   3771          
   3772          IPC_REQ tmr_gipc;

   \                                 In segment CODE, align 4, keep-with-next
   3773          void process_active_timer(void)
   3774          {
   \                     process_active_timer:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   3775            if (connect_state>2)
   \   00000004   ........           LDR      R5,??DataTable139  ;; S_ICONS
   \   00000008   0040A0E3           MOV      R4,#+0
   \   0000000C   440195E5           LDR      R0,[R5, #+324]
   \   00000010   030050E3           CMP      R0,#+3
   \   00000014   070000BA           BLT      ??process_active_timer_0
   3776            {
   3777              if (++tenseconds_to_ping>12)
   \   00000018   7C0195E5           LDR      R0,[R5, #+380]
   \   0000001C   010080E2           ADD      R0,R0,#+1
   \   00000020   7C0185E5           STR      R0,[R5, #+380]
   \   00000024   0D0050E3           CMP      R0,#+13
   \   00000028   020000BA           BLT      ??process_active_timer_0
   3778              {
   3779                tenseconds_to_ping=0;
   3780                SUBPROC((void *)do_ping);
   \   0000002C   58009FE5           LDR      R0,??process_active_timer_1  ;; do_ping
   \   00000030   7C4185E5           STR      R4,[R5, #+380]
   \   00000034   710100EF           SWI      +369
   3781              }
   3782            }
   3783            tmr_gipc.name_to=ipc_my_name;
   \                     ??process_active_timer_0:
   \   00000038   ........           LDR      R1,??DataTable133  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   0000003C   500EA0E3           MOV      R0,#+1280
   \   00000040   012080E0           ADD      R2,R0,R1
   \   00000044   8C2085E5           STR      R2,[R5, #+140]
   3784            tmr_gipc.name_from=ipc_my_name;
   \   00000048   010080E0           ADD      R0,R0,R1
   \   0000004C   900085E5           STR      R0,[R5, #+144]
   3785            tmr_gipc.data=NULL;
   \   00000050   944085E5           STR      R4,[R5, #+148]
   3786            GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_TENSECONDS,&tmr_gipc);  
   \   00000054   8C3085E2           ADD      R3,R5,#+140
   \   00000058   0420A0E3           MOV      R2,#+4
   \   0000005C   B010A0E3           MOV      R1,#+176
   \   00000060   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000064   0900A0E3           MOV      R0,#+9
   \   00000068   420C80E3           ORR      R0,R0,#0x4200
   \   0000006C   000100EF           SWI      +256
   3787            GBS_StartTimerProc(&tmr_active,TMR_SECOND*10,process_active_timer);
   \   00000070   ........           LDR      R2,??DataTable143  ;; process_active_timer
   \   00000074   871EA0E3           MOV      R1,#+2160
   \   00000078   1C00A0E3           MOV      R0,#+28
   \   0000007C   600D80E3           ORR      R0,R0,#0x1800
   \   00000080   050080E0           ADD      R0,R0,R5
   \   00000084   4D0000EF           SWI      +77
   3788          }
   \   00000088   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??process_active_timer_1:
   \   0000008C   ........           DC32     do_ping
   3789          
   3790          //===============================================================================================

   \                                 In segment CODE, align 4, keep-with-next
   3791          void method0(MAIN_GUI *data)
   3792          {
   \                     method0:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   14D04DE2           SUB      SP,SP,#+20
   3793            int scr_w=ScreenW();
   3794            int scr_h=ScreenH();
   3795            int pos_status;
   3796            int pm = pictures_max, pl = pictures_loaded;
   3797          /*  DrawRoundedFrame(0,YDISP,scr_w-1,scr_h-1,0,0,0,
   3798          		   GetPaletteAdrByColorIndex(0),
   3799          		   GetPaletteAdrByColorIndex(20));*/
   3800          
   3801            DrawRectangle(0,YDISP,scr_w-1,scr_h-1,0,
   3802          		   GetPaletteAdrByColorIndex(1),
   3803          		   GetPaletteAdrByColorIndex(1));
   3804            DrawImg(0,0,S_ICONS[ICON_LOGO]);
   3805            unsigned long RX=ALLTOTALRECEIVED; unsigned long TX=ALLTOTALSENDED;			//by BoBa 10.07
   3806            wsprintf(data->ws1,LG_GRSTATESTRING,connect_state,RXstate,RX,TX,sendq_l,logmsg);
   \   00000008   ........           LDR      R7,??DataTable133  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   888100EF           SWI      +33160
   \   00000014   04008DE5           STR      R0,[SP, #+4]
   \   00000018   898100EF           SWI      +33161
   \   0000001C   10139FE5           LDR      R1,??method0_0   ;; pictures_max
   \   00000020   0050A0E1           MOV      R5,R0
   \   00000024   001091E5           LDR      R1,[R1, #+0]
   \   00000028   0100A0E3           MOV      R0,#+1
   \   0000002C   08108DE5           STR      R1,[SP, #+8]
   \   00000030   00139FE5           LDR      R1,??method0_0+0x4  ;; pictures_loaded
   \   00000034   001091E5           LDR      R1,[R1, #+0]
   \   00000038   0C108DE5           STR      R1,[SP, #+12]
   \   0000003C   2E0100EF           SWI      +302
   \   00000040   0060A0E1           MOV      R6,R0
   \   00000044   0100A0E3           MOV      R0,#+1
   \   00000048   2E0100EF           SWI      +302
   \   0000004C   04209DE5           LDR      R2,[SP, #+4]
   \   00000050   013045E2           SUB      R3,R5,#+1
   \   00000054   012042E2           SUB      R2,R2,#+1
   \   00000058   00208DE5           STR      R2,[SP, #+0]
   \   0000005C   40002DE9           PUSH     {R6}
   \   00000060   ........           LDR      R6,??DataTable134  ;; S_ICONS
   \   00000064   01002DE9           PUSH     {R0}
   \   00000068   1810A0E3           MOV      R1,#+24
   \   0000006C   0000A0E3           MOV      R0,#+0
   \   00000070   01002DE9           PUSH     {R0}
   \   00000074   B40100EF           SWI      +436
   \   00000078   502096E5           LDR      R2,[R6, #+80]
   \   0000007C   0010A0E3           MOV      R1,#+0
   \   00000080   0000A0E3           MOV      R0,#+0
   \   00000084   230000EF           SWI      +35
   \   00000088   540196E5           LDR      R0,[R6, #+340]
   \   0000008C   581196E5           LDR      R1,[R6, #+344]
   \   00000090   EC20A0E3           MOV      R2,#+236
   \   00000094   582D82E3           ORR      R2,R2,#0x1600
   \   00000098   062082E0           ADD      R2,R2,R6
   \   0000009C   04002DE9           PUSH     {R2}
   \   000000A0   5C2196E5           LDR      R2,[R6, #+348]
   \   000000A4   04002DE9           PUSH     {R2}
   \   000000A8   02002DE9           PUSH     {R1}
   \   000000AC   01002DE9           PUSH     {R0}
   \   000000B0   403196E5           LDR      R3,[R6, #+320]
   \   000000B4   442196E5           LDR      R2,[R6, #+324]
   \   000000B8   340094E5           LDR      R0,[R4, #+52]
   \   000000BC   D01F87E2           ADD      R1,R7,#+832
   \   000000C0   240100EF           SWI      +292
   3807            if(pm != pl)
   \   000000C4   24009DE5           LDR      R0,[SP, #+36]
   \   000000C8   28109DE5           LDR      R1,[SP, #+40]
   \   000000CC   1CD08DE2           ADD      SP,SP,#+28
   \   000000D0   010050E1           CMP      R0,R1
   \   000000D4   4400000A           BEQ      ??method0_1
   3808            {
   3809               DrawRectangle(0,scr_h-4-2*GetFontYSIZE(FONT_SMALL_BOLD),scr_w-1,scr_h-4-GetFontYSIZE(FONT_MEDIUM_BOLD)-2,0,
   3810                               GetPaletteAdrByColorIndex(0),
   3811                               GetPaletteAdrByColorIndex(0));
   \   000000D8   0000A0E3           MOV      R0,#+0
   \   000000DC   2E0100EF           SWI      +302
   \   000000E0   0080A0E1           MOV      R8,R0
   \   000000E4   0000A0E3           MOV      R0,#+0
   \   000000E8   2E0100EF           SWI      +302
   \   000000EC   0090A0E1           MOV      R9,R0
   \   000000F0   0500A0E3           MOV      R0,#+5
   \   000000F4   C50100EF           SWI      +453
   \   000000F8   00A0A0E1           MOV      R10,R0
   \   000000FC   0900A0E3           MOV      R0,#+9
   \   00000100   C50100EF           SWI      +453
   \   00000104   00012DE9           PUSH     {R8}
   \   00000108   00022DE9           PUSH     {R9}
   \   0000010C   0010A0E3           MOV      R1,#+0
   \   00000110   02002DE9           PUSH     {R1}
   \   00000114   0C209DE5           LDR      R2,[SP, #+12]
   \   00000118   04B045E2           SUB      R11,R5,#+4
   \   0000011C   0A104BE0           SUB      R1,R11,R10
   \   00000120   023041E2           SUB      R3,R1,#+2
   \   00000124   80104BE0           SUB      R1,R11,R0, LSL #+1
   \   00000128   0000A0E3           MOV      R0,#+0
   \   0000012C   B40100EF           SWI      +436
   3812              pos_status = ((scr_w-1) * pl) / pm;
   3813              DrawRectangle(1,scr_h-4-2*GetFontYSIZE(FONT_SMALL_BOLD)+1,pos_status,scr_h-4-GetFontYSIZE(FONT_MEDIUM_BOLD)-3,0,
   3814                               GetPaletteAdrByColorIndex(14),
   3815                               GetPaletteAdrByColorIndex(14));  
   \   00000130   0E00A0E3           MOV      R0,#+14
   \   00000134   2E0100EF           SWI      +302
   \   00000138   0080A0E1           MOV      R8,R0
   \   0000013C   0E00A0E3           MOV      R0,#+14
   \   00000140   2E0100EF           SWI      +302
   \   00000144   0090A0E1           MOV      R9,R0
   \   00000148   0500A0E3           MOV      R0,#+5
   \   0000014C   C50100EF           SWI      +453
   \   00000150   1C008DE5           STR      R0,[SP, #+28]
   \   00000154   0900A0E3           MOV      R0,#+9
   \   00000158   C50100EF           SWI      +453
   \   0000015C   00A0A0E1           MOV      R10,R0
   \   00000160   00012DE9           PUSH     {R8}
   \   00000164   00022DE9           PUSH     {R9}
   \   00000168   0000A0E3           MOV      R0,#+0
   \   0000016C   01002DE9           PUSH     {R0}
   \   00000170   24109DE5           LDR      R1,[SP, #+36]
   \   00000174   28009DE5           LDR      R0,[SP, #+40]
   \   00000178   00004BE0           SUB      R0,R11,R0
   \   0000017C   033040E2           SUB      R3,R0,#+3
   \   00000180   18009DE5           LDR      R0,[SP, #+24]
   \   00000184   910000E0           MUL      R0,R1,R0
   \   00000188   20109DE5           LDR      R1,[SP, #+32]
   \   0000018C   ........           _BLF     ??div32_a,??rA??div32_a
   \   00000190   0120A0E1           MOV      R2,R1
   \   00000194   8A004BE0           SUB      R0,R11,R10, LSL #+1
   \   00000198   011080E2           ADD      R1,R0,#+1
   \   0000019C   0100A0E3           MOV      R0,#+1
   \   000001A0   B40100EF           SWI      +436
   3816              if(total_smiles)
   \   000001A4   90019FE5           LDR      R0,??method0_0+0x8  ;; total_smiles
   \   000001A8   001090E5           LDR      R1,[R0, #+0]
   \   000001AC   18D08DE2           ADD      SP,SP,#+24
   \   000001B0   000051E3           CMP      R1,#+0
   \   000001B4   0300000A           BEQ      ??method0_2
   3817              {
   3818                wstrcatprintf(data->ws1,"\nLoaded %d smiles",total_smiles);
   \   000001B8   002090E5           LDR      R2,[R0, #+0]
   \   000001BC   340094E5           LDR      R0,[R4, #+52]
   \   000001C0   DD1F87E2           ADD      R1,R7,#+884
   \   000001C4   160200EF           SWI      +534
   3819              }
   3820              if (xstatuses_load)
   \                     ??method0_2:
   \   000001C8   70019FE5           LDR      R0,??method0_0+0xC  ;; xstatuses_load
   \   000001CC   000090E5           LDR      R0,[R0, #+0]
   \   000001D0   000050E3           CMP      R0,#+0
   \   000001D4   0400000A           BEQ      ??method0_1
   3821              {
   3822                wstrcatprintf(data->ws1,"\nLoaded %d xstatus",total_xstatuses);
   \   000001D8   ........           LDR      R0,??DataTable135  ;; total_xstatuses
   \   000001DC   E21F87E2           ADD      R1,R7,#+904
   \   000001E0   002090E5           LDR      R2,[R0, #+0]
   \   000001E4   340094E5           LDR      R0,[R4, #+52]
   \   000001E8   160200EF           SWI      +534
   3823              }
   3824            }
   3825            
   3826            DrawString(data->ws1,3,3+YDISP,scr_w-4,scr_h-4-GetFontYSIZE(FONT_MEDIUM_BOLD),
   3827          	     FONT_SMALL,0,GetPaletteAdrByColorIndex(0),GetPaletteAdrByColorIndex(23));
   \                     ??method0_1:
   \   000001EC   1700A0E3           MOV      R0,#+23
   \   000001F0   2E0100EF           SWI      +302
   \   000001F4   0090A0E1           MOV      R9,R0
   \   000001F8   0000A0E3           MOV      R0,#+0
   \   000001FC   2E0100EF           SWI      +302
   \   00000200   00A0A0E1           MOV      R10,R0
   \   00000204   0500A0E3           MOV      R0,#+5
   \   00000208   C50100EF           SWI      +453
   \   0000020C   04109DE5           LDR      R1,[SP, #+4]
   \   00000210   00022DE9           PUSH     {R9}
   \   00000214   048041E2           SUB      R8,R1,#+4
   \   00000218   00042DE9           PUSH     {R10}
   \   0000021C   0010A0E3           MOV      R1,#+0
   \   00000220   02002DE9           PUSH     {R1}
   \   00000224   04B045E2           SUB      R11,R5,#+4
   \   00000228   00004BE0           SUB      R0,R11,R0
   \   0000022C   0830A0E1           MOV      R3,R8
   \   00000230   0810A0E3           MOV      R1,#+8
   \   00000234   02002DE9           PUSH     {R1}
   \   00000238   01002DE9           PUSH     {R0}
   \   0000023C   340094E5           LDR      R0,[R4, #+52]
   \   00000240   1B20A0E3           MOV      R2,#+27
   \   00000244   0310A0E3           MOV      R1,#+3
   \   00000248   4C0100EF           SWI      +332
   3828            wsprintf(data->ws2,percent_t,LG_GRSKEYEXIT);
   \   0000024C   380094E5           LDR      R0,[R4, #+56]
   \   00000250   E72F87E2           ADD      R2,R7,#+924
   \   00000254   181087E2           ADD      R1,R7,#+24
   \   00000258   240100EF           SWI      +292
   3829            DrawString(data->ws2,(scr_w >> 1),scr_h-4-GetFontYSIZE(FONT_MEDIUM_BOLD),
   3830          	     scr_w-4,scr_h-4,FONT_MEDIUM_BOLD,TEXT_ALIGNRIGHT,GetPaletteAdrByColorIndex(0),GetPaletteAdrByColorIndex(23));
   \   0000025C   1700A0E3           MOV      R0,#+23
   \   00000260   2E0100EF           SWI      +302
   \   00000264   0050A0E1           MOV      R5,R0
   \   00000268   0000A0E3           MOV      R0,#+0
   \   0000026C   2E0100EF           SWI      +302
   \   00000270   0090A0E1           MOV      R9,R0
   \   00000274   0500A0E3           MOV      R0,#+5
   \   00000278   C50100EF           SWI      +453
   \   0000027C   18109DE5           LDR      R1,[SP, #+24]
   \   00000280   20002DE9           PUSH     {R5}
   \   00000284   C1A0A0E1           ASR      R10,R1,#+1
   \   00000288   00022DE9           PUSH     {R9}
   \   0000028C   0410A0E3           MOV      R1,#+4
   \   00000290   02002DE9           PUSH     {R1}
   \   00000294   0830A0E1           MOV      R3,R8
   \   00000298   00204BE0           SUB      R2,R11,R0
   \   0000029C   0510A0E3           MOV      R1,#+5
   \   000002A0   02002DE9           PUSH     {R1}
   \   000002A4   0B10A0E1           MOV      R1,R11
   \   000002A8   02002DE9           PUSH     {R1}
   \   000002AC   380094E5           LDR      R0,[R4, #+56]
   \   000002B0   0A10A0E1           MOV      R1,R10
   \   000002B4   4C0100EF           SWI      +332
   \   000002B8   28D08DE2           ADD      SP,SP,#+40
   3831            wsprintf(data->ws2,percent_t,cltop?LG_GRSKEYCLIST:empty_str);
   \   000002BC   680196E5           LDR      R0,[R6, #+360]
   \   000002C0   181087E2           ADD      R1,R7,#+24
   \   000002C4   000050E3           CMP      R0,#+0
   \   000002C8   380094E5           LDR      R0,[R4, #+56]
   \   000002CC   E92F8712           ADDNE    R2,R7,#+932
   \   000002D0   1E208702           ADDEQ    R2,R7,#+30
   \   000002D4   240100EF           SWI      +292
   3832            DrawString(data->ws2,3,scr_h-4-GetFontYSIZE(FONT_MEDIUM_BOLD),
   3833          	     scr_w>>1,scr_h-4,FONT_MEDIUM_BOLD,TEXT_ALIGNLEFT,GetPaletteAdrByColorIndex(0),GetPaletteAdrByColorIndex(23));
   \   000002D8   1700A0E3           MOV      R0,#+23
   \   000002DC   2E0100EF           SWI      +302
   \   000002E0   0050A0E1           MOV      R5,R0
   \   000002E4   0000A0E3           MOV      R0,#+0
   \   000002E8   2E0100EF           SWI      +302
   \   000002EC   0060A0E1           MOV      R6,R0
   \   000002F0   0500A0E3           MOV      R0,#+5
   \   000002F4   C50100EF           SWI      +453
   \   000002F8   20002DE9           PUSH     {R5}
   \   000002FC   40002DE9           PUSH     {R6}
   \   00000300   0110A0E3           MOV      R1,#+1
   \   00000304   02002DE9           PUSH     {R1}
   \   00000308   0A30A0E1           MOV      R3,R10
   \   0000030C   00204BE0           SUB      R2,R11,R0
   \   00000310   0510A0E3           MOV      R1,#+5
   \   00000314   02002DE9           PUSH     {R1}
   \   00000318   0B10A0E1           MOV      R1,R11
   \   0000031C   02002DE9           PUSH     {R1}
   \   00000320   380094E5           LDR      R0,[R4, #+56]
   \   00000324   0310A0E3           MOV      R1,#+3
   \   00000328   4C0100EF           SWI      +332
   3834          /*#ifdef EVILFOX
   3835            DrawImg(15,220,(int)"4:\\zbin\\naticq\\img\\smiles_logo.png");
   3836            wsprintf(data->ws2,percent_t,"Mod by Evilfox Gold");
   3837          #else
   3838            wsprintf(data->ws2,percent_t,"Mod by Evilfox 1st");
   3839          //  wsprintf(data->ws2,percent_t,"Mod by Evilfox for Mr.Google");
   3840          #endif
   3841          //  wsprintf(data->ws2,percent_t,"Mod by Evilfox for Tolsi");
   3842          #ifdef EVILFOX
   3843            DrawString(data->ws2,3,scr_h-8-GetFontYSIZE(FONT_MEDIUM_BOLD)-GetFontYSIZE(FONT_MEDIUM_BOLD),
   3844          	     scr_w-4,scr_h-4,FONT_MEDIUM_BOLD,TEXT_ALIGNLEFT,GetPaletteAdrByColorIndex(0),GetPaletteAdrByColorIndex(23));
   3845          #else
   3846            DrawString(data->ws2,3,scr_h-8-GetFontYSIZE(FONT_MEDIUM_BOLD)-GetFontYSIZE(FONT_MEDIUM_BOLD)-GetFontYSIZE(FONT_MEDIUM_BOLD),
   3847          	     scr_w-4,scr_h-4,FONT_MEDIUM_BOLD,TEXT_ALIGNLEFT,GetPaletteAdrByColorIndex(4),GetPaletteAdrByColorIndex(23));
   3848          #endif*/
   3849          }
   \   0000032C   28D08DE2           ADD      SP,SP,#+40
   \   00000330   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??method0_0:
   \   00000334   ........           DC32     pictures_max
   \   00000338   ........           DC32     pictures_loaded
   \   0000033C   ........           DC32     total_smiles
   \   00000340   ........           DC32     xstatuses_load
   3850          

   \                                 In segment CODE, align 4, keep-with-next
   3851          void method1(MAIN_GUI *data,void *(*malloc_adr)(int))
   3852          {
   \                     method1:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   3853            data->ws1=AllocWS(256);
   \   00000008   400FA0E3           MOV      R0,#+256
   \   0000000C   250100EF           SWI      +293
   \   00000010   340084E5           STR      R0,[R4, #+52]
   3854            data->ws2=AllocWS(256);
   \   00000014   400FA0E3           MOV      R0,#+256
   \   00000018   250100EF           SWI      +293
   \   0000001C   380084E5           STR      R0,[R4, #+56]
   3855            data->gui.state=1;
   \   00000020   0100A0E3           MOV      R0,#+1
   \   00000024   0C00C4E5           STRB     R0,[R4, #+12]
   3856          }
   \   00000028   1080BDE8           POP      {R4,PC}          ;; return
   3857          

   \                                 In segment CODE, align 4, keep-with-next
   3858          void method2(MAIN_GUI *data,void (*mfree_adr)(void *))
   3859          {
   \                     method2:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   3860            FreeWS(data->ws1);
   \   00000008   340094E5           LDR      R0,[R4, #+52]
   \   0000000C   290100EF           SWI      +297
   3861            FreeWS(data->ws2);
   \   00000010   380094E5           LDR      R0,[R4, #+56]
   \   00000014   290100EF           SWI      +297
   3862            data->gui.state=0;
   \   00000018   0000A0E3           MOV      R0,#+0
   \   0000001C   0C00C4E5           STRB     R0,[R4, #+12]
   3863          }
   \   00000020   1080BDE8           POP      {R4,PC}          ;; return
   3864          

   \                                 In segment CODE, align 4, keep-with-next
   3865          void method3(MAIN_GUI *data,void *(*malloc_adr)(int),void (*mfree_adr)(void *))
   3866          {
   \                     method3:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   3867            DisableIDLETMR();
   \   00000008   7F0100EF           SWI      +383
   3868            data->gui.state=2;
   \   0000000C   0200A0E3           MOV      R0,#+2
   \   00000010   0C00C4E5           STRB     R0,[R4, #+12]
   3869          }
   \   00000014   1080BDE8           POP      {R4,PC}          ;; return
   3870          

   \                                 In segment CODE, align 4, keep-with-next
   3871          void method4(MAIN_GUI *data,void (*mfree_adr)(void *))
   3872          {
   3873            if (data->gui.state!=2)
   \                     method4:
   \   00000000   0C10D0E5           LDRB     R1,[R0, #+12]
   \   00000004   020051E3           CMP      R1,#+2
   3874              return;
   3875            data->gui.state=1;
   \   00000008   0110A003           MOVEQ    R1,#+1
   \   0000000C   0C10C005           STRBEQ   R1,[R0, #+12]
   3876          }
   \   00000010   1EFF2FE1           BX       LR               ;; return
   3877          

   \                                 In segment CODE, align 4, keep-with-next
   3878          int method5(MAIN_GUI *data,GUI_MSG *msg)
   3879          {
   \                     method5:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0140A0E1           MOV      R4,R1
   3880            DirectRedrawGUI();
   \   0000000C   3F0100EF           SWI      +319
   3881            if (msg->gbsmsg->msg==KEY_DOWN)
   \   00000010   040094E5           LDR      R0,[R4, #+4]
   \   00000014   9320A0E3           MOV      R2,#+147
   \   00000018   041090E5           LDR      R1,[R0, #+4]
   \   0000001C   402F82E3           ORR      R2,R2,#0x100
   \   00000020   020051E1           CMP      R1,R2
   \   00000024   2600001A           BNE      ??method5_0
   3882            {
   3883              switch(msg->gbsmsg->submess)
   \   00000028   ........           LDR      R5,??DataTable139  ;; S_ICONS
   \   0000002C   080090E5           LDR      R0,[R0, #+8]
   \   00000030   ........           LDR      R4,??DataTable169  ;; create_connect
   \   00000034   0C10A0E3           MOV      R1,#+12
   \   00000038   601D81E3           ORR      R1,R1,#0x1800
   \   0000003C   056081E0           ADD      R6,R1,R5
   \   00000040   0370A0E3           MOV      R7,#+3
   \   00000044   010050E2           SUBS     R0,R0,#+1
   \   00000048   0600000A           BEQ      ??method5_1
   \   0000004C   030050E2           SUBS     R0,R0,#+3
   \   00000050   0A00000A           BEQ      ??method5_2
   \   00000054   070050E2           SUBS     R0,R0,#+7
   \   00000058   0A00000A           BEQ      ??method5_3
   \   0000005C   250050E2           SUBS     R0,R0,#+37
   \   00000060   1000000A           BEQ      ??method5_4
   \   00000064   030000EA           B        ??method5_5
   3884              {
   3885              case LEFT_SOFT:
   3886                if (cltop) create_contactlist_menu();
   \                     ??method5_1:
   \   00000068   680195E5           LDR      R0,[R5, #+360]
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   F280BD08           POPEQ    {R1,R4-R7,PC}
   \   00000074   ........           BL       create_contactlist_menu
   \                     ??method5_5:
   \   00000078   0000A0E3           MOV      R0,#+0
   \   0000007C   F280BDE8           POP      {R1,R4-R7,PC}
   3887                //      if (cltop) remake_clmenu();
   3888                break;
   3889              case RIGHT_SOFT:
   3890                return(1); //Происходит вызов GeneralFunc для тек. GUI -> закрытие GUI
   \                     ??method5_2:
   \   00000080   0100A0E3           MOV      R0,#+1
   \   00000084   F280BDE8           POP      {R1,R4-R7,PC}
   3891              case GREEN_BUTTON:
   3892                disautorecconect=0;
   \                     ??method5_3:
   \   00000088   0000A0E3           MOV      R0,#+0
   \   0000008C   200185E5           STR      R0,[R5, #+288]
   3893                if ((connect_state==0)&&(sock==-1))
   \   00000090   440195E5           LDR      R0,[R5, #+324]
   \   00000094   000050E3           CMP      R0,#+0
   \   00000098   48019505           LDREQ    R0,[R5, #+328]
   \   0000009C   01007003           CMNEQ    R0,#+1
   \   000000A0   0700001A           BNE      ??method5_0
   3894                {
   3895                  GBS_DelTimer(&reconnect_tmr);
   \   000000A4   010000EA           B        ??method5_6
   3896          	DNR_TRIES=3;
   3897                  SUBPROC((void *)create_connect);
   3898                }
   3899                break;
   3900                case '0':
   3901                SUBPROC((void*)end_socket);
   \                     ??method5_4:
   \   000000A8   ........           LDR      R0,??DataTable173  ;; end_socket
   \   000000AC   710100EF           SWI      +369
   3902                GBS_DelTimer(&reconnect_tmr);
   \                     ??method5_6:
   \   000000B0   0600A0E1           MOV      R0,R6
   \   000000B4   8C0100EF           SWI      +396
   3903                DNR_TRIES=3;
   \   000000B8   907185E5           STR      R7,[R5, #+400]
   3904                SUBPROC((void *)create_connect);
   \   000000BC   0400A0E1           MOV      R0,R4
   \   000000C0   710100EF           SWI      +369
   3905                break;
   3906              }
   3907            }
   3908            return(0);
   \                     ??method5_0:
   \   000000C4   0000A0E3           MOV      R0,#+0
   \   000000C8   F280BDE8           POP      {R1,R4-R7,PC}    ;; return
   3909          }
   3910          

   \                                 In segment CODE, align 4, keep-with-next
   3911          int method8(void){return(0);}
   \                     method8:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
   3912          

   \                                 In segment CODE, align 4, keep-with-next
   3913          int method9(void){return(0);}
   \                     method9:
   \   00000000   0000A0E3           MOV      R0,#+0
   \   00000004   1EFF2FE1           BX       LR               ;; return
   3914          
   3915          const void * const gui_methods[11]={
   3916            (void *)method0,  //Redraw
   3917            (void *)method1,  //Create
   3918            (void *)method2,  //Close
   3919            (void *)method3,  //Focus
   3920            (void *)method4,  //Unfocus
   3921            (void *)method5,  //OnKey
   3922            0,
   3923            (void *)kill_data, //method7, //Destroy
   3924            (void *)method8,
   3925            (void *)method9,
   3926            0
   3927          };
   3928          
   3929          extern const int Reset_timer;
   3930          

   \                                 In segment CODE, align 4, keep-with-next
   3931          int my_keyhook(int key, int m)
   3932          {
   \                     my_keyhook:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   3933            if (m==KEY_DOWN)
   \   00000008   9300A0E3           MOV      R0,#+147
   \   0000000C   400F80E3           ORR      R0,R0,#0x100
   \   00000010   000051E1           CMP      R1,R0
   \   00000014   1F00001A           BNE      ??my_keyhook_0
   3934                 {
   3935                   if(change_back_status==1)
   \   00000018   ........           LDR      R4,??DataTable139  ;; S_ICONS
   \   0000001C   0060A0E3           MOV      R6,#+0
   \   00000020   F00094E5           LDR      R0,[R4, #+240]
   \   00000024   010050E3           CMP      R0,#+1
   \   00000028   0300001A           BNE      ??my_keyhook_1
   3936                   {
   3937                     CurrentStatus=status_rem;
   \   0000002C   EC0094E5           LDR      R0,[R4, #+236]
   \   00000030   340184E5           STR      R0,[R4, #+308]
   3938                     set_my_status();
   \   00000034   ........           BL       set_my_status
   3939          //           SUBPROC((void*)WriteDefSettings);
   3940                     change_back_status=0;
   \   00000038   F06084E5           STR      R6,[R4, #+240]
   3941                   }
   3942          #ifdef EVILFOX
   3943                   if ((key==VOL_UP_BUTTON)&&(IsIdleUiOnTop()))
   3944                   {
   3945                     if(autobot==1) 
   3946                     {
   3947                       autobot=0;
   3948                       ShowMSG(1,(int)"Autobot Off");
   3949                     }
   3950                     else 
   3951                     {
   3952                       autobot=1;
   3953                       ShowMSG(1,(int)"Autobot On");
   3954                     }
   3955                   }
   3956          #endif
   3957          #ifdef ELKA
   3958          #ifdef EVILFOX
   3959                   if ((key==VOL_DOWN_BUTTON)&&(IsIdleUiOnTop()))
   3960          #else
   3961                   if ((key==CAMERA_BUTTON)&&(!IsUnlocked()))
   \                     ??my_keyhook_1:
   \   0000003C   140055E3           CMP      R5,#+20
   \   00000040   0E00001A           BNE      ??my_keyhook_2
   \   00000044   430000EF           SWI      +67
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   0B00001A           BNE      ??my_keyhook_2
   3962          #endif
   3963                   {
   3964                     GBS_StopTimer(&away_tmr);
   \   00000050   1C00A0E3           MOV      R0,#+28
   \   00000054   580D80E3           ORR      R0,R0,#0x1600
   \   00000058   040080E0           ADD      R0,R0,R4
   \   0000005C   440100EF           SWI      +324
   3965                     msg_away_timer=AUTO_ENGADE;
   \   00000060   ........           LDR      R0,??DataTable140  ;; AUTO_ENGADE
   \   00000064   000090E5           LDR      R0,[R0, #+0]
   \   00000068   E00084E5           STR      R0,[R4, #+224]
   3966                     away_timer();
   \   0000006C   ........           BL       away_timer
   3967                     main_d=1;
   \   00000070   0100A0E3           MOV      R0,#+1
   \   00000074   880184E5           STR      R0,[R4, #+392]
   \   00000078   0000A0E3           MOV      R0,#+0
   \   0000007C   7080BDE8           POP      {R4-R6,PC}
   3968                   }
   3969                   else
   3970                   {
   3971          #endif
   3972                     if(Reset_timer)
   \                     ??my_keyhook_2:
   \   00000080   18009FE5           LDR      R0,??my_keyhook_3  ;; Reset_timer
   \   00000084   000090E5           LDR      R0,[R0, #+0]
   \   00000088   000050E3           CMP      R0,#+0
   \   0000008C   7080BD08           POPEQ    {R4-R6,PC}
   3973                     {
   3974                        msg_away_timer=0;
   \   00000090   E06084E5           STR      R6,[R4, #+224]
   3975                        away_m=0;
   \   00000094   E86084E5           STR      R6,[R4, #+232]
   3976                     }
   3977          #ifdef ELKA
   3978                   }
   3979          #endif
   3980                 }
   3981            return 0;
   \                     ??my_keyhook_0:
   \   00000098   0000A0E3           MOV      R0,#+0
   \   0000009C   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??my_keyhook_3:
   \   000000A0   ........           DC32     Reset_timer
   3982          }

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`:
   \   00000000   C2FB20E0E2F2       DC8 "\302\373 \340\342\362\356\360\350\347\356\342\340\355\373"
   \              EEF0E8E7EEE2
   \              E0EDFB00    
   3983          
   3984          const RECT Canvas={0,0,0,0};
   \                     Canvas:
   \   00000010   000000000000       DC16 0, 0, 0, 0
   \              0000        
   \                     percent_t:
   \   00000018   257400             DC8 "%t"
   \                     percent_d:
   \   0000001B   256400             DC8 "%d"
   \                     empty_str:
   \   0000001E   00                 DC8 ""
   \                     I_str:
   \   0000001F   4900               DC8 "I"
   \   00000021   000000             DC8 0, 0, 0
   \   00000024   4F6E6C696E65       DC8 "Online time:\012%02d:%02d:%02d\012Server:\012%s"
   \              2074696D653A
   \              0A253032643A
   \              253032643A25
   \              3032640A5365
   \              727665723A0A
   \              257300      
   \   0000004B   00                 DC8 0
   \   0000004C   536F756E6420       DC8 "Sound 0n"
   \              306E00      
   \   00000055   000000             DC8 0, 0, 0
   \   00000058   536F756E6420       DC8 "Sound Off"
   \              4F666600    
   \   00000062   0000               DC8 0, 0
   \   00000064   566962726120       DC8 "Vibra On"
   \              4F6E00      
   \   0000006D   000000             DC8 0, 0, 0
   \   00000070   566962726120       DC8 "Vibra Off"
   \              4F666600    
   \   0000007A   0000               DC8 0, 0
   \   0000007C   C8EDE2E8E720       DC8 "\310\355\342\350\347 \342\352\353\376\367\345\355"
   \              E2EAEBFEF7E5
   \              ED00        
   \   0000008A   0000               DC8 0, 0
   \   0000008C   C8EDE2E8E720       DC8 "\310\355\342\350\347 \342\373\352\353\376\367\345\355"
   \              E2FBEAEBFEF7
   \              E5ED00      
   \   0000009B   00                 DC8 0
   \   0000009C   566962726120       DC8 "Vibra rem On"
   \              72656D204F6E
   \              00          
   \   000000A9   000000             DC8 0, 0, 0
   \   000000AC   566962726120       DC8 "Vibra rem Off"
   \              72656D204F66
   \              6600        
   \   000000BA   0000               DC8 0, 0
   \   000000BC   3E3E20257320       DC8 ">> %s <<"
   \              3C3C00      
   \   000000C5   000000             DC8 0, 0, 0
   \   000000C8   2563257400         DC8 "%c%t"
   \   000000CD   000000             DC8 0, 0, 0
   \   000000D0   2825642F2564       DC8 "(%d/%d)"
   \              2900        
   \   000000D8   EEF8E8E1EAE0       DC8 "\356\370\350\341\352\340"
   \              00          
   \   000000DF   00                 DC8 0
   \   000000E0   426164207061       DC8 "Bad packet"
   \              636B657400  
   \   000000EB   00                 DC8 0
   \   000000EC   534325643A20       DC8 "SC%d: %04X"
   \              2530345800  
   \   000000F7   00                 DC8 0
   \   000000F8   4552523A2025       DC8 "ERR: %s"
   \              7300        
   \   00000100   75696E256400       DC8 "uin%d"
   \   00000106   0000               DC8 0, 0
   \   00000108   4D534725643A       DC8 "MSG%d: %s"
   \              20257300    
   \   00000112   0000               DC8 0, 0
   \   00000114   257325642E77       DC8 "%s%d.wav"
   \              617600      
   \   0000011D   000000             DC8 0, 0, 0
   \   00000120   50696E672025       DC8 "Ping %d-%d seconds!"
   \              642D25642073
   \              65636F6E6473
   \              2100        
   \   00000134   50696E673A20       DC8 "Ping: %dsec"
   \              256473656300
   \   00000140   6D6F64206279       DC8 6DH, 6FH, 64H, 20H, 62H, 79H, 20H, 45H
   \              2045        
   \   00000148   76696C666F78       DC8 76H, 69H, 6CH, 66H, 6FH, 78H, 20H, 62H
   \              2062        
   \   00000150   61736564206F       DC8 61H, 73H, 65H, 64H, 20H, 6FH, 6EH, 20H
   \              6E20        
   \   00000158   726576697369       DC8 72H, 65H, 76H, 69H, 73H, 69H, 6FH, 6EH
   \              6F6E        
   \   00000160   20313834352C       DC8 20H, 31H, 38H, 34H, 35H, 2CH, 20H, 6DH
   \              206D        
   \   00000168   6F6420646174       DC8 6FH, 64H, 20H, 64H, 61H, 74H, 65H, 3AH
   \              653A        
   \   00000170   202573206174       DC8 20H, 25H, 73H, 20H, 61H, 74H, 20H, 25H
   \              2025        
   \   00000178   73202626206F       DC8 73H, 20H, 26H, 26H, 20H, 6FH, 70H, 74H
   \              7074        
   \   00000180   696D697A6520       DC8 69H, 6DH, 69H, 7AH, 65H, 20H, 62H, 79H
   \              6279        
   \   00000188   206B6C756368       DC8 20H, 6BH, 6CH, 75H, 63H, 68H, 6EH, 69H
   \              6E69        
   \   00000190   6B2066726F6D       DC8 6BH, 20H, 66H, 72H, 6FH, 6DH, 20H, 6BH
   \              206B        
   \   00000198   6C7563686E69       DC8 6CH, 75H, 63H, 68H, 6EH, 69H, 6BH, 20H
   \              6B20        
   \   000001A0   3A2D44203A2D       DC8 3AH, 2DH, 44H, 20H, 3AH, 2DH, 50H, 0
   \              5000        
   \   000001A8   466562203139       DC8 "Feb 19 2008"
   \              203230303800
   \   000001B4   32333A35353A       DC8 "23:55:27"
   \              323700      
   \   000001BD   000000             DC8 0, 0, 0
   \   000001C0   47414D453A00       DC8 "GAME:"
   \   000001C6   0000               DC8 0, 0
   \   000001C8   6F6E6C696E65       DC8 "online: %02d:%02d:%02d \012Server: %s"
   \              3A2025303264
   \              3A253032643A
   \              25303264200A
   \              536572766572
   \              3A20257300  
   \   000001EB   00                 DC8 0
   \   000001EC   4745545F4F4E       DC8 "GET_ONLINE_TIME"
   \              4C494E455F54
   \              494D4500    
   \   000001FC   CEF2EFF0E0E2       DC8 "\316\362\357\360\340\342\353\345\355\356 \361\356\356\341\371\345\355\350\351: %d \012\317\360\350\355\377\362\356 \361\356\356\341\371\345\355\350\351: %d"
   \              EBE5EDEE20F1
   \              EEEEE1F9E5ED
   \              E8E93A202564
   \              200ACFF0E8ED
   \              FFF2EE20F1EE
   \              EEE1F9E5EDE8
   \              E93A20256400
   \   0000022C   4745545F4D53       DC8 "GET_MSG_INFO"
   \              475F494E464F
   \              00          
   \   00000239   000000             DC8 0, 0, 0
   \   0000023C   4745545F4D4F       DC8 "GET_MOD_INFO"
   \              445F494E464F
   \              00          
   \   00000249   000000             DC8 0, 0, 0
   \   0000024C   626174746572       DC8 "battery: %d percents"
   \              793A20256420
   \              70657263656E
   \              747300      
   \   00000261   000000             DC8 0, 0, 0
   \   00000264   4745545F4241       DC8 "GET_BAT_INFO"
   \              545F494E464F
   \              00          
   \   00000271   000000             DC8 0, 0, 0
   \   00000274   C0E2F2EEEEF2       DC8 "\300\342\362\356\356\362\342\345\362\367\350\352: %s %s! %s %s"
   \              E2E5F2F7E8EA
   \              3A2025732025
   \              732120257320
   \              257300      
   \   0000028F   00                 DC8 0
   \   00000290   CFF0E8E2E5F2       DC8 "\317\360\350\342\345\362"
   \              00          
   \   00000297   00                 DC8 0
   \   00000298   E4F3ECE0E5F8       DC8 "\344\363\354\340\345\370\374?!"
   \              FC3F2100    
   \   000002A2   0000               DC8 0, 0
   \   000002A4   E4E020F7F2EE       DC8 "\344\340 \367\362\356 \362\373 \343\356\342\356\360\350\370\374"
   \              20F2FB20E3EE
   \              E2EEF0E8F8FC
   \              00          
   \   000002B7   00                 DC8 0
   \   000002B8   F1F2F0E0EDED       DC8 "\361\362\360\340\355\355\356"
   \              EE00        
   \   000002C0   F2FB20F2E0EA       DC8 "\362\373 \362\340\352 \344\363\354\340\345\370\374?"
   \              20E4F3ECE0E5
   \              F8FC3F00    
   \   000002D0   ECEEE6E5F220       DC8 "\354\356\346\345\362 \341\373\362\374"
   \              E1FBF2FC00  
   \   000002DB   00                 DC8 0
   \   000002DC   EAEEEDE5F7ED       DC8 "\352\356\355\345\367\355\340"
   \              E000        
   \   000002E4   EFEEF7E5ECF3       DC8 "\357\356\367\345\354\363 \355\345\362"
   \              20EDE5F200  
   \   000002EF   00                 DC8 0
   \   000002F0   CDE520E5E1E8       DC8 "\315\345 \345\341\350 \354\356\347\343!"
   \              20ECEEE7E321
   \              00          
   \   000002FD   000000             DC8 0, 0, 0
   \   00000300   E8E4E820EDE0       DC8 "\350\344\350 \355\340 \365\363\351!!"
   \              20F5F3E92121
   \              00          
   \   0000030D   000000             DC8 0, 0, 0
   \   00000310   F1F3EAE000         DC8 "\361\363\352\340"
   \   00000315   000000             DC8 0, 0, 0
   \   00000318   E7E0E5E1E0EB       DC8 "\347\340\345\341\340\353"
   \              00          
   \   0000031F   00                 DC8 0
   \   00000320   EEF2FAE5E1E8       DC8 "\356\362\372\345\341\350\361\374!!!!!\343\340\344!!*FUCK_YOU*"
   \              F1FC21212121
   \              21E3E0E42121
   \              2A4655434B5F
   \              594F552A00  
   \   0000033D   000000             DC8 0, 0, 0
   \   00000340   53746174653A       DC8 53H, 74H, 61H, 74H, 65H, 3AH, 20H, 25H
   \              2025        
   \   00000348   642C20525873       DC8 64H, 2CH, 20H, 52H, 58H, 73H, 74H, 61H
   \              7461        
   \   00000350   74653A202564       DC8 74H, 65H, 3AH, 20H, 25H, 64H, 0AH, 52H
   \              0A52        
   \   00000358   783A2564622C       DC8 78H, 3AH, 25H, 64H, 62H, 2CH, 54H, 78H
   \              5478        
   \   00000360   3A2564620A51       DC8 3AH, 25H, 64H, 62H, 0AH, 51H, 75H, 65H
   \              7565        
   \   00000368   75653A202564       DC8 75H, 65H, 3AH, 20H, 25H, 64H, 62H, 0AH
   \              620A        
   \   00000370   257300             DC8 25H, 73H, 0
   \   00000373   00                 DC8 0
   \   00000374   0A4C6F616465       DC8 "\012Loaded %d smiles"
   \              642025642073
   \              6D696C657300
   \   00000386   0000               DC8 0, 0
   \   00000388   0A4C6F616465       DC8 "\012Loaded %d xstatus"
   \              642025642078
   \              737461747573
   \              00          
   \   0000039B   00                 DC8 0
   \   0000039C   4578697400         DC8 "Exit"
   \   000003A1   000000             DC8 0, 0, 0
   \   000003A4   434C69737400       DC8 "CList"
   \   000003AA   0000               DC8 0, 0
   \   000003AC   4675636B2079       DC8 "Fuck you hacker! my password sux ur ass"
   \              6F7520686163
   \              6B657221206D
   \              792070617373
   \              776F72642073
   \              757820757220
   \              61737300    
   \   000003D4   556E72656164       DC8 "Unread: %d"
   \              3A20256400  
   \   000003DF   00                 DC8 0
   \   000003E0   4E6174494351       DC8 "NatICQ config updated!"
   \              20636F6E6669
   \              672075706461
   \              7465642100  
   \   000003F7   00                 DC8 0
   \   000003F8   257332323430       DC8 "%s2240.png"
   \              2E706E6700  
   \   00000403   00                 DC8 0
   \   00000404   475052532075       DC8 "GPRS up, wait 10 sec..."
   \              702C20776169
   \              742031302073
   \              65632E2E2E00
   \   0000041C   54727920746F       DC8 "Try to login..."
   \              206C6F67696E
   \              2E2E2E00    
   \   0000042C   CDE520E220F1       DC8 "\315\345 \342 \361\357\350\361\352\345"
   \              EFE8F1EAE500
   \   00000438   4C6F6F706261       DC8 "Loopback"
   \              636B00      
   \   00000441   000000             DC8 0, 0, 0
   \   00000444   CDE5E2E5F0ED       DC8 "\315\345\342\345\360\355\356\345 \361\356\356\341\371\345\355\350\345 ENIP_SOCK_CONNECTED!"
   \              EEE520F1EEEE
   \              E1F9E5EDE8E5
   \              20454E49505F
   \              534F434B5F43
   \              4F4E4E454354
   \              45442100    
   \   0000046C   CDE5E2E5F0ED       DC8 "\315\345\342\345\360\355\356\345 \361\356\356\341\371\345\355\350\345 ENIP_DATA_READ"
   \              EEE520F1EEEE
   \              E1F9E5EDE8E5
   \              20454E49505F
   \              444154415F52
   \              45414400    
   \   0000048E   0000               DC8 0, 0
   \   00000490   446973636F6E       DC8 "Disconnected, %d bytes not sended!"
   \              6E6563746564
   \              2C2025642062
   \              79746573206E
   \              6F742073656E
   \              6465642100  
   \   000004B3   00                 DC8 0
   \   000004B4   50696E67204E       DC8 "Ping None"
   \              6F6E6500    
   \   000004BE   0000               DC8 0, 0
   \   000004C0   C2E2E5E4E8F2       DC8 "\302\342\345\344\350\362\345 UIN/\357\340\360\356\353\374!"
   \              E52055494E2F
   \              EFE0F0EEEBFC
   \              2100        
   \   000004D4   25735C746D70       DC8 "%s\\tmp%u.url"
   \              25752E75726C
   \              00          
   \   000004E1   000000             DC8 0, 0, 0
   \   000004E4   526571756573       DC8 "Request info..."
   \              7420696E666F
   \              2E2E2E00    
   \   000004F4   E4E020EDE0F5       DC8 "\344\340 \355\340\365\360\345\355"
   \              F0E5ED00    
   \   000004FE   0000               DC8 0, 0
   \                     ipc_my_name:
   \   00000500   4E6174494351       DC8 "NatICQ"
   \              00          
   \   00000507   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000517   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000      
   \                     ipc_xtask_name:
   \   00000520   585461736B00       DC8 "XTask"
   \   00000526   0000               DC8 0, 0
   \                     x_status_change:
   \   00000528   582D53746174       DC8 "X-Status change"
   \              757320636861
   \              6E676500    
   \                     ipc_game_name:
   \   00000538   436F6D626174       DC8 "Combats"
   \              7300        
   \                     gui_methods:
   \   00000540   ............       DC32 method0, method1, method2, method3, method4, method5, 0H
   \              ............
   \              ............
   \              ............
   \              00000000    
   \   0000055C   ............       DC32 kill_data, method8, method9, 0H
   \              ............
   \              00000000    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     ipc_test_name:
   \   00000000   7465737400         DC8 "test"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_OFFLINE:
   \   00000000   4F66666C696E       DC8 "Offline"
   \              6500        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_INVISIBLE:
   \   00000000   496E76697369       DC8 "Invisible"
   \              626C6500    
   \   0000000A   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_AWAY:
   \   00000000   4177617900         DC8 "Away"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_NA:
   \   00000000   4E2F4100           DC8 "N/A"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_OCCUPIED:
   \   00000000   4F6363757069       DC8 "Occupied"
   \              656400      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_DND:
   \   00000000   444E4400           DC8 "DND"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_ONLINE:
   \   00000000   4F6E6C696E65       DC8 "Online"
   \              00          
   \   00000007   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     S_FFC:
   \   00000000   46464300           DC8 "FFC"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     icons_names:
   \   00000000   ............       DC32 `?<Constant "offline.png">`, `?<Constant "invisible.png">`
   \              ....        
   \   00000008   ............       DC32 `?<Constant "away.png">`, `?<Constant "na.png">`
   \              ....        
   \   00000010   ............       DC32 `?<Constant "occupied.png">`, `?<Constant "dnd.png">`
   \              ....        
   \   00000018   ............       DC32 `?<Constant "depression.png">`, `?<Constant "evil.png">`
   \              ....        
   \   00000020   ............       DC32 `?<Constant "home.png">`, `?<Constant "lunch.png">`
   \              ....        
   \   00000028   ............       DC32 `?<Constant "work.png">`, `?<Constant "online.png">`
   \              ....        
   \   00000030   ............       DC32 `?<Constant "ffc.png">`, `?<Constant "message.png">`
   \              ....        
   \   00000038   ............       DC32 `?<Constant "unknown.png">`, `?<Constant "groupon.png">`
   \              ....        
   \   00000040   ............       DC32 `?<Constant "groupoff.png">`, `?<Constant "null.png">`
   \              ....        
   \   00000048   ............       DC32 `?<Constant "addcont.png">`, `?<Constant "head.png">`
   \              ....        
   \   00000050   ............       DC32 `?<Constant "logo.png">`, `?<Constant "ping.png">`
   \              ....        
   \   00000058   ............       DC32 `?<Constant "settings.png">`, `?<Constant "vis1.png">`
   \              ....        
   \   00000060   ............       DC32 `?<Constant "vis2.png">`, `?<Constant "vis3.png">`
   \              ....        
   \   00000068   ............       DC32 `?<Constant "vis4.png">`, `?<Constant "vis5.png">`
   \              ....        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     input_awaymsg_desc:
   \   00000000   01000000....       DC32 1, input_awaymsg_onkey, input_awaymsg_ghook, input_awaymsg_locret
   \              ............
   \              ........    
   \   00000010   00000000....       DC32 0, input_awaymsg_skt
   \              ....        
   \   00000018   000000000000       DC16 0, 0, 0, 0
   \              0000        
   \   00000020   080000006400       DC32 8, 100, 101, 0, 0, 1073741824
   \              000065000000
   \              000000000000
   \              000000000040
   \                     input_awaymsg_hdr:
   \   00000038   000000008300       DC16 0, 0, 131, 21
   \              1500        
   \   00000040   00000000....       DC32 0H, `?<Constant "Input away msg">`, 2147483647
   \              ....FFFFFF7F
   \   0000004C   D1EEEEE1F9E5       DC8 "\321\356\356\341\371\345\355\350\345:\012"
   \              EDE8E53A0A00
   \   00000058   D1EEEEE1F9E5       DC8 "\321\356\356\341\371\345\355\350\345 2:\012"
   \              EDE8E520323A
   \              0A00        
   \   00000066   0000               DC8 0, 0
   \   00000068   EAEEE3E4E020       DC8 "\352\356\343\344\340 \361\354\356\343\363 \356\362\342\345\367\363:)"
   \              F1ECEEE3F320
   \              EEF2E2E5F7F3
   \              3A2900      
   \   0000007D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     def_setting:
   \   00000000   25736465665F       DC8 "%sdef_settings_%d"
   \              73657474696E
   \              67735F256400
   \   00000012   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     key_clmenu_sk_r:
   \   00000000   3C4300             DC8 "<C"
   \   00000003   00                 DC8 0
   \   00000004   257328253032       DC8 "%s(%02d:%02d)"
   \              643A25303264
   \              2900        
   \   00000012   0000               DC8 0, 0
   \   00000014   25732825642F       DC8 "%s(%d/%d)"
   \              25642900    
   \   0000001E   0000               DC8 0, 0
   \   00000020   5B25642F2564       DC8 "[%d/%d] [%d/%d] "
   \              5D205B25642F
   \              25645D2000  
   \   00000031   000000             DC8 0, 0, 0
   \   00000034   CAEEEDF2E0EA       DC8 "\312\356\355\362\340\352\362\373..."
   \              F2FB2E2E2E00
   \   00000040   C2E2EEE42054       DC8 "\302\342\356\344 T9: "
   \              393A2000    
   \   0000004A   0000               DC8 0, 0
   \   0000004C   C7E0EAF0FBF2       DC8 "\307\340\352\360\373\362\374"
   \              FC00        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     contactlist_menuhdr:
   \   00000000   000000000000       DC16 0, 0, 0, 0
   \              0000        
   \   00000008   ............       DC32 S_ICONS + 4CH, clm_hdr_text, 2147483647
   \              ....FFFFFF7F
   \   00000014   08000000....       DC32 8, contactlist_menu_onkey, contactlist_menu_ghook, 0H
   \              ............
   \              00000000    
   \   00000024   ............       DC32 menusoftkeys, clmenu_skt, 17, contactlist_menu_iconhndl, 0H, 0H, 0
   \              ....11000000
   \              ........0000
   \              000000000000
   \              00000000    
   \   00000040   01000000           DC32 1

   \                                 In segment DATA_C, align 4, align-sorted
   \                     menusoftkeys:
   \   00000000   000000000100       DC32 0, 1, 2
   \              000002000000

   \                                 In segment DATA_C, align 4, align-sorted
   \                     menu_sk:
   \   00000000   18000000           DC16 24, 0
   \   00000004   ........           DC32 `?<Constant "\\316\\357\\366\\350\\350">`
   \   00000008   01000000           DC16 1, 0
   \   0000000C   ........           DC32 `?<Constant "\\307\\340\\352\\360\\373\\362\\374">`
   \   00000010   3D000000           DC16 61, 0
   \   00000014   FBC0FF7F           DC32 2147467515

   \                                 In segment DATA_C, align 4, align-sorted
   \                     clmenu_sk:
   \   00000000   18000000           DC16 24, 0
   \   00000004   ........           DC32 `?<Constant "\\316\\357\\366\\350\\350">`
   \   00000008   01000000           DC16 1, 0
   \   0000000C   ........           DC32 clmenu_sk_r
   \   00000010   3D000000           DC16 61, 0
   \   00000014   FBC0FF7F           DC32 2147467515

   \                                 In segment DATA_C, align 4, align-sorted
   \                     menu_skt:
   \   00000000   ........0000       DC32 menu_sk, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     clmenu_skt:
   \   00000000   ........0000       DC32 clmenu_sk, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     color:
   \   00000000   FFFFFF64           DC8 255, 255, 255, 100
   3985          

   \                                 In segment CODE, align 4, keep-with-next
   3986          void maincsm_oncreate(CSM_RAM *data)
   3987          {
   \                     maincsm_oncreate:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   3988            MAIN_GUI *main_gui=malloc(sizeof(MAIN_GUI));
   \   00000008   4000A0E3           MOV      R0,#+64
   3989            MAIN_CSM*csm=(MAIN_CSM*)data;
   3990            zeromem(main_gui,sizeof(MAIN_GUI));
   3991            patch_rect((RECT*)&Canvas,0,0,ScreenW()-1,ScreenH()-1);
   \   0000000C   0070A0E3           MOV      R7,#+0
   \   00000010   140000EF           SWI      +20
   \   00000014   0060A0E1           MOV      R6,R0
   \   00000018   4010A0E3           MOV      R1,#+64
   \   0000001C   1D0100EF           SWI      +285
   \   00000020   898100EF           SWI      +33161
   \   00000024   0040A0E1           MOV      R4,R0
   \   00000028   888100EF           SWI      +33160
   \   0000002C   011044E2           SUB      R1,R4,#+1
   \   00000030   ........           LDR      R4,??DataTable178  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   00000034   010040E2           SUB      R0,R0,#+1
   \   00000038   107084E5           STR      R7,[R4, #+16]
   \   0000003C   B401C4E1           STRH     R0,[R4, #+20]
   \   00000040   B611C4E1           STRH     R1,[R4, #+22]
   3992            main_gui->gui.canvas=(void *)(&Canvas);
   \   00000044   100084E2           ADD      R0,R4,#+16
   \   00000048   000086E5           STR      R0,[R6, #+0]
   3993          //  main_gui->gui.flag30=2;
   3994            main_gui->gui.methods=(void *)gui_methods;
   \   0000004C   540E84E2           ADD      R0,R4,#+1344
   \   00000050   040086E5           STR      R0,[R6, #+4]
   3995            main_gui->gui.item_ll.data_mfree=(void (*)(void *))mfree_adr();
   \   00000054   158000EF           SWI      +32789
   \   00000058   200086E5           STR      R0,[R6, #+32]
   3996            csm->csm.state=0;
   \   0000005C   107085E5           STR      R7,[R5, #+16]
   3997            csm->csm.unk1=0;
   \   00000060   147085E5           STR      R7,[R5, #+20]
   3998            maingui_id=csm->gui_id=CreateGUI(main_gui);
   \   00000064   0600A0E1           MOV      R0,R6
   \   00000068   370100EF           SWI      +311
   \   0000006C   280085E5           STR      R0,[R5, #+40]
   \   00000070   ........           LDR      R5,??DataTable177  ;; S_ICONS
   \   00000074   CC0085E5           STR      R0,[R5, #+204]
   3999            ews=AllocWS(16384);
   \   00000078   400CA0E3           MOV      R0,#+16384
   \   0000007C   250100EF           SWI      +293
   4000            //  MutexCreate(&contactlist_mtx);
   4001            DNR_TRIES=3;
   4002            //  SUBPROC((void *)InitSmiles);
   4003            //  SUBPROC((void *)create_connect);
   4004          
   4005            GBS_StartTimerProc(&tmr_active,TMR_SECOND*10,process_active_timer);
   \   00000080   ........           LDR      R2,??DataTable143  ;; process_active_timer
   \   00000084   DC0085E5           STR      R0,[R5, #+220]
   \   00000088   0300A0E3           MOV      R0,#+3
   \   0000008C   900185E5           STR      R0,[R5, #+400]
   \   00000090   871EA0E3           MOV      R1,#+2160
   \   00000094   1C00A0E3           MOV      R0,#+28
   \   00000098   600D80E3           ORR      R0,R0,#0x1800
   \   0000009C   050080E0           ADD      R0,R0,R5
   \   000000A0   4D0000EF           SWI      +77
   4006            sprintf((char *)ipc_my_name+6,percent_d,UIN);
   \   000000A4   ........           LDR      R0,??DataTable179  ;; UIN
   \   000000A8   1B1084E2           ADD      R1,R4,#+27
   \   000000AC   002090E5           LDR      R2,[R0, #+0]
   \   000000B0   0600A0E3           MOV      R0,#+6
   \   000000B4   500E80E3           ORR      R0,R0,#0x500
   \   000000B8   040080E0           ADD      R0,R0,R4
   \   000000BC   160000EF           SWI      +22
   4007            gipc.name_to=ipc_my_name;
   \   000000C0   500EA0E3           MOV      R0,#+1280
   \   000000C4   041080E0           ADD      R1,R0,R4
   \   000000C8   741085E5           STR      R1,[R5, #+116]
   4008            gipc.name_from=ipc_my_name;
   \   000000CC   040080E0           ADD      R0,R0,R4
   \   000000D0   780085E5           STR      R0,[R5, #+120]
   4009            gipc.data=(void *)-1;
   \   000000D4   0700E0E1           MVN      R0,R7
   \   000000D8   7C0085E5           STR      R0,[R5, #+124]
   4010            GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_CHECK_DOUBLERUN,&gipc);
   \   000000DC   743085E2           ADD      R3,R5,#+116
   \   000000E0   0120A0E3           MOV      R2,#+1
   \   000000E4   B010A0E3           MOV      R1,#+176
   \   000000E8   DE1C81E3           ORR      R1,R1,#0xDE00
   \   000000EC   0900A0E3           MOV      R0,#+9
   \   000000F0   420C80E3           ORR      R0,R0,#0x4200
   \   000000F4   000100EF           SWI      +256
   4011          /*
   4012            InitXStatusesImg();
   4013              //InitSmiles(); Это вызовется из InitXStatusesImg
   4014            create_connect();
   4015            silenthide=1;
   4016            gipc.name_to=ipc_xtask_name;
   4017            gipc.name_from=ipc_my_name;
   4018            gipc.data=0;
   4019            GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_XTASK_IDLE,&gipc);
   4020            */
   4021          }
   \   000000F8   F080BDE8           POP      {R4-R7,PC}       ;; return
   4022          

   \                                 In segment CODE, align 4, keep-with-next
   4023          void maincsm_onclose(CSM_RAM *csm)
   4024          {
   \                     maincsm_onclose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   4025            WriteDefSettings(); 
   4026            //  SaveConfigData(successed_config_filename);
   4027            
   4028          /*
   4029            #pragma segment="CONFIG_C"
   4030            unsigned int ul;
   4031            int f;
   4032            extern const CFG_HDR cfghdr0; //first var in CONFIG
   4033            void *cfg=(void*)&cfghdr0;
   4034            unsigned int len=(int)__segment_end("CONFIG_C")-(int)__segment_begin("CONFIG_C");
   4035          
   4036            if ((f=fopen("4:\\ZBin\\etc\\NATICQ.bcfg",A_ReadWrite+A_Create+A_Truncate,P_READ+P_WRITE,&ul))==-1){
   4037             f=fopen("0:\\ZBin\\etc\\NATICQ.bcfg",A_ReadWrite+A_Create+A_Truncate,P_READ+P_WRITE,&ul);
   4038            }
   4039            fwrite(f,cfg,len,&ul);
   4040            fclose(f,&ul);
   4041          */
   4042          
   4043            //  GBS_DelTimer(&tmr_dorecv);
   4044            RemoveKeybMsgHook((void *)my_keyhook);
   4045            GBS_DelTimer(&tmr_active);
   \   00000004   ........           LDR      R4,??DataTable177  ;; S_ICONS
   \   00000008   ........           BL       WriteDefSettings
   \   0000000C   ........           LDR      R0,??DataTable185  ;; my_keyhook
   \   00000010   2D0100EF           SWI      +301
   \   00000014   1C00A0E3           MOV      R0,#+28
   \   00000018   600D80E3           ORR      R0,R0,#0x1800
   \   0000001C   040080E0           ADD      R0,R0,R4
   \   00000020   8C0100EF           SWI      +396
   4046            GBS_DelTimer(&tmr_vibra);
   \   00000024   FC00A0E3           MOV      R0,#+252
   \   00000028   5C0D80E3           ORR      R0,R0,#0x1700
   \   0000002C   040080E0           ADD      R0,R0,R4
   \   00000030   8C0100EF           SWI      +396
   4047            GBS_DelTimer(&reconnect_tmr);
   \   00000034   0C00A0E3           MOV      R0,#+12
   \   00000038   600D80E3           ORR      R0,R0,#0x1800
   \   0000003C   040080E0           ADD      R0,R0,R4
   \   00000040   8C0100EF           SWI      +396
   4048            GBS_DelTimer(&tmr_illumination);
   \   00000044   EC00A0E3           MOV      R0,#+236
   \   00000048   5C0D80E3           ORR      R0,R0,#0x1700
   \   0000004C   040080E0           ADD      R0,R0,R4
   \   00000050   8C0100EF           SWI      +396
   4049            GBS_DelTimer(&mytmr);
   \   00000054   2C00A0E3           MOV      R0,#+44
   \   00000058   580D80E3           ORR      R0,R0,#0x1600
   \   0000005C   040080E0           ADD      R0,R0,R4
   \   00000060   8C0100EF           SWI      +396
   4050            GBS_DelTimer(&mytmr2);
   \   00000064   3C00A0E3           MOV      R0,#+60
   \   00000068   580D80E3           ORR      R0,R0,#0x1600
   \   0000006C   040080E0           ADD      R0,R0,R4
   \   00000070   8C0100EF           SWI      +396
   4051            GBS_DelTimer(&mytmr3);
   \   00000074   A400A0E3           MOV      R0,#+164
   \   00000078   4C0D80E3           ORR      R0,R0,#0x1300
   \   0000007C   040080E0           ADD      R0,R0,R4
   \   00000080   8C0100EF           SWI      +396
   4052            GBS_DelTimer(&mytmr4);
   \   00000084   4C00A0E3           MOV      R0,#+76
   \   00000088   580D80E3           ORR      R0,R0,#0x1600
   \   0000008C   040080E0           ADD      R0,R0,R4
   \   00000090   8C0100EF           SWI      +396
   4053          #ifdef NEWSGOLD
   4054            GBS_DelTimer(&tracktmr);
   \   00000094   5C00A0E3           MOV      R0,#+92
   \   00000098   580D80E3           ORR      R0,R0,#0x1600
   \   0000009C   040080E0           ADD      R0,R0,R4
   \   000000A0   8C0100EF           SWI      +396
   4055          #endif
   4056            GBS_DelTimer(&develop);
   \   000000A4   E800A0E3           MOV      R0,#+232
   \   000000A8   640D80E3           ORR      R0,R0,#0x1900
   \   000000AC   040080E0           ADD      R0,R0,R4
   \   000000B0   8C0100EF           SWI      +396
   4057            GBS_DelTimer(&away_tmr);
   \   000000B4   1C00A0E3           MOV      R0,#+28
   \   000000B8   580D80E3           ORR      R0,R0,#0x1600
   \   000000BC   040080E0           ADD      R0,R0,R4
   \   000000C0   8C0100EF           SWI      +396
   4058            SetVibration(0);
   \   000000C4   0000A0E3           MOV      R0,#+0
   \   000000C8   7C0000EF           SWI      +124
   4059            FreeTemplates();
   \   000000CC   ........           BL       FreeTemplates
   4060            FreeCLIST();
   \   000000D0   ........           _BLF     FreeCLIST,??FreeCLIST??rA
   4061            free_ICONS();
   \   000000D4   ........           BL       free_ICONS
   4062          //  FreeSmiles();
   4063            FreeWS(ews);
   \   000000D8   DC0094E5           LDR      R0,[R4, #+220]
   \   000000DC   290100EF           SWI      +297
   4064            FreeXStatusText();
   \   000000E0   ........           _BLF     FreeXStatusText,??FreeXStatusText??rA
   4065            //  MutexDestroy(&contactlist_mtx);
   4066            SUBPROC((void *)FreeSmiles);
   \   000000E4   24009FE5           LDR      R0,??maincsm_onclose_0  ;; FreeSmiles
   \   000000E8   710100EF           SWI      +369
   4067            SUBPROC((void *)FreeXStatusesImg);
   \   000000EC   20009FE5           LDR      R0,??maincsm_onclose_0+0x4  ;; FreeXStatusesImg
   \   000000F0   710100EF           SWI      +369
   4068            SUBPROC((void *)end_socket);
   \   000000F4   ........           LDR      R0,??DataTable173  ;; end_socket
   \   000000F8   710100EF           SWI      +369
   4069            SUBPROC((void *)ClearSendQ);
   \   000000FC   ........           LDR      R0,??DataTable174  ;; ClearSendQ
   \   00000100   710100EF           SWI      +369
   4070            SUBPROC((void *)ElfKiller);
   \   00000104   ........           LDR      R0,??DataTable181  ;; ElfKiller
   \   00000108   710100EF           SWI      +369
   4071          }
   \   0000010C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??maincsm_onclose_0:
   \   00000110   ........           DC32     FreeSmiles
   \   00000114   ........           DC32     FreeXStatusesImg
   4072          

   \                                 In segment CODE, align 4, keep-with-next
   4073          void do_reconnect(void)
   4074          {
   4075            if (is_gprs_online)
   \                     do_reconnect:
   \   00000000   ........           LDR      R0,??DataTable177  ;; S_ICONS
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   641190E5           LDR      R1,[R0, #+356]
   \   0000000C   000051E3           CMP      R1,#+0
   \   00000010   0080BD08           POPEQ    {PC}
   4076            {
   4077              DNR_TRIES=3;
   \   00000014   0310A0E3           MOV      R1,#+3
   \   00000018   901180E5           STR      R1,[R0, #+400]
   4078              SUBPROC((void*)create_connect);
   \   0000001C   ........           LDR      R0,??DataTable169  ;; create_connect
   \   00000020   710100EF           SWI      +369
   4079            }
   4080          }
   \   00000024   0080BDE8           POP      {PC}             ;; return
   4081          

   \                                 In segment CODE, align 4, keep-with-next
   4082          void CheckDoubleRun(void)
   4083          {
   \                     CheckDoubleRun:
   \   00000000   10402DE9           PUSH     {R4,LR}
   4084            int csm_id;
   4085            if ((csm_id=(int)(gipc.data))!=-1)
   \   00000004   ........           LDR      R4,??DataTable177  ;; S_ICONS
   \   00000008   7C0094E5           LDR      R0,[R4, #+124]
   \   0000000C   010070E3           CMN      R0,#+1
   \   00000010   1100000A           BEQ      ??CheckDoubleRun_0
   4086            {
   4087              gipc.name_to=ipc_xtask_name;
   \   00000014   ........           LDR      R1,??DataTable178  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   4088              gipc.name_from=ipc_my_name;
   4089              gipc.data=(void *)csm_id;
   \   00000018   7C0084E5           STR      R0,[R4, #+124]
   \   0000001C   522E81E2           ADD      R2,R1,#+1312
   \   00000020   742084E5           STR      R2,[R4, #+116]
   \   00000024   501E81E2           ADD      R1,R1,#+1280
   \   00000028   781084E5           STR      R1,[R4, #+120]
   4090              GBS_SendMessage(MMI_CEPID,MSG_IPC,IPC_XTASK_SHOW_CSM,&gipc);  
   \   0000002C   743084E2           ADD      R3,R4,#+116
   \   00000030   0220A0E3           MOV      R2,#+2
   \   00000034   B010A0E3           MOV      R1,#+176
   \   00000038   DE1C81E3           ORR      R1,R1,#0xDE00
   \   0000003C   0900A0E3           MOV      R0,#+9
   \   00000040   420C80E3           ORR      R0,R0,#0x4200
   \   00000044   000100EF           SWI      +256
   4091              LockSched();
   \   00000048   460100EF           SWI      +326
   4092              CloseCSM(maincsm_id);
   \   0000004C   C80094E5           LDR      R0,[R4, #+200]
   \   00000050   FC0100EF           SWI      +508
   4093              //ShowMSG(1,(int)LG_ALREADY_STARTED);
   4094              UnlockSched();
   \   00000054   470100EF           SWI      +327
   \   00000058   1080BDE8           POP      {R4,PC}
   4095            }
   4096            else
   4097            {
   4098              InitXStatusesImg();
   \                     ??CheckDoubleRun_0:
   \   0000005C   ........           _BLF     InitXStatusesImg,??InitXStatusesImg??rA
   4099              //InitSmiles(); Это вызовется из InitXStatusesImg
   4100              create_connect();
   \   00000060   ........           BL       create_connect
   4101            }
   4102          }
   \   00000064   1080BDE8           POP      {R4,PC}          ;; return
   4103          
   4104          #define IPC_GAME 7
   4105          
   4106          typedef struct{
   4107            unsigned long uin;
   4108            char *msg;
   4109          }IPCmsg;
   4110          

   \                                 In segment CODE, align 4, keep-with-next
   4111          int maincsm_onmessage(CSM_RAM *data,GBS_MSG *msg)
   4112          {
   \                     maincsm_onmessage:
   \   00000000   F14F2DE9           PUSH     {R0,R4-R11,LR}
   \   00000004   1CD04DE2           SUB      SP,SP,#+28
   \   00000008   ........           LDR      R5,??DataTable154  ;; S_ICONS
   \   0000000C   ........           LDR      R7,??DataTable178  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   00000010   0140A0E1           MOV      R4,R1
   \   00000014   040094E5           LDR      R0,[R4, #+4]
   \   00000018   0060A0E3           MOV      R6,#+0
   \   0000001C   B010A0E3           MOV      R1,#+176
   \   00000020   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000024   010050E1           CMP      R0,R1
   \   00000028   7700001A           BNE      ??maincsm_onmessage_2
   4113            extern const int VIBR_ON_CONNECT;
   4114          
   4115            //  char ss[100];
   4116            MAIN_CSM *csm=(MAIN_CSM*)data;
   4117            {
   4118              //IPC
   4119              if (msg->msg==MSG_IPC)
   4120              {
   4121                IPC_REQ *ipc;
   4122                if ((ipc=(IPC_REQ*)msg->data0))
   \   0000002C   0C8094E5           LDR      R8,[R4, #+12]
   \   00000030   000058E3           CMP      R8,#+0
   \   00000034   7400000A           BEQ      ??maincsm_onmessage_2
   4123                {
   4124          	if (strcmp_nocase(ipc->name_to,ipc_my_name)==0)
   \   00000038   000098E5           LDR      R0,[R8, #+0]
   \   0000003C   509EA0E3           MOV      R9,#+1280
   \   00000040   071089E0           ADD      R1,R9,R7
   \   00000044   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   6E00001A           BNE      ??maincsm_onmessage_2
   4125          	{
   4126          	  switch (msg->submess)
   \   00000050   081094E5           LDR      R1,[R4, #+8]
   \   00000054   040098E5           LDR      R0,[R8, #+4]
   \   00000058   011041E2           SUB      R1,R1,#+1
   \   0000005C   040051E3           CMP      R1,#+4
   \   00000060   6900008A           BHI      ??maincsm_onmessage_2
   \   00000064   012F8FE2           ADR      R2,??maincsm_onmessage_0
   \   00000068   0120D2E7           LDRB     R2,[R2, R1]
   \   0000006C   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??maincsm_onmessage_0:
   \   00000070   010A1116           DC8      +1,+10,+17,+22
   \   00000074   43000000           DC8      +67,+0,+0,+0
   4127          	  {
   4128          	  case IPC_CHECK_DOUBLERUN:
   4129          	    //Если приняли свое собственное сообщение, значит запускаем чекер
   4130          	    if (ipc->name_from==ipc_my_name) SUBPROC((void *)CheckDoubleRun);
   \                     ??maincsm_onmessage_3:
   \   00000078   071089E0           ADD      R1,R9,R7
   \   0000007C   010050E1           CMP      R0,R1
   \   00000080   0200001A           BNE      ??maincsm_onmessage_4
   \   00000084   90099FE5           LDR      R0,??maincsm_onmessage_5  ;; CheckDoubleRun
   \   00000088   710100EF           SWI      +369
   \   0000008C   5E0000EA           B        ??maincsm_onmessage_2
   4131                      else ipc->data=(void *)maincsm_id;
   \                     ??maincsm_onmessage_4:
   \   00000090   C80095E5           LDR      R0,[R5, #+200]
   \   00000094   080088E5           STR      R0,[R8, #+8]
   \   00000098   5B0000EA           B        ??maincsm_onmessage_2
   4132          	    break;
   4133          	  case IPC_SMILE_PROCESSED:
   4134          	    //Только собственные смайлы ;)
   4135          	    if (ipc->name_from==ipc_my_name) SUBPROC((void *)ProcessNextSmile);
   \                     ??maincsm_onmessage_6:
   \   0000009C   071089E0           ADD      R1,R9,R7
   \   000000A0   010050E1           CMP      R0,R1
   \   000000A4   0100001A           BNE      ??maincsm_onmessage_7
   \   000000A8   70099FE5           LDR      R0,??maincsm_onmessage_5+0x4  ;; ProcessNextSmile
   \                     ??maincsm_onmessage_8:
   \   000000AC   710100EF           SWI      +369
   4136          	    SMART_REDRAW();
   \                     ??maincsm_onmessage_7:
   \   000000B0   ........           BL       SMART_REDRAW
   \   000000B4   540000EA           B        ??maincsm_onmessage_2
   4137          	    break;
   4138          	  case IPC_XSTATUSIMG_PROCESSED:
   4139          	    //Только собственные иксстатусы ;)
   4140          	    if (ipc->name_from==ipc_my_name) SUBPROC((void *)ProcessNextXStatImg);
   \                     ??maincsm_onmessage_9:
   \   000000B8   071089E0           ADD      R1,R9,R7
   \   000000BC   010050E1           CMP      R0,R1
   \   000000C0   FAFFFF1A           BNE      ??maincsm_onmessage_7
   \   000000C4   58099FE5           LDR      R0,??maincsm_onmessage_5+0x8  ;; ProcessNextXStatImg
   \   000000C8   F7FFFFEA           B        ??maincsm_onmessage_8
   4141          	    SMART_REDRAW();
   4142          	    break;
   4143                    case IPC_GAME:
   4144                      {
   4145          
   4146                      }
   4147                      break;
   4148          	  case IPC_TENSECONDS:
   4149          	    //Только свое сообщение
   4150          	    if (ipc->name_from==ipc_my_name)
   \                     ??maincsm_onmessage_10:
   \   000000CC   071089E0           ADD      R1,R9,R7
   \   000000D0   010050E1           CMP      R0,R1
   \   000000D4   4C00001A           BNE      ??maincsm_onmessage_2
   4151          	    {
   4152          	      CLIST *t=(CLIST *)cltop;
   \   000000D8   680195E5           LDR      R0,[R5, #+360]
   4153          	      int f=0;
   \   000000DC   0010A0E3           MOV      R1,#+0
   \   000000E0   000050E3           CMP      R0,#+0
   \   000000E4   1900000A           BEQ      ??maincsm_onmessage_11
   4154          	      while(t)
   4155          	      {
   4156                          if(t->just_now)
   \                     ??maincsm_onmessage_12:
   \   000000E8   5C2090E5           LDR      R2,[R0, #+92]
   \   000000EC   000052E3           CMP      R2,#+0
   \   000000F0   0200000A           BEQ      ??maincsm_onmessage_13
   4157                          {
   4158                          if (!(--(t->just_now))) f=1;
   \   000000F4   012052E2           SUBS     R2,R2,#+1
   \   000000F8   5C2080E5           STR      R2,[R0, #+92]
   \   000000FC   0110A003           MOVEQ    R1,#+1
   4159                          }
   4160          		if (t->isactive)
   \                     ??maincsm_onmessage_13:
   \   00000100   802090E5           LDR      R2,[R0, #+128]
   \   00000104   000052E3           CMP      R2,#+0
   \   00000108   0200000A           BEQ      ??maincsm_onmessage_14
   4161          		{
   4162          //                  char *test=malloc(64);
   4163          //                  sprintf(test, "time %d", t->isactive);
   4164          		  if (!(--(t->isactive))) f=1; //Если дошли до 0 хотя бы один раз - надо перерисовать меню
   \   0000010C   012052E2           SUBS     R2,R2,#+1
   \   00000110   802080E5           STR      R2,[R0, #+128]
   \   00000114   0110A003           MOVEQ    R1,#+1
   4165          //                  ShowMSG(1,(int)test);
   4166          //                  mfree(test);
   4167          		}
   4168          		t=(CLIST *)(t->next);
   \                     ??maincsm_onmessage_14:
   \   00000118   000090E5           LDR      R0,[R0, #+0]
   4169          	      }
   \   0000011C   000050E3           CMP      R0,#+0
   \   00000120   F0FFFF1A           BNE      ??maincsm_onmessage_12
   4170          	      if (f) 
   \   00000124   000051E3           CMP      R1,#+0
   \   00000128   0800000A           BEQ      ??maincsm_onmessage_11
   4171          	      {
   4172          		CLIST *oldt=NULL;
   4173          		if (contactlist_menu_id)
   \   0000012C   701195E5           LDR      R1,[R5, #+368]
   \   00000130   000051E3           CMP      R1,#+0
   \   00000134   0400000A           BEQ      ??maincsm_onmessage_15
   4174          		{
   4175          		  oldt=FindContactByN(GetCurMenuItem(FindGUIbyId(contactlist_menu_id,NULL)));
   \   00000138   700195E5           LDR      R0,[R5, #+368]
   \   0000013C   0010A0E3           MOV      R1,#+0
   \   00000140   090200EF           SWI      +521
   \   00000144   8F0100EF           SWI      +399
   \   00000148   ........           _BLF     FindContactByN,??FindContactByN??rA
   4176          		}
   4177          		RecountMenu(oldt);
   \                     ??maincsm_onmessage_15:
   \   0000014C   ........           BL       RecountMenu
   4178          	      }
   4179          	      if (time_to_stop_t9)
   \                     ??maincsm_onmessage_11:
   \   00000150   9C0195E5           LDR      R0,[R5, #+412]
   \   00000154   000050E3           CMP      R0,#+0
   \   00000158   2B00000A           BEQ      ??maincsm_onmessage_2
   4180          	      {
   4181          		if (!(--time_to_stop_t9))
   \   0000015C   010050E2           SUBS     R0,R0,#+1
   \   00000160   9C0185E5           STR      R0,[R5, #+412]
   \   00000164   2800001A           BNE      ??maincsm_onmessage_2
   4182          		{
   4183          		  if (IsGuiOnTop(edchat_id)) RefreshGUI();
   \   00000168   740195E5           LDR      R0,[R5, #+372]
   \   0000016C   350100EF           SWI      +309
   \   00000170   000050E3           CMP      R0,#+0
   \   00000174   2400000A           BEQ      ??maincsm_onmessage_2
   \   00000178   960100EF           SWI      +406
   \   0000017C   220000EA           B        ??maincsm_onmessage_2
   4184          		}
   4185          	      }
   4186          	    }
   4187          	    break;
   4188               	  case IPC_SENDMSG: ;                                   //IPC_SENDMSG by BoBa 26.06.07
   4189                      int l=strlen(((IPCMsg *)(ipc->data))->msg);
   \                     ??maincsm_onmessage_16:
   \   00000180   080098E5           LDR      R0,[R8, #+8]
   \   00000184   040090E5           LDR      R0,[R0, #+4]
   \   00000188   1B0000EF           SWI      +27
   \   0000018C   0090A0E1           MOV      R9,R0
   4190                      TPKT *msg=malloc(sizeof(PKT)+l+30);
   \   00000190   260089E2           ADD      R0,R9,#+38
   \   00000194   140000EF           SWI      +20
   \   00000198   00A0A0E1           MOV      R10,R0
   4191                      msg->pkt.uin=((IPCMsg *)(ipc->data))->uin;
   \   0000019C   080098E5           LDR      R0,[R8, #+8]
   4192                      msg->pkt.type=T_SENDMSG;
   4193                      msg->pkt.data_len=l;
   4194                      memcpy(msg->data,((IPCMsg *)(ipc->data))->msg,l);
   \   000001A0   0920A0E1           MOV      R2,R9
   \   000001A4   000090E5           LDR      R0,[R0, #+0]
   \   000001A8   00008AE5           STR      R0,[R10, #+0]
   \   000001AC   0200A0E3           MOV      R0,#+2
   \   000001B0   B400CAE1           STRH     R0,[R10, #+4]
   \   000001B4   B690CAE1           STRH     R9,[R10, #+6]
   \   000001B8   080098E5           LDR      R0,[R8, #+8]
   \   000001BC   041090E5           LDR      R1,[R0, #+4]
   \   000001C0   08008AE2           ADD      R0,R10,#+8
   \   000001C4   1E0100EF           SWI      +286
   4195                      //slientsend=1;
   4196                      if(strstr(msg->data,PASS)==0)
   \   000001C8   58189FE5           LDR      R1,??maincsm_onmessage_5+0xC  ;; PASS
   \   000001CC   08008AE2           ADD      R0,R10,#+8
   \   000001D0   180100EF           SWI      +280
   \   000001D4   000050E3           CMP      R0,#+0
   \   000001D8   0400000A           BEQ      ??maincsm_onmessage_17
   4197                      {
   4198          	    SENDMSGCOUNT++; //Номер сообщения
   4199                      SUBPROC((void *)SendAnswer,0,msg);
   4200                      }
   4201                      else
   4202                      {
   4203                        msg->pkt.data_len=40;
   \   000001DC   2800A0E3           MOV      R0,#+40
   \   000001E0   B600CAE1           STRH     R0,[R10, #+6]
   4204                        strcpy(msg->data, "Fuck you hacker! my password sux ur ass");
   \   000001E4   EB1F87E2           ADD      R1,R7,#+940
   \   000001E8   08008AE2           ADD      R0,R10,#+8
   \   000001EC   1A0000EF           SWI      +26
   4205                        SENDMSGCOUNT++; //Номер сообщения
   \                     ??maincsm_onmessage_17:
   \   000001F0   D00095E5           LDR      R0,[R5, #+208]
   4206                        SUBPROC((void *)SendAnswer,0,msg);
   \   000001F4   0A20A0E1           MOV      R2,R10
   \   000001F8   010080E2           ADD      R0,R0,#+1
   \   000001FC   D00085E5           STR      R0,[R5, #+208]
   \   00000200   ........           LDR      R0,??DataTable172  ;; SendAnswer
   \   00000204   0010A0E3           MOV      R1,#+0
   \   00000208   710100EF           SWI      +369
   4207                      }
   4208                      break;
   4209          	  }
   4210          	}
   4211                }
   4212              }
   4213              //Нарисуем иконочку моего статуса
   4214          #define idlegui_id (((int *)icsm)[DISPLACE_OF_IDLEGUI_ID/4])
   4215              CSM_RAM *icsm=FindCSMbyID(CSM_root()->idle_id);
   \                     ??maincsm_onmessage_2:
   \   0000020C   068100EF           SWI      +33030
   \   00000210   040090E5           LDR      R0,[R0, #+4]
   \   00000214   080100EF           SWI      +264
   \   00000218   2C0090E5           LDR      R0,[R0, #+44]
   4216              if (IsGuiOnTop(idlegui_id)/*&&IsUnlocked()*/) //Если IdleGui на самом верху
   \   0000021C   350100EF           SWI      +309
   \   00000220   000050E3           CMP      R0,#+0
   \   00000224   0901000A           BEQ      ??maincsm_onmessage_18
   4217              {
   4218                GUI *igui=GetTopGUI();
   4219                if (igui) //И он существует
   \   00000228   4D0100EF           SWI      +333
   \   0000022C   000050E3           CMP      R0,#+0
   \   00000230   0801000A           BEQ      ??maincsm_onmessage_19
   4220                {
   4221          //#ifdef ELKA
   4222                  INC_show=0;
   \   00000234   A86185E5           STR      R6,[R5, #+424]
   4223          //#endif
   4224          	canvasdata=BuildCanvas();
   \   00000238   F18000EF           SWI      +33009
   \   0000023C   9C0085E5           STR      R0,[R5, #+156]
   4225          	int icn;
   4226          	if (total_unread)
   \   00000240   C00095E5           LDR      R0,[R5, #+192]
   \   00000244   000050E3           CMP      R0,#+0
   4227          	  icn=IS_MSG;
   \   00000248   0D00A013           MOVNE    R0,#+13
   \   0000024C   0500001A           BNE      ??maincsm_onmessage_20
   4228          	else
   4229          	{
   4230          	  switch(connect_state)
   \   00000250   440195E5           LDR      R0,[R5, #+324]
   \   00000254   000050E3           CMP      R0,#+0
   \   00000258   0200000A           BEQ      ??maincsm_onmessage_20
   \   0000025C   030050E2           SUBS     R0,R0,#+3
   4231          	  {
   4232          	  case 0:
   4233          	    icn=IS_OFFLINE; break;
   4234          	  case 3:
   4235          	    icn=CurrentStatus; //IS_ONLINE;
   \   00000260   34019505           LDREQ    R0,[R5, #+308]
   4236          	    break;
   4237          	  default:
   4238          	    icn=IS_UNKNOWN; break;
   \   00000264   0E00A013           MOVNE    R0,#+14
   4239          	  }
   4240          	}
   4241          	//Тут трохи поменял
   4242          	// by Rainmaker: Рисуем канву только для иконки и выводим в своих координатах
   4243          	DrawCanvas(canvasdata,IDLEICON_X,IDLEICON_Y,IDLEICON_X+GetImgWidth((int)S_ICONS[icn])-1,
   4244          		   IDLEICON_Y+GetImgHeight((int)S_ICONS[icn])-1,1);
   \                     ??maincsm_onmessage_20:
   \   00000268   008185E0           ADD      R8,R5,R0, LSL #+2
   \   0000026C   000098E5           LDR      R0,[R8, #+0]
   \   00000270   210000EF           SWI      +33
   \   00000274   0090A0E1           MOV      R9,R0
   \   00000278   000098E5           LDR      R0,[R8, #+0]
   \   0000027C   220000EF           SWI      +34
   \   00000280   A4179FE5           LDR      R1,??maincsm_onmessage_5+0x10  ;; IDLEICON_X
   \   00000284   00A091E5           LDR      R10,[R1, #+0]
   \   00000288   A0179FE5           LDR      R1,??maincsm_onmessage_5+0x14  ;; IDLEICON_Y
   \   0000028C   0A0080E0           ADD      R0,R0,R10
   \   00000290   00B091E5           LDR      R11,[R1, #+0]
   \   00000294   0110A0E3           MOV      R1,#+1
   \   00000298   02002DE9           PUSH     {R1}
   \   0000029C   013040E2           SUB      R3,R0,#+1
   \   000002A0   0B20A0E1           MOV      R2,R11
   \   000002A4   0B1089E0           ADD      R1,R9,R11
   \   000002A8   011041E2           SUB      R1,R1,#+1
   \   000002AC   02002DE9           PUSH     {R1}
   \   000002B0   9C0095E5           LDR      R0,[R5, #+156]
   \   000002B4   0A10A0E1           MOV      R1,R10
   \   000002B8   250000EF           SWI      +37
   4245          	DrawImg(IDLEICON_X,IDLEICON_Y,S_ICONS[icn]);
   \   000002BC   002098E5           LDR      R2,[R8, #+0]
   \   000002C0   0B10A0E1           MOV      R1,R11
   \   000002C4   0A00A0E1           MOV      R0,R10
   \   000002C8   230000EF           SWI      +35
   4246                  if(show_xstatus)
   \   000002CC   60079FE5           LDR      R0,??maincsm_onmessage_5+0x18  ;; show_xstatus
   \   000002D0   000090E5           LDR      R0,[R0, #+0]
   \   000002D4   08D08DE2           ADD      SP,SP,#+8
   \   000002D8   000050E3           CMP      R0,#+0
   \   000002DC   2600000A           BEQ      ??maincsm_onmessage_21
   4247                  {
   4248                  PNGTOP_DESC *pltop=PNG_TOP();
   4249                  pltop->dyn_pltop=XStatusesImgList;
   \   000002E0   50879FE5           LDR      R8,??maincsm_onmessage_5+0x1C  ;; XStatusesIconArray
   \   000002E4   B98100EF           SWI      +33209
   \   000002E8   ........           LDR      R1,??DataTable157  ;; XStatusesImgList
   \   000002EC   001091E5           LDR      R1,[R1, #+0]
   \   000002F0   081080E5           STR      R1,[R0, #+8]
   \   000002F4   ........           LDR      R0,??DataTable160  ;; CurrentXStatus
   \   000002F8   001098E5           LDR      R1,[R8, #+0]
   \   000002FC   000090E5           LDR      R0,[R0, #+0]
   \   00000300   000191E7           LDR      R0,[R1, +R0, LSL #+2]
   4250                  DrawCanvas(canvasdata,IDLEICON_XX,IDLEICON_YX,IDLEICON_XX+GetImgWidth((int)XStatusesIconArray[CurrentXStatus])-1,
   4251          		   IDLEICON_YX+GetImgHeight((int)XStatusesIconArray[CurrentXStatus])-1,1);
   \   00000304   210000EF           SWI      +33
   \   00000308   001098E5           LDR      R1,[R8, #+0]
   \   0000030C   0090A0E1           MOV      R9,R0
   \   00000310   ........           LDR      R0,??DataTable160  ;; CurrentXStatus
   \   00000314   000090E5           LDR      R0,[R0, #+0]
   \   00000318   000191E7           LDR      R0,[R1, +R0, LSL #+2]
   \   0000031C   220000EF           SWI      +34
   \   00000320   14179FE5           LDR      R1,??maincsm_onmessage_5+0x20  ;; IDLEICON_XX
   \   00000324   00A091E5           LDR      R10,[R1, #+0]
   \   00000328   10179FE5           LDR      R1,??maincsm_onmessage_5+0x24  ;; IDLEICON_YX
   \   0000032C   0A0080E0           ADD      R0,R0,R10
   \   00000330   00B091E5           LDR      R11,[R1, #+0]
   \   00000334   0110A0E3           MOV      R1,#+1
   \   00000338   02002DE9           PUSH     {R1}
   \   0000033C   013040E2           SUB      R3,R0,#+1
   \   00000340   0B20A0E1           MOV      R2,R11
   \   00000344   0B1089E0           ADD      R1,R9,R11
   \   00000348   011041E2           SUB      R1,R1,#+1
   \   0000034C   02002DE9           PUSH     {R1}
   \   00000350   9C0095E5           LDR      R0,[R5, #+156]
   \   00000354   0A10A0E1           MOV      R1,R10
   \   00000358   250000EF           SWI      +37
   4252          	DrawImg(IDLEICON_XX,IDLEICON_YX,XStatusesIconArray[CurrentXStatus]);
   \   0000035C   ........           LDR      R0,??DataTable160  ;; CurrentXStatus
   \   00000360   001098E5           LDR      R1,[R8, #+0]
   \   00000364   000090E5           LDR      R0,[R0, #+0]
   \   00000368   002191E7           LDR      R2,[R1, +R0, LSL #+2]
   \   0000036C   0B10A0E1           MOV      R1,R11
   \   00000370   0A00A0E1           MOV      R0,R10
   \   00000374   230000EF           SWI      +35
   \   00000378   08D08DE2           ADD      SP,SP,#+8
   4253                  }
   4254          #ifdef EVILFOX
   4255                  DrawImg(IDLEICON_X-1,IDLEICON_Y-8,(int)"4:\\zbin\\naticq\\img\\naticq_ms.png");
   4256          #endif
   4257                  /*
   4258          #ifdef EVILFOX
   4259          #else
   4260                  if(strlen(fontpath)>5)
   4261                  {
   4262          #endif
   4263                  */
   4264                    if (main_d==1)
   \                     ??maincsm_onmessage_21:
   \   0000037C   880195E5           LDR      R0,[R5, #+392]
   \   00000380   010050E3           CMP      R0,#+1
   \   00000384   8500001A           BNE      ??maincsm_onmessage_22
   4265                    {
   4266                    ClearScreen();
   \   00000388   ........           _BLF     ClearScreen,??ClearScreen??rA
   4267                    if(Is_SMARTCPU_On)
   \   0000038C   B00095E5           LDR      R0,[R5, #+176]
   \   00000390   000050E3           CMP      R0,#+0
   \   00000394   8000000A           BEQ      ??maincsm_onmessage_23
   4268                    {
   4269          #ifdef EVILFOX
   4270                    PrintField(msg_d_x,msg_d_y, a_txt, align, fonto, 0);
   4271                    PrintField(msg_d_x,msg_d_y+paused_height, s_txt, align, fonto, 0);
   4272                    PrintField(msg_d_x,msg_d_y+(2*paused_height), d_txt, align, fonto, 0);
   4273                    PrintField(msg_d_x,msg_d_y+(3*paused_height), f_txt, align, fonto, 0);
   4274                    PrintField(msg_d_x,msg_d_y+(4*paused_height), g_txt, align, fonto, 0);
   4275          #else
   4276                    if(fonto==1)
   \   00000398   A4069FE5           LDR      R0,??maincsm_onmessage_5+0x28  ;; msg_d_x
   \   0000039C   983095E5           LDR      R3,[R5, #+152]
   \   000003A0   B810A0E3           MOV      R1,#+184
   \   000003A4   641D81E3           ORR      R1,R1,#0x1900
   \   000003A8   051081E0           ADD      R1,R1,R5
   \   000003AC   14108DE5           STR      R1,[SP, #+20]
   \   000003B0   8810A0E3           MOV      R1,#+136
   \   000003B4   641D81E3           ORR      R1,R1,#0x1900
   \   000003B8   051081E0           ADD      R1,R1,R5
   \   000003BC   10108DE5           STR      R1,[SP, #+16]
   \   000003C0   5810A0E3           MOV      R1,#+88
   \   000003C4   641D81E3           ORR      R1,R1,#0x1900
   \   000003C8   051081E0           ADD      R1,R1,R5
   \   000003CC   0C108DE5           STR      R1,[SP, #+12]
   \   000003D0   2810A0E3           MOV      R1,#+40
   \   000003D4   641D81E3           ORR      R1,R1,#0x1900
   \   000003D8   051081E0           ADD      R1,R1,R5
   \   000003DC   08108DE5           STR      R1,[SP, #+8]
   \   000003E0   008090E5           LDR      R8,[R0, #+0]
   \   000003E4   5C069FE5           LDR      R0,??maincsm_onmessage_5+0x2C  ;; msg_d_y
   \   000003E8   009090E5           LDR      R9,[R0, #+0]
   \   000003EC   F800A0E3           MOV      R0,#+248
   \   000003F0   600D80E3           ORR      R0,R0,#0x1800
   \   000003F4   052080E0           ADD      R2,R0,R5
   \   000003F8   4C069FE5           LDR      R0,??maincsm_onmessage_5+0x30  ;; spaco2
   \   000003FC   00A090E5           LDR      R10,[R0, #+0]
   \   00000400   ........           LDR      R0,??DataTable183  ;; fonto
   \   00000404   00B090E5           LDR      R11,[R0, #+0]
   \   00000408   0A00A0E1           MOV      R0,R10
   \   0000040C   01002DE9           PUSH     {R0}
   \   00000410   01005BE3           CMP      R11,#+1
   \   00000414   2B00001A           BNE      ??maincsm_onmessage_24
   4277                    {
   4278                      PrintField(msg_d_x,msg_d_y, a_txt, align, fonto, spaco2);
   \   00000418   0100A0E3           MOV      R0,#+1
   \   0000041C   01002DE9           PUSH     {R0}
   \   00000420   0910A0E1           MOV      R1,R9
   \   00000424   0800A0E1           MOV      R0,R8
   \   00000428   ........           _BLF     PrintField,??PrintField??rA
   4279                      PrintField(msg_d_x,msg_d_y+paused_height, s_txt, align, fonto, spaco2);
   \   0000042C   0A00A0E1           MOV      R0,R10
   \   00000430   01002DE9           PUSH     {R0}
   \   00000434   0100A0E3           MOV      R0,#+1
   \   00000438   01002DE9           PUSH     {R0}
   \   0000043C   983095E5           LDR      R3,[R5, #+152]
   \   00000440   18209DE5           LDR      R2,[SP, #+24]
   \   00000444   A00095E5           LDR      R0,[R5, #+160]
   \   00000448   091080E0           ADD      R1,R0,R9
   \   0000044C   0800A0E1           MOV      R0,R8
   \   00000450   ........           _BLF     PrintField,??PrintField??rA
   4280                      PrintField(msg_d_x,msg_d_y+(2*paused_height), d_txt, align, fonto, spaco2);
   \   00000454   0A00A0E1           MOV      R0,R10
   \   00000458   01002DE9           PUSH     {R0}
   \   0000045C   0100A0E3           MOV      R0,#+1
   \   00000460   01002DE9           PUSH     {R0}
   \   00000464   983095E5           LDR      R3,[R5, #+152]
   \   00000468   24209DE5           LDR      R2,[SP, #+36]
   \   0000046C   A00095E5           LDR      R0,[R5, #+160]
   \   00000470   801089E0           ADD      R1,R9,R0, LSL #+1
   \   00000474   0800A0E1           MOV      R0,R8
   \   00000478   ........           _BLF     PrintField,??PrintField??rA
   4281                      PrintField(msg_d_x,msg_d_y+(3*paused_height), f_txt, align, fonto, spaco2);
   \   0000047C   0A00A0E1           MOV      R0,R10
   \   00000480   01002DE9           PUSH     {R0}
   \   00000484   0100A0E3           MOV      R0,#+1
   \   00000488   01002DE9           PUSH     {R0}
   \   0000048C   983095E5           LDR      R3,[R5, #+152]
   \   00000490   30209DE5           LDR      R2,[SP, #+48]
   \   00000494   A00095E5           LDR      R0,[R5, #+160]
   \   00000498   800080E0           ADD      R0,R0,R0, LSL #+1
   \   0000049C   091080E0           ADD      R1,R0,R9
   \   000004A0   0800A0E1           MOV      R0,R8
   \   000004A4   ........           _BLF     PrintField,??PrintField??rA
   4282                      PrintField(msg_d_x,msg_d_y+(4*paused_height), g_txt, align, fonto, spaco2);
   \   000004A8   00042DE9           PUSH     {R10}
   \   000004AC   0100A0E3           MOV      R0,#+1
   \   000004B0   01002DE9           PUSH     {R0}
   \   000004B4   983095E5           LDR      R3,[R5, #+152]
   \   000004B8   3C209DE5           LDR      R2,[SP, #+60]
   \   000004BC   A00095E5           LDR      R0,[R5, #+160]
   \   000004C0   001189E0           ADD      R1,R9,R0, LSL #+2
   \   000004C4   310000EA           B        ??maincsm_onmessage_25
   4283                    }
   4284                    else
   4285                    {
   4286                      PrintField(msg_d_x,msg_d_y, a_txt, align, fonto, spaco2);
   \                     ??maincsm_onmessage_24:
   \   000004C8   0B00A0E1           MOV      R0,R11
   \   000004CC   01002DE9           PUSH     {R0}
   \   000004D0   0910A0E1           MOV      R1,R9
   \   000004D4   0800A0E1           MOV      R0,R8
   \   000004D8   ........           _BLF     PrintField,??PrintField??rA
   4287                      PrintField(msg_d_x,msg_d_y+GetFontYSIZE(paused_height)+1, s_txt, align, fonto, spaco2);
   \   000004DC   A00095E5           LDR      R0,[R5, #+160]
   \   000004E0   C50100EF           SWI      +453
   \   000004E4   0A10A0E1           MOV      R1,R10
   \   000004E8   02002DE9           PUSH     {R1}
   \   000004EC   090080E0           ADD      R0,R0,R9
   \   000004F0   0B10A0E1           MOV      R1,R11
   \   000004F4   02002DE9           PUSH     {R1}
   \   000004F8   983095E5           LDR      R3,[R5, #+152]
   \   000004FC   18209DE5           LDR      R2,[SP, #+24]
   \   00000500   011080E2           ADD      R1,R0,#+1
   \   00000504   0800A0E1           MOV      R0,R8
   \   00000508   ........           _BLF     PrintField,??PrintField??rA
   4288                      PrintField(msg_d_x,msg_d_y+(2*GetFontYSIZE(paused_height))+2, d_txt, align, fonto, spaco2);
   \   0000050C   A00095E5           LDR      R0,[R5, #+160]
   \   00000510   C50100EF           SWI      +453
   \   00000514   0A10A0E1           MOV      R1,R10
   \   00000518   02002DE9           PUSH     {R1}
   \   0000051C   800089E0           ADD      R0,R9,R0, LSL #+1
   \   00000520   0B10A0E1           MOV      R1,R11
   \   00000524   02002DE9           PUSH     {R1}
   \   00000528   983095E5           LDR      R3,[R5, #+152]
   \   0000052C   24209DE5           LDR      R2,[SP, #+36]
   \   00000530   021080E2           ADD      R1,R0,#+2
   \   00000534   0800A0E1           MOV      R0,R8
   \   00000538   ........           _BLF     PrintField,??PrintField??rA
   4289                      PrintField(msg_d_x,msg_d_y+(3*GetFontYSIZE(paused_height))+3, f_txt, align, fonto, spaco2);
   \   0000053C   A00095E5           LDR      R0,[R5, #+160]
   \   00000540   C50100EF           SWI      +453
   \   00000544   0A10A0E1           MOV      R1,R10
   \   00000548   02002DE9           PUSH     {R1}
   \   0000054C   800080E0           ADD      R0,R0,R0, LSL #+1
   \   00000550   090080E0           ADD      R0,R0,R9
   \   00000554   0B10A0E1           MOV      R1,R11
   \   00000558   02002DE9           PUSH     {R1}
   \   0000055C   983095E5           LDR      R3,[R5, #+152]
   \   00000560   30209DE5           LDR      R2,[SP, #+48]
   \   00000564   031080E2           ADD      R1,R0,#+3
   \   00000568   0800A0E1           MOV      R0,R8
   \   0000056C   ........           _BLF     PrintField,??PrintField??rA
   4290                      PrintField(msg_d_x,msg_d_y+(4*GetFontYSIZE(paused_height))+4, g_txt, align, fonto, spaco2);
   \   00000570   A00095E5           LDR      R0,[R5, #+160]
   \   00000574   C50100EF           SWI      +453
   \   00000578   00042DE9           PUSH     {R10}
   \   0000057C   00082DE9           PUSH     {R11}
   \   00000580   983095E5           LDR      R3,[R5, #+152]
   \   00000584   3C209DE5           LDR      R2,[SP, #+60]
   \   00000588   000189E0           ADD      R0,R9,R0, LSL #+2
   \   0000058C   041080E2           ADD      R1,R0,#+4
   \                     ??maincsm_onmessage_25:
   \   00000590   0800A0E1           MOV      R0,R8
   \   00000594   ........           _BLF     PrintField,??PrintField??rA
   \   00000598   28D08DE2           ADD      SP,SP,#+40
   4291                    }
   4292          #endif
   4293                    }
   4294                    main_d=0;
   \                     ??maincsm_onmessage_23:
   \   0000059C   886185E5           STR      R6,[R5, #+392]
   4295                    }
   4296                  if(Is_UPTIME_On)
   \                     ??maincsm_onmessage_22:
   \   000005A0   FC0095E5           LDR      R0,[R5, #+252]
   \   000005A4   000050E3           CMP      R0,#+0
   \   000005A8   0100000A           BEQ      ??maincsm_onmessage_26
   4297                  Draw2(canvasdata);
   \   000005AC   9C0095E5           LDR      R0,[R5, #+156]
   \   000005B0   ........           BL       Draw2
   4298                  if(Is_PING_On)
   \                     ??maincsm_onmessage_26:
   \   000005B4   A80095E5           LDR      R0,[R5, #+168]
   \   000005B8   000050E3           CMP      R0,#+0
   \   000005BC   0100000A           BEQ      ??maincsm_onmessage_27
   4299                  Draw(canvasdata);
   \   000005C0   9C0095E5           LDR      R0,[R5, #+156]
   \   000005C4   ........           BL       Draw
   4300                  if(Auto_Status)
   \                     ??maincsm_onmessage_27:
   \   000005C8   ........           LDR      R0,??DataTable162  ;; Auto_Status
   \   000005CC   000090E5           LDR      R0,[R0, #+0]
   \   000005D0   000050E3           CMP      R0,#+0
   \   000005D4   0100000A           BEQ      ??maincsm_onmessage_28
   4301                    DrawAutoMSG(canvasdata);
   \   000005D8   9C0095E5           LDR      R0,[R5, #+156]
   \   000005DC   ........           BL       DrawAutoMSG
   4302                  if(Is_Unread_On)
   \                     ??maincsm_onmessage_28:
   \   000005E0   68049FE5           LDR      R0,??maincsm_onmessage_5+0x34  ;; Is_Unread_On
   \   000005E4   000090E5           LDR      R0,[R0, #+0]
   \   000005E8   000050E3           CMP      R0,#+0
   \   000005EC   1200000A           BEQ      ??maincsm_onmessage_29
   4303                  {
   4304                  sprintf(unread_msg_info, "Unread: %d", total_unread2);
   \   000005F0   C42095E5           LDR      R2,[R5, #+196]
   \   000005F4   E58FA0E3           MOV      R8,#+916
   \   000005F8   F51F87E2           ADD      R1,R7,#+980
   \   000005FC   050088E0           ADD      R0,R8,R5
   \   00000600   160000EF           SWI      +22
   4305          #ifdef EVILFOX
   4306                  PrintField(unread_X,unread_Y, unread_msg_info, align, fonto, space);
   4307          #else
   4308                  PrintField(unread_X,unread_Y, unread_msg_info, align, fonto, spaco1);
   \   00000604   ........           LDR      R0,??DataTable163  ;; spaco1
   \   00000608   052088E0           ADD      R2,R8,R5
   \   0000060C   000090E5           LDR      R0,[R0, #+0]
   \   00000610   01002DE9           PUSH     {R0}
   \   00000614   ........           LDR      R0,??DataTable183  ;; fonto
   \   00000618   000090E5           LDR      R0,[R0, #+0]
   \   0000061C   01002DE9           PUSH     {R0}
   \   00000620   983095E5           LDR      R3,[R5, #+152]
   \   00000624   28049FE5           LDR      R0,??maincsm_onmessage_5+0x38  ;; unread_Y
   \   00000628   001090E5           LDR      R1,[R0, #+0]
   \   0000062C   24049FE5           LDR      R0,??maincsm_onmessage_5+0x3C  ;; unread_X
   \   00000630   000090E5           LDR      R0,[R0, #+0]
   \   00000634   ........           _BLF     PrintField,??PrintField??rA
   \   00000638   08D08DE2           ADD      SP,SP,#+8
   4309          #endif
   4310                  }
   4311                  /*
   4312          #ifdef EVILFOX
   4313          #else
   4314                  }
   4315          #endif
   4316                  */
   4317          #ifdef ELKA
   4318                          if (total_unread)
   \                     ??maincsm_onmessage_29:
   \   0000063C   C00095E5           LDR      R0,[R5, #+192]
   \   00000640   000050E3           CMP      R0,#+0
   \   00000644   0300000A           BEQ      ??maincsm_onmessage_19
   4319                    SLI_On();
   \   00000648   ........           BL       SLI_On
   \   0000064C   010000EA           B        ??maincsm_onmessage_19
   4320          #endif
   4321                }
   4322              }
   4323              else
   4324              {
   4325                main_d=1;
   \                     ??maincsm_onmessage_18:
   \   00000650   0100A0E3           MOV      R0,#+1
   \   00000654   880185E5           STR      R0,[R5, #+392]
   4326              }
   4327                /*
   4328                if(INC_show>0)
   4329                {
   4330                  WSHDR *ws=AllocWS(256);
   4331                  ascii2ws(ws,show_nick);
   4332          //        wsprintf(ws,show_nick);
   4333                  DrawRectangle(0,0,Get_WS_width(ws,font)+2,GetFontYSIZE(font)+2,0,GetPaletteAdrByColorIndex(1),GetPaletteAdrByColorIndex(1));
   4334                  DrawString(ws,1,1,1+Get_WS_width(ws,font)+2,1+GetFontYSIZE(font),font,0,( char*) color,GetPaletteAdrByColorIndex(23));
   4335                  FreeWS(ws);
   4336                  INC_show--;
   4337                }
   4338                */
   4339          //    }
   4340          //#endif
   4341            }
   4342            if (msg->msg==MSG_RECONFIGURE_REQ)
   \                     ??maincsm_onmessage_19:
   \   00000658   040094E5           LDR      R0,[R4, #+4]
   \   0000065C   AF10A0E3           MOV      R1,#+175
   \   00000660   DE1C81E3           ORR      R1,R1,#0xDE00
   \   00000664   010050E1           CMP      R0,R1
   \   00000668   2800001A           BNE      ??maincsm_onmessage_30
   4343            {
   4344              extern const char *successed_config_filename;
   4345              if (strcmp_nocase(successed_config_filename,(char *)msg->data0)==0)
   \   0000066C   ........           LDR      R0,??DataTable180  ;; successed_config_filename
   \   00000670   0C1094E5           LDR      R1,[R4, #+12]
   \   00000674   000090E5           LDR      R0,[R0, #+0]
   \   00000678   ........           _BLF     strcmp_nocase,??strcmp_nocase??rA
   \   0000067C   000050E3           CMP      R0,#+0
   \   00000680   2200001A           BNE      ??maincsm_onmessage_30
   4346              {
   4347          #ifdef SECOND_NATICQ
   4348                ShowMSG(1,(int)"NatICQ 2 config updated!");
   4349          #else
   4350                ShowMSG(1,(int)"NatICQ config updated!");
   \   00000684   F81F87E2           ADD      R1,R7,#+992
   4351          #endif
   4352                InitConfig();
   4353                initTags();
   4354                FontPathFree();
   4355          #ifdef EVILFOX
   4356                FontPathInit(fonto,(char *)fontpath, 0);
   4357          #else
   4358                FontPathInit(fonto,(char *)fontpath, 1);
   \   00000688   ........           LDR      R8,??DataTable182  ;; fontpath
   \   0000068C   0100A0E3           MOV      R0,#+1
   \   00000690   480100EF           SWI      +328
   \   00000694   ........           _BLF     InitConfig,??InitConfig??rA
   \   00000698   ........           _BLF     initTags,??initTags??rA
   \   0000069C   ........           _BLF     FontPathFree,??FontPathFree??rA
   \   000006A0   ........           LDR      R0,??DataTable183  ;; fonto
   \   000006A4   0120A0E3           MOV      R2,#+1
   \   000006A8   00B090E5           LDR      R11,[R0, #+0]
   \   000006AC   0810A0E1           MOV      R1,R8
   \   000006B0   0B00A0E1           MOV      R0,R11
   \   000006B4   ........           _BLF     FontPathInit,??FontPathInit??rA
   4359          #endif
   4360          //#ifdef ELKA
   4361                if(fonto==1)
   \   000006B8   01005BE3           CMP      R11,#+1
   \   000006BC   0B00001A           BNE      ??maincsm_onmessage_31
   4362                {
   4363                char *heght=malloc(64);
   \   000006C0   4000A0E3           MOV      R0,#+64
   \   000006C4   140000EF           SWI      +20
   \   000006C8   0090A0E1           MOV      R9,R0
   4364                sprintf(heght, "%s2240.png", fontpath);
   \   000006CC   0820A0E1           MOV      R2,R8
   \   000006D0   FE1F87E2           ADD      R1,R7,#+1016
   \   000006D4   160000EF           SWI      +22
   4365                paused_height=GetImgHeight((int)heght);
   \   000006D8   0900A0E1           MOV      R0,R9
   \   000006DC   210000EF           SWI      +33
   \   000006E0   A00085E5           STR      R0,[R5, #+160]
   4366                mfree(heght);
   \   000006E4   0900A0E1           MOV      R0,R9
   \   000006E8   150000EF           SWI      +21
   \   000006EC   010000EA           B        ??maincsm_onmessage_32
   4367                }
   4368                else
   4369                  paused_height=fonto-100;
   \                     ??maincsm_onmessage_31:
   \   000006F0   64004BE2           SUB      R0,R11,#+100
   \   000006F4   A00085E5           STR      R0,[R5, #+160]
   4370          //#endif
   4371                free_ICONS();
   \                     ??maincsm_onmessage_32:
   \   000006F8   ........           BL       free_ICONS
   4372                setup_ICONS();
   \   000006FC   ........           BL       setup_ICONS
   4373                ResortCL();
   \   00000700   ........           _BLF     ResortCL,??ResortCL??rA
   4374                RecountMenu(NULL);
   \   00000704   0000A0E3           MOV      R0,#+0
   \   00000708   ........           BL       RecountMenu
   4375                init_time_zone();
   \   0000070C   ........           BL       init_time_zone
   4376                //      InitSmiles();
   4377              }
   4378            }
   4379            if (msg->msg==MSG_GUI_DESTROYED)
   \                     ??maincsm_onmessage_30:
   \   00000710   040094E5           LDR      R0,[R4, #+4]
   \   00000714   0E10A0E3           MOV      R1,#+14
   \   00000718   641C81E3           ORR      R1,R1,#0x6400
   \   0000071C   010050E1           CMP      R0,R1
   \   00000720   0E00001A           BNE      ??maincsm_onmessage_33
   4380            {
   4381              if ((int)msg->data0==csm->gui_id)
   \   00000724   1C109DE5           LDR      R1,[SP, #+28]
   \   00000728   0C0094E5           LDR      R0,[R4, #+12]
   \   0000072C   281091E5           LDR      R1,[R1, #+40]
   \   00000730   010050E1           CMP      R0,R1
   4382              {
   4383                csm->csm.state=-3;
   \   00000734   1C009D05           LDREQ    R0,[SP, #+28]
   \   00000738   0210E003           MVNEQ    R1,#+2
   \   0000073C   10108005           STREQ    R1,[R0, #+16]
   4384              }
   4385              if ((int)msg->data0==contactlist_menu_id)
   \   00000740   0C0094E5           LDR      R0,[R4, #+12]
   \   00000744   701195E5           LDR      R1,[R5, #+368]
   \   00000748   010050E1           CMP      R0,R1
   4386              {
   4387                contactlist_menu_id=0;
   \   0000074C   70618505           STREQ    R6,[R5, #+368]
   4388                prev_clmenu_itemcount=0;
   \   00000750   78618505           STREQ    R6,[R5, #+376]
   4389              }
   4390              if ((int)msg->data0==edchat_id)
   \   00000754   741195E5           LDR      R1,[R5, #+372]
   \   00000758   010050E1           CMP      R0,R1
   4391              {
   4392                edchat_id=0;
   \   0000075C   74618505           STREQ    R6,[R5, #+372]
   4393              }
   4394            }
   4395            if (msg->msg==MSG_HELPER_TRANSLATOR)
   \                     ??maincsm_onmessage_33:
   \   00000760   040094E5           LDR      R0,[R4, #+4]
   \   00000764   AE10A0E3           MOV      R1,#+174
   \   00000768   DE1C81E3           ORR      R1,R1,#0xDE00
   \   0000076C   010050E1           CMP      R0,R1
   \   00000770   0F00001A           BNE      ??maincsm_onmessage_34
   4396            {
   4397              switch((int)msg->data0)
   \   00000774   0C0094E5           LDR      R0,[R4, #+12]
   \   00000778   101094E5           LDR      R1,[R4, #+16]
   \   0000077C   ........           LDR      R9,??DataTable168  ;; do_reconnect
   \   00000780   0C20A0E3           MOV      R2,#+12
   \   00000784   602D82E3           ORR      R2,R2,#0x1800
   \   00000788   054082E0           ADD      R4,R2,R5
   \   0000078C   482F42E2           SUB      R2,R2,#+288
   \   00000790   058082E0           ADD      R8,R2,R5
   \   00000794   802050E2           SUBS     R2,R0,#+128
   \   00000798   0800000A           BEQ      ??maincsm_onmessage_35
   \   0000079C   022052E2           SUBS     R2,R2,#+2
   \   000007A0   0200000A           BEQ      ??maincsm_onmessage_36
   \   000007A4   122052E2           SUBS     R2,R2,#+18
   \   000007A8   1100000A           BEQ      ??maincsm_onmessage_37
   \   000007AC   190000EA           B        ??maincsm_onmessage_38
   4398              {
   4399              case LMAN_DISCONNECT_IND:
   4400                is_gprs_online=0;
   \                     ??maincsm_onmessage_36:
   \   000007B0   646185E5           STR      R6,[R5, #+356]
   4401                return(1);
   \                     ??maincsm_onmessage_34:
   \   000007B4   0100A0E3           MOV      R0,#+1
   \   000007B8   20D08DE2           ADD      SP,SP,#+32
   \   000007BC   F08FBDE8           POP      {R4-R11,PC}      ;; return
   4402              case LMAN_CONNECT_CNF:
   4403                vibra_count=1;
   \                     ??maincsm_onmessage_35:
   \   000007C0   0100A0E3           MOV      R0,#+1
   \   000007C4   F80085E5           STR      R0,[R5, #+248]
   4404                start_vibra();
   \   000007C8   ........           BL       start_vibra
   4405                is_gprs_online=1;
   \   000007CC   0100A0E3           MOV      R0,#+1
   \   000007D0   640185E5           STR      R0,[R5, #+356]
   4406                strcpy(logmsg,LG_GRGPRSUP);
   \   000007D4   0400A0E3           MOV      R0,#+4
   \   000007D8   400E80E3           ORR      R0,R0,#0x400
   \   000007DC   071080E0           ADD      R1,R0,R7
   \   000007E0   0800A0E1           MOV      R0,R8
   \   000007E4   1A0000EF           SWI      +26
   4407                GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*10,do_reconnect);
   \   000007E8   0920A0E1           MOV      R2,R9
   \   000007EC   871EA0E3           MOV      R1,#+2160
   \   000007F0   840000EA           B        ??maincsm_onmessage_39
   4408                return(1);
   4409              case ENIP_DNR_HOST_BY_NAME:
   4410                if ((int)msg->data1==DNR_ID)
   \                     ??maincsm_onmessage_37:
   \   000007F4   8C0195E5           LDR      R0,[R5, #+396]
   \   000007F8   000051E1           CMP      R1,R0
   \   000007FC   ECFFFF1A           BNE      ??maincsm_onmessage_34
   4411                {
   4412          	if (DNR_TRIES) SUBPROC((void *)create_connect);
   \   00000800   900195E5           LDR      R0,[R5, #+400]
   \   00000804   000050E3           CMP      R0,#+0
   \   00000808   E9FFFF0A           BEQ      ??maincsm_onmessage_34
   \   0000080C   ........           LDR      R0,??DataTable169  ;; create_connect
   \                     ??maincsm_onmessage_40:
   \   00000810   710100EF           SWI      +369
   4413                }
   4414                return(1);
   \                     ??maincsm_onmessage_41:
   \   00000814   7D0000EA           B        ??maincsm_onmessage_42
   4415              }
   4416              if ((int)msg->data1==sock)
   \                     ??maincsm_onmessage_38:
   \   00000818   482195E5           LDR      R2,[R5, #+328]
   \   0000081C   020051E1           CMP      R1,R2
   \   00000820   E3FFFF1A           BNE      ??maincsm_onmessage_34
   4417              {
   4418                //Если наш сокет
   4419                if ((((unsigned int)msg->data0)>>28)==0xA)
   \   00000824   201EA0E1           LSR      R1,R0,#+28
   \   00000828   0A0051E3           CMP      R1,#+10
   \   0000082C   0200001A           BNE      ??maincsm_onmessage_43
   4420                {
   4421          	//Принят пакет
   4422          	ProcessPacket((TPKT *)msg->data0);
   \   00000830   ........           BL       ProcessPacket
   4423          	return(0);
   \   00000834   0000A0E3           MOV      R0,#+0
   \   00000838   750000EA           B        ??maincsm_onmessage_44
   4424                }
   4425                switch((int)msg->data0)
   \                     ??maincsm_onmessage_43:
   \   0000083C   ........           LDR      R2,??DataTable170  ;; VIBR_ON_CONNECT
   \   00000840   441195E5           LDR      R1,[R5, #+324]
   \   00000844   00A092E5           LDR      R10,[R2, #+0]
   \   00000848   8A0040E2           SUB      R0,R0,#+138
   \   0000084C   050050E3           CMP      R0,#+5
   \   00000850   D7FFFF8A           BHI      ??maincsm_onmessage_34
   \   00000854   012F8FE2           ADR      R2,??maincsm_onmessage_1
   \   00000858   0020D2E7           LDRB     R2,[R2, R0]
   \   0000085C   02F18FE0           ADD      PC,PC,R2, LSL #+2
   \                     ??maincsm_onmessage_1:
   \   00000860   44443F01           DC8      +68,+68,+63,+1
   \   00000864   4D490000           DC8      +77,+73,+0,+0
   4426                {
   4427                case ENIP_SOCK_CONNECTED:
   4428          	if (connect_state==1)
   \                     ??maincsm_onmessage_45:
   \   00000868   010051E3           CMP      R1,#+1
   \   0000086C   3500001A           BNE      ??maincsm_onmessage_46
   4429          	{
   4430          	  if(VIBR_ON_CONNECT)
   \   00000870   00005AE3           CMP      R10,#+0
   4431                      vibra_count=2;
   \   00000874   0200A013           MOVNE    R0,#+2
   4432                    else
   4433                      vibra_count=1;
   \   00000878   0100A003           MOVEQ    R0,#+1
   \   0000087C   F80085E5           STR      R0,[R5, #+248]
   4434          	  start_vibra();
   \   00000880   ........           BL       start_vibra
   4435          	  //Соединение установленно, посылаем пакет login
   4436          	  strcpy(logmsg, LG_GRTRYLOGIN);
   \   00000884   1C00A0E3           MOV      R0,#+28
   \   00000888   400E80E3           ORR      R0,R0,#0x400
   \   0000088C   071080E0           ADD      R1,R0,R7
   \   00000890   0800A0E1           MOV      R0,R8
   \   00000894   1A0000EF           SWI      +26
   4437          	  {
   4438          	    int i=strlen(PASS);
   \   00000898   88019FE5           LDR      R0,??maincsm_onmessage_5+0xC  ;; PASS
   \   0000089C   1B0000EF           SWI      +27
   \   000008A0   0080A0E1           MOV      R8,R0
   4439          	    TPKT *p=malloc(sizeof(PKT)+i);
   \   000008A4   080088E2           ADD      R0,R8,#+8
   \   000008A8   140000EF           SWI      +20
   4440          	    p->pkt.uin=UIN;
   4441          	    p->pkt.type=T_REQLOGIN;
   4442          	    p->pkt.data_len=i;
   4443          	    memcpy(p->data,PASS,i);
   \   000008AC   74119FE5           LDR      R1,??maincsm_onmessage_5+0xC  ;; PASS
   \   000008B0   0090A0E1           MOV      R9,R0
   \   000008B4   ........           LDR      R0,??DataTable179  ;; UIN
   \   000008B8   0820A0E1           MOV      R2,R8
   \   000008BC   004090E5           LDR      R4,[R0, #+0]
   \   000008C0   0100A0E3           MOV      R0,#+1
   \   000008C4   004089E5           STR      R4,[R9, #+0]
   \   000008C8   B400C9E1           STRH     R0,[R9, #+4]
   \   000008CC   B680C9E1           STRH     R8,[R9, #+6]
   \   000008D0   080089E2           ADD      R0,R9,#+8
   \   000008D4   1E0100EF           SWI      +286
   4444          	    SUBPROC((void *)send_login,0,p);
   \   000008D8   7C019FE5           LDR      R0,??maincsm_onmessage_5+0x40  ;; send_login
   \   000008DC   0920A0E1           MOV      R2,R9
   \   000008E0   0010A0E3           MOV      R1,#+0
   \   000008E4   710100EF           SWI      +369
   4445          	  }
   4446          	  GROUP_CACHE=0;
   \   000008E8   6C6185E5           STR      R6,[R5, #+364]
   4447          	  SENDMSGCOUNT=0; //Начинаем отсчет
   \   000008EC   D06085E5           STR      R6,[R5, #+208]
   4448          	  if (!FindGroupByID(0)) AddGroup(0,LG_GROUPNOTINLIST);
   \   000008F0   0600A0E1           MOV      R0,R6
   \   000008F4   ........           _BLF     FindGroupByID,??FindGroupByID??rA
   \   000008F8   000050E3           CMP      R0,#+0
   \   000008FC   0400001A           BNE      ??maincsm_onmessage_47
   \   00000900   2C00A0E3           MOV      R0,#+44
   \   00000904   400E80E3           ORR      R0,R0,#0x400
   \   00000908   071080E0           ADD      R1,R0,R7
   \   0000090C   0000A0E3           MOV      R0,#+0
   \   00000910   ........           _BLF     AddGroup,??AddGroup??rA
   4449          	  if (!FindContactByUin(UIN)) AddContact(UIN, LG_CLLOOPBACK,0,1);//AddContact(UIN, LG_CLLOOPBACK);
   \                     ??maincsm_onmessage_47:
   \   00000914   0400A0E1           MOV      R0,R4
   \   00000918   ........           _BLF     FindContactByUin,??FindContactByUin??rA
   \   0000091C   000050E3           CMP      R0,#+0
   \   00000920   0600001A           BNE      ??maincsm_onmessage_48
   \   00000924   0130A0E3           MOV      R3,#+1
   \   00000928   0020A0E3           MOV      R2,#+0
   \   0000092C   3800A0E3           MOV      R0,#+56
   \   00000930   400E80E3           ORR      R0,R0,#0x400
   \   00000934   071080E0           ADD      R1,R0,R7
   \   00000938   0400A0E1           MOV      R0,R4
   \   0000093C   ........           _BLF     AddContact,??AddContact??rA
   4450          	  SMART_REDRAW();
   \                     ??maincsm_onmessage_48:
   \   00000940   ........           BL       SMART_REDRAW
   \   00000944   310000EA           B        ??maincsm_onmessage_42
   4451          	}
   4452          	else
   4453          	{
   4454          	  ShowMSG(1,(int)LG_MSGILLEGMSGCON);
   \                     ??maincsm_onmessage_46:
   \   00000948   4400A0E3           MOV      R0,#+68
   \                     ??maincsm_onmessage_49:
   \   0000094C   400E80E3           ORR      R0,R0,#0x400
   \   00000950   071080E0           ADD      R1,R0,R7
   \   00000954   0100A0E3           MOV      R0,#+1
   \   00000958   480100EF           SWI      +328
   \   0000095C   2B0000EA           B        ??maincsm_onmessage_42
   4455          	}
   4456          	break;
   4457                case ENIP_SOCK_DATA_READ:
   4458          	if (connect_state>=2)
   \                     ??maincsm_onmessage_50:
   \   00000960   020051E3           CMP      R1,#+2
   4459          	{
   4460          	  //Если посылали send
   4461          	  SUBPROC((void *)get_answer);
   \   00000964   F4009FA5           LDRGE    R0,??maincsm_onmessage_5+0x44  ;; get_answer
   \   00000968   A8FFFFAA           BGE      ??maincsm_onmessage_40
   4462          	  //SMART_REDRAW();
   4463          	}
   4464          	else
   4465          	{
   4466          	  ShowMSG(1,(int)LG_MSGILLEGMSGREA);
   \   0000096C   6C00A0E3           MOV      R0,#+108
   \   00000970   F5FFFFEA           B        ??maincsm_onmessage_49
   4467          	}
   4468          	break;
   4469                case ENIP_BUFFER_FREE:
   4470                case ENIP_BUFFER_FREE1:
   4471          	SUBPROC((void *)SendAnswer,0,0);
   \                     ??maincsm_onmessage_51:
   \   00000974   ........           LDR      R0,??DataTable172  ;; SendAnswer
   \   00000978   0020A0E3           MOV      R2,#+0
   \   0000097C   0210A0E1           MOV      R1,R2
   \   00000980   710100EF           SWI      +369
   \   00000984   210000EA           B        ??maincsm_onmessage_42
   4472          	break;
   4473                case ENIP_SOCK_REMOTE_CLOSED:
   4474          	//Закрыт со стороны сервера
   4475          	if (connect_state)
   \                     ??maincsm_onmessage_52:
   \   00000988   000051E3           CMP      R1,#+0
   \   0000098C   88FFFF0A           BEQ      ??maincsm_onmessage_34
   4476          	  SUBPROC((void *)end_socket);
   \   00000990   ........           LDR      R0,??DataTable173  ;; end_socket
   \   00000994   9DFFFFEA           B        ??maincsm_onmessage_40
   4477          	break;
   4478                case ENIP_SOCK_CLOSED:
   4479          	//strcpy(logmsg, "No connection");
   4480          	//Dump not received
   4481          /*	if (RXstate>(-(int)sizeof(PKT)))
   4482          	{
   4483          	  unsigned int err;
   4484          	  int f=fopen("4:\\NATICQ.dump",A_ReadWrite+A_Create+A_Truncate+A_BIN,P_READ+P_WRITE,&err);
   4485          	  if (f!=-1)
   4486          	  {
   4487          	    fwrite(f,&RXbuf,RXstate+sizeof(PKT),&err);
   4488          	    fclose(f,&err);
   4489          	  }
   4490          	}*/
   4491          	FillAllOffline();
   \                     ??maincsm_onmessage_53:
   \   00000998   ........           _BLF     FillAllOffline,??FillAllOffline??rA
   4492          	RecountMenu(NULL);
   \   0000099C   0000A0E3           MOV      R0,#+0
   \   000009A0   ........           BL       RecountMenu
   4493          	connect_state=0;
   \   000009A4   446185E5           STR      R6,[R5, #+324]
   4494          	sock=-1;
   \   000009A8   0600E0E1           MVN      R0,R6
   \   000009AC   480185E5           STR      R0,[R5, #+328]
   4495                  if(VIBR_ON_CONNECT)
   \   000009B0   00005AE3           CMP      R10,#+0
   4496                    vibra_count=4;
   \   000009B4   0400A013           MOVNE    R0,#+4
   4497                  else
   4498                    vibra_count=1;
   \   000009B8   0100A003           MOVEQ    R0,#+1
   \   000009BC   F80085E5           STR      R0,[R5, #+248]
   4499                    
   4500          	start_vibra();
   \   000009C0   ........           BL       start_vibra
   4501          	if (sendq_p)
   \   000009C4   600195E5           LDR      R0,[R5, #+352]
   \   000009C8   000050E3           CMP      R0,#+0
   \   000009CC   0400000A           BEQ      ??maincsm_onmessage_54
   4502          	{
   4503          	  snprintf(logmsg,255,"Disconnected, %d bytes not sended!",sendq_l);
   \   000009D0   5C3195E5           LDR      R3,[R5, #+348]
   \   000009D4   492E87E2           ADD      R2,R7,#+1168
   \   000009D8   FF10A0E3           MOV      R1,#+255
   \   000009DC   0800A0E1           MOV      R0,R8
   \   000009E0   1B0100EF           SWI      +283
   4504          	}
   4505          	SMART_REDRAW();
   \                     ??maincsm_onmessage_54:
   \   000009E4   ........           BL       SMART_REDRAW
   4506          	SUBPROC((void *)ClearSendQ);
   \   000009E8   ........           LDR      R0,??DataTable174  ;; ClearSendQ
   \   000009EC   710100EF           SWI      +369
   4507          #ifdef EVILFOX
   4508          	if (!disautorecconect) GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*12,do_reconnect);
   4509          #else
   4510                  if (!disautorecconect) GBS_StartTimerProc(&reconnect_tmr,TMR_SECOND*120,do_reconnect);
   \   000009F0   200195E5           LDR      R0,[R5, #+288]
   \   000009F4   000050E3           CMP      R0,#+0
   \   000009F8   6DFFFF1A           BNE      ??maincsm_onmessage_34
   \   000009FC   0920A0E1           MOV      R2,R9
   \   00000A00   4010A0E3           MOV      R1,#+64
   \   00000A04   651C81E3           ORR      R1,R1,#0x6500
   \                     ??maincsm_onmessage_39:
   \   00000A08   0400A0E1           MOV      R0,R4
   \   00000A0C   4D0000EF           SWI      +77
   \                     ??maincsm_onmessage_42:
   \   00000A10   0100A0E3           MOV      R0,#+1
   \                     ??maincsm_onmessage_44:
   \   00000A14   20D08DE2           ADD      SP,SP,#+32
   \   00000A18   F08FBDE8           POP      {R4-R11,PC}
   \                     ??maincsm_onmessage_5:
   \   00000A1C   ........           DC32     CheckDoubleRun
   \   00000A20   ........           DC32     ProcessNextSmile
   \   00000A24   ........           DC32     ProcessNextXStatImg
   \   00000A28   ........           DC32     PASS
   \   00000A2C   ........           DC32     IDLEICON_X
   \   00000A30   ........           DC32     IDLEICON_Y
   \   00000A34   ........           DC32     show_xstatus
   \   00000A38   ........           DC32     XStatusesIconArray
   \   00000A3C   ........           DC32     IDLEICON_XX
   \   00000A40   ........           DC32     IDLEICON_YX
   \   00000A44   ........           DC32     msg_d_x
   \   00000A48   ........           DC32     msg_d_y
   \   00000A4C   ........           DC32     spaco2
   \   00000A50   ........           DC32     Is_Unread_On
   \   00000A54   ........           DC32     unread_Y
   \   00000A58   ........           DC32     unread_X
   \   00000A5C   ........           DC32     send_login
   \   00000A60   ........           DC32     get_answer
   4511          #endif
   4512          	break;
   4513                }
   4514              }
   4515            }
   4516            return(1);
   4517          }
   4518          
   4519          //---------------------------------------------//
   4520          #pragma swi_number=0x27 
   4521          __swi __arm void AddIconToIconBar(int pic, short *num);
   4522          
   4523          

   \                                 In segment CODE, align 4, keep-with-next
   4524          void addIconBar(short* num)
   4525          {
   \                     addIconBar:
   \   00000000   00402DE9           PUSH     {LR}
   4526            int curstat=1703+CurrentStatus;
   4527            AddIconToIconBar(curstat,num);
   \   00000004   0010A0E1           MOV      R1,R0
   \   00000008   ........           LDR      R0,??DataTable175  ;; S_ICONS + 308
   \   0000000C   A720A0E3           MOV      R2,#+167
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   602E82E3           ORR      R2,R2,#0x600
   \   00000018   000082E0           ADD      R0,R2,R0
   \   0000001C   270000EF           SWI      +39
   4528          }
   \   00000020   0080BDE8           POP      {PC}             ;; return
   4529          
   4530          typedef struct
   4531          {
   4532            char check_name[8];
   4533            int addr;
   4534          }ICONBAR_H;
   4535          
   4536          

   \                                 In segment DATA_C, align 4, align-sorted
   4537          const int minus11=-11;
   \                     minus11:
   \   00000000   F5FFFFFF           DC32 -11
   4538          

   \                                 In segment DATA_Z, align 4, align-sorted
   4539          unsigned short maincsm_name_body[140];
   \                     maincsm_name_body:
   \   00000000                      DS8 280
   4540          
   4541          struct
   4542          {
   4543            CSM_DESC maincsm;
   4544            WSHDR maincsm_name;
   4545          //  ICONBAR_H iconbar_handler;
   4546          }MAINCSM =
   4547          {
   4548            {
   4549              maincsm_onmessage,
   4550              maincsm_oncreate,
   4551          #ifdef NEWSGOLD
   4552          0,
   4553          0,
   4554          0,
   4555          0,
   4556          #endif
   4557          maincsm_onclose,
   4558          sizeof(MAIN_CSM),
   4559          1,
   4560          &minus11
   4561            },
   4562            {
   4563              maincsm_name_body,
   4564              NAMECSM_MAGIC1,
   4565              NAMECSM_MAGIC2,
   4566              0x0,
   4567              139
   4568            },
   4569          /*  {
   4570              "IconBar"
   4571            }*/
   4572          };
   4573          

   \                                 In segment CODE, align 4, keep-with-next
   4574          void UpdateCSMname(void)
   4575          {
   4576            wsprintf((WSHDR *)(&MAINCSM.maincsm_name), "NATICQ: %d",UIN);
   \                     UpdateCSMname:
   \   00000000   ........           LDR      R0,??DataTable179  ;; UIN
   \   00000004   10109FE5           LDR      R1,??UpdateCSMname_0  ;; `?<Constant "NATICQ: %d">`
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   002090E5           LDR      R2,[R0, #+0]
   \   00000010   08009FE5           LDR      R0,??UpdateCSMname_0+0x4  ;; S_ICONS + 7100
   \   00000014   240100EF           SWI      +292
   4577          }
   \   00000018   0080BDE8           POP      {PC}             ;; return
   \                     ??UpdateCSMname_0:
   \   0000001C   ........           DC32     `?<Constant "NATICQ: %d">`
   \   00000020   ........           DC32     S_ICONS + 7100
   4578          /*
   4579          void SetIconBarHandler()
   4580          {
   4581            MAINCSM.iconbar_handler.addr = (int)addIconBar;
   4582          }
   4583          */

   \                                 In segment CODE, align 4, keep-with-next
   4584          int main(char *filename)
   4585          {
   \                     main:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   4586            MAIN_CSM main_csm;
   4587            char *s;
   4588            int len;
   4589            extern const char *successed_config_filename;
   4590            WSHDR *ws;
   4591            //SetIconBarHandler();
   4592            sprintf(PINGO, "Ping None");
   \   00000004   ........           LDR      R4,??DataTable177  ;; S_ICONS
   \   00000008   ........           LDR      R5,??DataTable178  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   0000000C   2CD04DE2           SUB      SP,SP,#+44
   \   00000010   0060A0E1           MOV      R6,R0
   \   00000014   B400A0E3           MOV      R0,#+180
   \   00000018   400E80E3           ORR      R0,R0,#0x400
   \   0000001C   051080E0           ADD      R1,R0,R5
   \   00000020   F00E80E2           ADD      R0,R0,#+3840
   \   00000024   040080E0           ADD      R0,R0,R4
   \   00000028   160000EF           SWI      +22
   4593            InitConfig();
   \   0000002C   ........           _BLF     InitConfig,??InitConfig??rA
   4594            s=strrchr(filename,'\\');
   4595            len=(s-filename)+1;
   \   00000030   5C10A0E3           MOV      R1,#+92
   \   00000034   0600A0E1           MOV      R0,R6
   \   00000038   170100EF           SWI      +279
   \   0000003C   060040E0           SUB      R0,R0,R6
   \   00000040   017080E2           ADD      R7,R0,#+1
   4596            strncpy(elf_path,filename,len);
   \   00000044   0720A0E1           MOV      R2,R7
   \   00000048   0610A0E1           MOV      R1,R6
   \   0000004C   7D0F84E2           ADD      R0,R4,#+500
   \   00000050   160100EF           SWI      +278
   4597            elf_path[len]=0;
   \   00000054   040087E0           ADD      R0,R7,R4
   \   00000058   0010A0E3           MOV      R1,#+0
   \   0000005C   F411C0E5           STRB     R1,[R0, #+500]
   4598            if (!UIN)
   \   00000060   ........           LDR      R0,??DataTable179  ;; UIN
   \   00000064   000090E5           LDR      R0,[R0, #+0]
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   1500001A           BNE      ??main_0
   4599            {
   4600              LockSched();
   \   00000070   460100EF           SWI      +326
   4601              ShowMSG(1,(int)LG_MSGNOUINPASS);
   \   00000074   4C1E85E2           ADD      R1,R5,#+1216
   \   00000078   0100A0E3           MOV      R0,#+1
   \   0000007C   480100EF           SWI      +328
   4602              ws=AllocWS(150);
   \   00000080   9600A0E3           MOV      R0,#+150
   \   00000084   250100EF           SWI      +293
   \   00000088   0040A0E1           MOV      R4,R0
   4603              str_2ws(ws,successed_config_filename,128);
   \   0000008C   ........           LDR      R0,??DataTable180  ;; successed_config_filename
   \   00000090   8020A0E3           MOV      R2,#+128
   \   00000094   001090E5           LDR      R1,[R0, #+0]
   \   00000098   0400A0E1           MOV      R0,R4
   \   0000009C   6C0100EF           SWI      +364
   4604              ExecuteFile(ws,0,0);
   \   000000A0   0020A0E3           MOV      R2,#+0
   \   000000A4   0010A0E3           MOV      R1,#+0
   \   000000A8   0400A0E1           MOV      R0,R4
   \   000000AC   940000EF           SWI      +148
   4605              UnlockSched();
   \   000000B0   470100EF           SWI      +327
   4606              SUBPROC((void *)ElfKiller);
   \   000000B4   ........           LDR      R0,??DataTable181  ;; ElfKiller
   \   000000B8   710100EF           SWI      +369
   4607              return 0;
   \   000000BC   0000A0E3           MOV      R0,#+0
   \   000000C0   2CD08DE2           ADD      SP,SP,#+44
   \   000000C4   F080BDE8           POP      {R4-R7,PC}
   4608            }
   4609            ReadDefSettings();
   4610            setup_ICONS();
   4611            LoadXStatusText();
   4612            UpdateCSMname();
   4613            LockSched();
   4614            maincsm_id=CreateCSM(&MAINCSM.maincsm,&main_csm,0);
   4615            UnlockSched();
   4616          #ifdef EVILFOX
   4617            FontPathInit(fonto,(char *)fontpath, 0);
   4618            away_timer();
   4619          #else
   4620            FontPathInit(fonto,(char *)fontpath, 1);
   \                     ??main_0:
   \   000000C8   ........           LDR      R7,??DataTable182  ;; fontpath
   \   000000CC   ........           BL       ReadDefSettings
   \   000000D0   ........           BL       setup_ICONS
   \   000000D4   ........           _BLF     LoadXStatusText,??LoadXStatusText??rA
   \   000000D8   ........           BL       UpdateCSMname
   \   000000DC   460100EF           SWI      +326
   \   000000E0   0020A0E3           MOV      R2,#+0
   \   000000E4   0D10A0E1           MOV      R1,SP
   \   000000E8   9400A0E3           MOV      R0,#+148
   \   000000EC   6C0D80E3           ORR      R0,R0,#0x1B00
   \   000000F0   040080E0           ADD      R0,R0,R4
   \   000000F4   070100EF           SWI      +263
   \   000000F8   C80084E5           STR      R0,[R4, #+200]
   \   000000FC   470100EF           SWI      +327
   \   00000100   ........           LDR      R0,??DataTable183  ;; fonto
   \   00000104   0120A0E3           MOV      R2,#+1
   \   00000108   006090E5           LDR      R6,[R0, #+0]
   \   0000010C   0710A0E1           MOV      R1,R7
   \   00000110   0600A0E1           MOV      R0,R6
   \   00000114   ........           _BLF     FontPathInit,??FontPathInit??rA
   4621            away_timer();
   \   00000118   ........           BL       away_timer
   4622          #endif
   4623          //#ifdef ELKA
   4624            if(fonto==1)
   \   0000011C   010056E3           CMP      R6,#+1
   \   00000120   0B00001A           BNE      ??main_1
   4625            {
   4626              char *heght=malloc(64);
   \   00000124   4000A0E3           MOV      R0,#+64
   \   00000128   140000EF           SWI      +20
   \   0000012C   0060A0E1           MOV      R6,R0
   4627              sprintf(heght, "%s2240.png", fontpath);
   \   00000130   0720A0E1           MOV      R2,R7
   \   00000134   FE1F85E2           ADD      R1,R5,#+1016
   \   00000138   160000EF           SWI      +22
   4628              paused_height=GetImgHeight((int)heght);
   \   0000013C   0600A0E1           MOV      R0,R6
   \   00000140   210000EF           SWI      +33
   \   00000144   A00084E5           STR      R0,[R4, #+160]
   4629              mfree(heght);
   \   00000148   0600A0E1           MOV      R0,R6
   \   0000014C   150000EF           SWI      +21
   \   00000150   010000EA           B        ??main_2
   4630            }
   4631            else
   4632              paused_height=fonto-100;
   \                     ??main_1:
   \   00000154   640046E2           SUB      R0,R6,#+100
   \   00000158   A00084E5           STR      R0,[R4, #+160]
   4633          //#endif
   4634            GBS_StartTimerProc(&mytmr3, 12000, Pinger2);
   \                     ??main_2:
   \   0000015C   ........           LDR      R2,??DataTable184  ;; Pinger2
   \   00000160   E010A0E3           MOV      R1,#+224
   \   00000164   B81D81E3           ORR      R1,R1,#0x2E00
   \   00000168   A400A0E3           MOV      R0,#+164
   \   0000016C   4C0D80E3           ORR      R0,R0,#0x1300
   \   00000170   040080E0           ADD      R0,R0,R4
   \   00000174   4D0000EF           SWI      +77
   4635            x_zstatus();
   \   00000178   ........           BL       x_zstatus
   4636          #ifdef NEWSGOLD
   4637            initTags();
   \   0000017C   ........           _BLF     initTags,??initTags??rA
   4638          #endif
   4639            init_time_zone();
   \   00000180   ........           BL       init_time_zone
   4640            AddKeybMsgHook((void *)my_keyhook); 
   \   00000184   ........           LDR      R0,??DataTable185  ;; my_keyhook
   \   00000188   2B0100EF           SWI      +299
   4641            return 0;
   \   0000018C   0000A0E3           MOV      R0,#+0
   \   00000190   2CD08DE2           ADD      SP,SP,#+44
   \   00000194   F080BDE8           POP      {R4-R7,PC}       ;; return
   4642          }
   4643          
   4644          //===========================================================
   4645          // Edit chat
   4646          //===========================================================

   \                                 In segment CODE, align 4, keep-with-next
   4647          void edchat_locret(void){}
   \                     edchat_locret:
   \   00000000   1EFF2FE1           BX       LR               ;; return
   4648          

   \                                 In segment CODE, align 4, keep-with-next
   4649          char *ExtractAnswer(WSHDR *ws)
   4650          {
   \                     ExtractAnswer:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   4651            S_SMILES *t;
   4652            int c;
   4653            int len=0;
   4654            int scur;
   4655            char *msg=NULL;
   4656            unsigned short *wsbody=ws->wsbody;
   \   00000004   005090E5           LDR      R5,[R0, #+0]
   \   00000008   0040A0E3           MOV      R4,#+0
   4657            int wslen=wsbody[0];
   \   0000000C   B060D5E1           LDRH     R6,[R5, #+0]
   \   00000010   0070A0E3           MOV      R7,#+0
   4658            if (wslen)
   \   00000014   000056E3           CMP      R6,#+0
   \   00000018   3C00000A           BEQ      ??ExtractAnswer_0
   4659            {
   4660              for (int i=0; i<wslen; i++) // Посчитаем общую длину будущей строки
   \   0000001C   010056E3           CMP      R6,#+1
   \   00000020   070000AA           BGE      ??ExtractAnswer_1
   4661              {
   4662                c=wsbody[i+1];
   4663                if (c>=0xE100)
   4664                {
   4665                  t=FindSmileByUni(c);
   4666                  if (t)
   4667                  {
   4668                    if (t->lines)
   4669                    {
   4670                      len+=strlen(t->lines->text);
   4671                    }
   4672                  }
   4673                  else  len++;
   4674                }
   4675                else  len++;
   4676              }
   4677              
   4678              msg=malloc(len+1);
   \                     ??ExtractAnswer_2:
   \   00000024   010084E2           ADD      R0,R4,#+1
   \   00000028   140000EF           SWI      +20
   \   0000002C   0070A0E1           MOV      R7,R0
   4679              scur=0;
   \   00000030   0090A0E3           MOV      R9,#+0
   4680              for (int wcur=0; wcur<wslen && scur<len; wcur++)
   \   00000034   00A0A0E3           MOV      R10,#+0
   \   00000038   180000EA           B        ??ExtractAnswer_3
   \                     ??ExtractAnswer_4:
   \   0000003C   014084E2           ADD      R4,R4,#+1
   \                     ??ExtractAnswer_5:
   \   00000040   017087E2           ADD      R7,R7,#+1
   \                     ??ExtractAnswer_1:
   \   00000044   060057E1           CMP      R7,R6
   \   00000048   F5FFFFAA           BGE      ??ExtractAnswer_2
   \   0000004C   870085E0           ADD      R0,R5,R7, LSL #+1
   \   00000050   B280D0E1           LDRH     R8,[R0, #+2]
   \   00000054   E10C58E3           CMP      R8,#+57600
   \   00000058   F7FFFFBA           BLT      ??ExtractAnswer_4
   \   0000005C   0800A0E1           MOV      R0,R8
   \   00000060   ........           _BLF     FindSmileByUni,??FindSmileByUni??rA
   \   00000064   000050E3           CMP      R0,#+0
   \   00000068   F3FFFF0A           BEQ      ??ExtractAnswer_4
   \   0000006C   080090E5           LDR      R0,[R0, #+8]
   \   00000070   000050E3           CMP      R0,#+0
   \   00000074   F1FFFF0A           BEQ      ??ExtractAnswer_5
   \   00000078   0C0080E2           ADD      R0,R0,#+12
   \   0000007C   1B0000EF           SWI      +27
   \   00000080   044080E0           ADD      R4,R0,R4
   \   00000084   EDFFFFEA           B        ??ExtractAnswer_5
   4681              {
   4682                c=wsbody[wcur+1];
   4683                if (c==10) c=13;
   \                     ??ExtractAnswer_6:
   \   00000088   0D80A0E3           MOV      R8,#+13
   4684                if (c>=0xE100)
   4685                {
   4686                  t=FindSmileByUni(c);
   4687                  if (t)
   4688                  {
   4689                    int w;
   4690                    char *s;
   4691                    if (t->lines)
   4692                    {
   4693                      s=t->lines->text;
   4694                      while ((w=*s++) && scur<len)
   4695                      {
   4696                        msg[scur]=w;
   4697                        scur++;
   4698                      }
   4699                    }
   4700                  }
   4701                  else
   4702                  {
   4703                    msg[scur]=char16to8(c);
   4704                    scur++;
   4705                  }
   4706                }
   4707                else
   4708                {
   4709                  msg[scur]=char16to8(c);
   \                     ??ExtractAnswer_7:
   \   0000008C   0800A0E1           MOV      R0,R8
   \   00000090   ........           _BLF     char16to8,??char16to8??rA
   \   00000094   0700C9E7           STRB     R0,[R9, +R7]
   4710                  scur++;
   \   00000098   0B90A0E1           MOV      R9,R11
   4711                }
   \                     ??ExtractAnswer_8:
   \   0000009C   01A08AE2           ADD      R10,R10,#+1
   \                     ??ExtractAnswer_3:
   \   000000A0   06005AE1           CMP      R10,R6
   \   000000A4   040059B1           CMPLT    R9,R4
   \   000000A8   160000AA           BGE      ??ExtractAnswer_9
   \   000000AC   8A0085E0           ADD      R0,R5,R10, LSL #+1
   \   000000B0   B280D0E1           LDRH     R8,[R0, #+2]
   \   000000B4   01B089E2           ADD      R11,R9,#+1
   \   000000B8   0A0058E3           CMP      R8,#+10
   \   000000BC   F1FFFF0A           BEQ      ??ExtractAnswer_6
   \   000000C0   E10C58E3           CMP      R8,#+57600
   \   000000C4   F0FFFFBA           BLT      ??ExtractAnswer_7
   \   000000C8   0800A0E1           MOV      R0,R8
   \   000000CC   ........           _BLF     FindSmileByUni,??FindSmileByUni??rA
   \   000000D0   000050E3           CMP      R0,#+0
   \   000000D4   ECFFFF0A           BEQ      ??ExtractAnswer_7
   \   000000D8   080090E5           LDR      R0,[R0, #+8]
   \   000000DC   000050E3           CMP      R0,#+0
   \   000000E0   EDFFFF0A           BEQ      ??ExtractAnswer_8
   \   000000E4   0C0080E2           ADD      R0,R0,#+12
   \                     ??ExtractAnswer_10:
   \   000000E8   ........           LDRB     R1,[R0], #+1
   \   000000EC   000051E3           CMP      R1,#+0
   \   000000F0   E9FFFF0A           BEQ      ??ExtractAnswer_8
   \   000000F4   040059E1           CMP      R9,R4
   \   000000F8   E7FFFFAA           BGE      ??ExtractAnswer_8
   \   000000FC   0710C9E7           STRB     R1,[R9, +R7]
   \   00000100   019089E2           ADD      R9,R9,#+1
   \   00000104   F7FFFFEA           B        ??ExtractAnswer_10
   4712              }
   4713              msg[scur]=0;
   \                     ??ExtractAnswer_9:
   \   00000108   0000A0E3           MOV      R0,#+0
   \   0000010C   0700C9E7           STRB     R0,[R9, +R7]
   4714            }
   4715            return msg;
   \                     ??ExtractAnswer_0:
   \   00000110   0700A0E1           MOV      R0,R7
   \   00000114   F08FBDE8           POP      {R4-R11,PC}      ;; return
   4716          }
   4717          

   \                                 In segment CODE, align 4, keep-with-next
   4718          CLIST *FindNextActiveContact(CLIST *t)
   4719          {
   4720            while(t=(CLIST *)(t->next))
   \                     FindNextActiveContact:
   \                     ??FindNextActiveContact_0:
   \   00000000   000090E5           LDR      R0,[R0, #+0]
   \   00000004   000050E3           CMP      R0,#+0
   \   00000008   0300000A           BEQ      ??FindNextActiveContact_1
   4721            {
   4722              if (t->isactive) return t;
   \   0000000C   801090E5           LDR      R1,[R0, #+128]
   \   00000010   000051E3           CMP      R1,#+0
   \   00000014   F9FFFF0A           BEQ      ??FindNextActiveContact_0
   \   00000018   1EFF2FE1           BX       LR
   4723            }
   4724            t=(CLIST *)(&cltop);
   \                     ??FindNextActiveContact_1:
   \   0000001C   ........           LDR      R0,??DataTable187  ;; S_ICONS + 360
   \   00000020   020000EA           B        ??FindNextActiveContact_2
   4725            while(t=(CLIST *)(t->next))
   4726            {
   4727              if (t->isactive) return t;
   \                     ??FindNextActiveContact_3:
   \   00000024   801090E5           LDR      R1,[R0, #+128]
   \   00000028   000051E3           CMP      R1,#+0
   \   0000002C   1EFF2F11           BXNE     LR
   4728            }
   \                     ??FindNextActiveContact_2:
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   F9FFFF1A           BNE      ??FindNextActiveContact_3
   4729            return NULL;
   \   0000003C   1EFF2FE1           BX       LR               ;; return
   4730          }
   4731          

   \                                 In segment CODE, align 4, keep-with-next
   4732          CLIST *FindPrevActiveContact(CLIST *t)
   4733          {
   4734            CLIST *cl;
   4735            CLIST *cl_active=NULL;
   4736            cl=(CLIST *)(&cltop);
   \                     FindPrevActiveContact:
   \   00000000   ........           LDR      R2,??DataTable187  ;; S_ICONS + 360
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   020000EA           B        ??FindPrevActiveContact_0
   4737            
   4738            
   4739            while(cl=cl->next)
   4740            {
   4741              if (cl==t)
   4742              {
   4743                if (cl_active==NULL) break;
   4744                else return (cl_active);
   4745              }
   4746              else
   4747              {
   4748                if (cl->isactive) cl_active=cl;
   \                     ??FindPrevActiveContact_1:
   \   0000000C   803092E5           LDR      R3,[R2, #+128]
   \   00000010   000053E3           CMP      R3,#+0
   \   00000014   0210A011           MOVNE    R1,R2
   4749              }
   \                     ??FindPrevActiveContact_0:
   \   00000018   002092E5           LDR      R2,[R2, #+0]
   \   0000001C   000052E3           CMP      R2,#+0
   \   00000020   0500000A           BEQ      ??FindPrevActiveContact_2
   \   00000024   000052E1           CMP      R2,R0
   \   00000028   F7FFFF1A           BNE      ??FindPrevActiveContact_1
   \   0000002C   000051E3           CMP      R1,#+0
   \   00000030   0100000A           BEQ      ??FindPrevActiveContact_2
   \                     ??FindPrevActiveContact_3:
   \   00000034   0100A0E1           MOV      R0,R1
   \   00000038   1EFF2FE1           BX       LR               ;; return
   4750            }
   4751            while(t)
   \                     ??FindPrevActiveContact_2:
   \   0000003C   000050E3           CMP      R0,#+0
   \   00000040   FBFFFF0A           BEQ      ??FindPrevActiveContact_3
   4752            {
   4753              if (t->isactive) cl_active=t;
   \   00000044   802090E5           LDR      R2,[R0, #+128]
   \   00000048   000052E3           CMP      R2,#+0
   \   0000004C   0010A011           MOVNE    R1,R0
   4754              t=t->next;
   \   00000050   000090E5           LDR      R0,[R0, #+0]
   \   00000054   F8FFFFEA           B        ??FindPrevActiveContact_2
   4755            }
   4756            return cl_active;
   4757          }
   4758          
   4759          

   \                                 In segment CODE, align 4, keep-with-next
   4760          void ed_options_handler(USR_MENU_ITEM *item)
   4761          {
   \                     ed_options_handler:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   4762            EDCHAT_STRUCT *ed_struct=item->user_pointer;
   4763            CLIST *t;
   4764            int i=item->cur_item;
   4765            if (item->type==0)
   \   00000004   ........           LDR      R5,??DataTable201  ;; S_ICONS
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0070A0E1           MOV      R7,R0
   \   00000010   0000D7E5           LDRB     R0,[R7, #+0]
   \   00000014   044097E5           LDR      R4,[R7, #+4]
   \   00000018   B860D7E1           LDRH     R6,[R7, #+8]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0D00001A           BNE      ??ed_options_handler_0
   4766            {
   4767              switch(i)
   \   00000024   0C0097E5           LDR      R0,[R7, #+12]
   \   00000028   80119FE5           LDR      R1,??ed_options_handler_1  ;; `?<Constant "\\321\\353\\345\\344\\363\\376\\371\\350\\3`
   \   0000002C   0620B0E1           MOVS     R2,R6
   \   00000030   0800000A           BEQ      ??ed_options_handler_2
   \   00000034   012056E2           SUBS     R2,R6,#+1
   4768              {
   4769              case 0:
   4770                ascii2ws(item->ws,LG_MNUEDNEXTACT);
   4771                break;
   4772              case 1:
   4773                ascii2ws(item->ws,LG_MNUEDPREVACT);
   \   00000038   10108102           ADDEQ    R1,R1,#+16
   \   0000003C   0500000A           BEQ      ??ed_options_handler_2
   4774                break;
   4775              default:
   4776                i-=2;
   4777                if (i<ed_struct->loaded_templates) ascii2ws(item->ws,templates_lines[i]);
   \   00000040   101094E5           LDR      R1,[R4, #+16]
   \   00000044   026046E2           SUB      R6,R6,#+2
   \   00000048   010056E1           CMP      R6,R1
   \   0000004C   550000AA           BGE      ??ed_options_handler_3
   \   00000050   3C1195E5           LDR      R1,[R5, #+316]
   \   00000054   061191E7           LDR      R1,[R1, +R6, LSL #+2]
   \                     ??ed_options_handler_2:
   \   00000058   ........           _BLF     ascii2ws,??ascii2ws??rA
   4778                break;
   4779              }
   4780            }
   4781            if (item->type==1)
   \                     ??ed_options_handler_0:
   \   0000005C   0000D7E5           LDRB     R0,[R7, #+0]
   \   00000060   010050E3           CMP      R0,#+1
   \   00000064   4F00001A           BNE      ??ed_options_handler_3
   4782            {
   4783              switch(i)
   \   00000068   007094E5           LDR      R7,[R4, #+0]
   \   0000006C   0600B0E1           MOVS     R0,R6
   \   00000070   0200000A           BEQ      ??ed_options_handler_4
   \   00000074   010056E2           SUBS     R0,R6,#+1
   \   00000078   0C00000A           BEQ      ??ed_options_handler_5
   \   0000007C   0E0000EA           B        ??ed_options_handler_6
   4784              {
   4785              case 0:
   4786                t=FindNextActiveContact(ed_struct->ed_contact);
   \                     ??ed_options_handler_4:
   \   00000080   0700A0E1           MOV      R0,R7
   \   00000084   ........           BL       FindNextActiveContact
   \                     ??ed_options_handler_7:
   \   00000088   0040B0E1           MOVS     R4,R0
   4787                if (t && t!=ed_struct->ed_contact)
   \   0000008C   07005411           CMPNE    R4,R7
   \   00000090   4400000A           BEQ      ??ed_options_handler_3
   4788                {
   4789                  GeneralFunc_flag1(edchat_id,1);
   \   00000094   740195E5           LDR      R0,[R5, #+372]
   \   00000098   0110A0E3           MOV      R1,#+1
   \   0000009C   3D0100EF           SWI      +317
   4790                  CreateEditChat(t);
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   ........           BL       CreateEditChat
   \   000000A8   2CD08DE2           ADD      SP,SP,#+44
   \   000000AC   F080BDE8           POP      {R4-R7,PC}
   4791                }
   4792                break;
   4793              case 1:
   4794                t=FindPrevActiveContact(ed_struct->ed_contact);
   \                     ??ed_options_handler_5:
   \   000000B0   0700A0E1           MOV      R0,R7
   \   000000B4   ........           BL       FindPrevActiveContact
   \   000000B8   F2FFFFEA           B        ??ed_options_handler_7
   4795                if (t && t!=ed_struct->ed_contact)
   4796                {
   4797                  GeneralFunc_flag1(edchat_id,1);
   4798                  CreateEditChat(t);
   4799                }
   4800                break;
   4801              default:
   4802                i-=2;
   4803                if (i<ed_struct->loaded_templates)
   \                     ??ed_options_handler_6:
   \   000000BC   100094E5           LDR      R0,[R4, #+16]
   \   000000C0   026046E2           SUB      R6,R6,#+2
   \   000000C4   000056E1           CMP      R6,R0
   \   000000C8   360000AA           BGE      ??ed_options_handler_3
   4804                {
   4805          	EDITCONTROL ec;
   4806          	WSHDR *ed_ws;
   4807          	int c;
   4808          	char *p=templates_lines[i];
   \   000000CC   3C0195E5           LDR      R0,[R5, #+316]
   4809          	ExtractEditControl(ed_struct->ed_chatgui,ed_struct->ed_answer,&ec);
   \   000000D0   081094E5           LDR      R1,[R4, #+8]
   \   000000D4   065190E7           LDR      R5,[R0, +R6, LSL #+2]
   \   000000D8   040094E5           LDR      R0,[R4, #+4]
   \   000000DC   0D20A0E1           MOV      R2,SP
   \   000000E0   690100EF           SWI      +361
   4810          	ed_ws=AllocWS(ec.pWS->wsbody[0]+strlen(p));
   \   000000E4   0500A0E1           MOV      R0,R5
   \   000000E8   1B0000EF           SWI      +27
   \   000000EC   28109DE5           LDR      R1,[SP, #+40]
   \   000000F0   001091E5           LDR      R1,[R1, #+0]
   \   000000F4   B010D1E1           LDRH     R1,[R1, #+0]
   \   000000F8   010080E0           ADD      R0,R0,R1
   \   000000FC   250100EF           SWI      +293
   4811          	wstrcpy(ed_ws,ec.pWS);
   \   00000100   28109DE5           LDR      R1,[SP, #+40]
   \   00000104   0060A0E1           MOV      R6,R0
   \   00000108   1F0100EF           SWI      +287
   4812                  if (EDIT_GetFocus(ed_struct->ed_chatgui)==ed_struct->ed_answer)
   \   0000010C   040094E5           LDR      R0,[R4, #+4]
   \   00000110   820100EF           SWI      +386
   \   00000114   081094E5           LDR      R1,[R4, #+8]
   \   00000118   010050E1           CMP      R0,R1
   \   0000011C   1800001A           BNE      ??ed_options_handler_8
   4813                  {
   4814                    int pos=EDIT_GetCursorPos(ed_struct->ed_chatgui);
   \   00000120   040094E5           LDR      R0,[R4, #+4]
   \   00000124   D30100EF           SWI      +467
   \   00000128   0070A0E1           MOV      R7,R0
   \   0000012C   050000EA           B        ??ed_options_handler_9
   4815                    while(c=*p++)
   4816                    {
   4817                      wsInsertChar(ed_ws,char8to16(c),pos++);
   \                     ??ed_options_handler_10:
   \   00000130   ........           _BLF     char8to16,??char8to16??rA
   \   00000134   0010A0E1           MOV      R1,R0
   \   00000138   0720A0E1           MOV      R2,R7
   \   0000013C   0600A0E1           MOV      R0,R6
   \   00000140   1D0000EF           SWI      +29
   \   00000144   017087E2           ADD      R7,R7,#+1
   4818                    }
   \                     ??ed_options_handler_9:
   \   00000148   ........           LDRB     R0,[R5], #+1
   \   0000014C   000050E3           CMP      R0,#+0
   \   00000150   F6FFFF1A           BNE      ??ed_options_handler_10
   4819                    EDIT_SetTextToEditControl(ed_struct->ed_chatgui,ed_struct->ed_answer,ed_ws);
   \   00000154   081094E5           LDR      R1,[R4, #+8]
   \   00000158   040094E5           LDR      R0,[R4, #+4]
   \   0000015C   0620A0E1           MOV      R2,R6
   \   00000160   DE0100EF           SWI      +478
   4820                    EDIT_SetCursorPos(ed_struct->ed_chatgui,pos);
   \   00000164   040094E5           LDR      R0,[R4, #+4]
   \   00000168   0710A0E1           MOV      R1,R7
   \   0000016C   D40100EF           SWI      +468
   \   00000170   0A0000EA           B        ??ed_options_handler_11
   4821                  }
   4822                  else
   4823                  {
   4824                    while(c=*p++)
   4825                    {
   4826                      wsAppendChar(ed_ws,char8to16(c));
   \                     ??ed_options_handler_12:
   \   00000174   ........           _BLF     char8to16,??char8to16??rA
   \   00000178   0010A0E1           MOV      R1,R0
   \   0000017C   0600A0E1           MOV      R0,R6
   \   00000180   1C0000EF           SWI      +28
   4827                    }
   \                     ??ed_options_handler_8:
   \   00000184   ........           LDRB     R0,[R5], #+1
   \   00000188   000050E3           CMP      R0,#+0
   \   0000018C   F8FFFF1A           BNE      ??ed_options_handler_12
   4828                    EDIT_SetTextToEditControl(ed_struct->ed_chatgui,ed_struct->ed_answer,ed_ws);
   \   00000190   081094E5           LDR      R1,[R4, #+8]
   \   00000194   040094E5           LDR      R0,[R4, #+4]
   \   00000198   0620A0E1           MOV      R2,R6
   \   0000019C   DE0100EF           SWI      +478
   4829                  }
   4830          	FreeWS(ed_ws);
   \                     ??ed_options_handler_11:
   \   000001A0   0600A0E1           MOV      R0,R6
   \   000001A4   290100EF           SWI      +297
   4831                }
   4832                break;
   4833              }
   4834            }
   4835          }
   \                     ??ed_options_handler_3:
   \   000001A8   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   000001AC   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??ed_options_handler_1:
   \   000001B0   ........           DC32     `?<Constant "\\321\\353\\345\\344\\363\\376\\371\\350\\3`
   4836          /*
   4837          void ParseAnswer(WSHDR *ws, const char *s)
   4838          {
   4839            S_SMILES *t;
   4840            S_SMILES *t_root=(S_SMILES *)s_top;
   4841            STXT_SMILES *st;
   4842            unsigned int wchar;
   4843            unsigned int ulb=s[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24);
   4844            CutWSTR(ws,0);
   4845            int i;
   4846            while(wchar=*s)
   4847            {
   4848              t=t_root;
   4849              while(t)
   4850              {
   4851                st=t->lines;
   4852                while(st)
   4853                {
   4854          	if ((ulb&st->mask)==st->key)
   4855          	{
   4856          	  if (!strncmp(s,st->text,strlen(st->text))) goto L1;
   4857          	}
   4858          	st=st->next;
   4859                }
   4860                t=t->next;
   4861              }
   4862            L1:
   4863              if (t)
   4864              {
   4865                wchar=t->uni_smile;
   4866                s+=strlen(st->text);
   4867                ulb=s[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24);
   4868              }
   4869              else
   4870              {
   4871                wchar=char8to16(wchar);
   4872                s++;
   4873                ulb>>=8;
   4874                ulb+=s[3]<<24;
   4875              }
   4876              if (wchar!=10) wsAppendChar(ws,wchar);
   4877            }
   4878            i=ws->wsbody[0];
   4879            while(i>1)
   4880            {
   4881              if (ws->wsbody[i--]!=13) break;
   4882              ws->wsbody[0]=i;
   4883            }
   4884          }
   4885          */
   4886          

   \                                 In segment CODE, align 4, keep-with-next
   4887          unsigned short * wstrstr(unsigned short *ws, char *str, int *wslen, int len)
   4888          {
   \                     wstrstr:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   0070A0E1           MOV      R7,R0
   \   00000008   0140A0E1           MOV      R4,R1
   \   0000000C   0250A0E1           MOV      R5,R2
   \   00000010   0360A0E1           MOV      R6,R3
   \   00000014   030000EA           B        ??wstrstr_0
   4889            char *s;
   4890            unsigned short *w;
   4891            int l;
   4892           
   4893            while(*wslen >= len)
   4894            {
   4895              s = str;
   4896              w = ws;
   4897              l = len;
   4898              for(; (char16to8(*w) == *s) && l; w++, s++, l--);     
   4899              if(!l) return ws;
   4900              ws++;
   4901              (*wslen)--;
   \                     ??wstrstr_1:
   \   00000018   000095E5           LDR      R0,[R5, #+0]
   \   0000001C   027087E2           ADD      R7,R7,#+2
   \   00000020   010040E2           SUB      R0,R0,#+1
   \   00000024   000085E5           STR      R0,[R5, #+0]
   \                     ??wstrstr_0:
   \   00000028   000095E5           LDR      R0,[R5, #+0]
   \   0000002C   060050E1           CMP      R0,R6
   \   00000030   0F0000BA           BLT      ??wstrstr_2
   \   00000034   0480A0E1           MOV      R8,R4
   \   00000038   0790A0E1           MOV      R9,R7
   \   0000003C   06A0A0E1           MOV      R10,R6
   \   00000040   000000EA           B        ??wstrstr_3
   \                     ??wstrstr_4:
   \   00000044   01A04AE2           SUB      R10,R10,#+1
   \                     ??wstrstr_3:
   \   00000048   ........           LDRH     R0,[R9], #+2
   \   0000004C   ........           _BLF     char16to8,??char16to8??rA
   \   00000050   ........           LDRB     R1,[R8], #+1
   \   00000054   010050E1           CMP      R0,R1
   \   00000058   0100001A           BNE      ??wstrstr_5
   \   0000005C   00005AE3           CMP      R10,#+0
   \   00000060   F7FFFF1A           BNE      ??wstrstr_4
   \                     ??wstrstr_5:
   \   00000064   00005AE3           CMP      R10,#+0
   \   00000068   EAFFFF1A           BNE      ??wstrstr_1
   \   0000006C   0700A0E1           MOV      R0,R7
   \   00000070   F087BDE8           POP      {R4-R10,PC}
   4902            }
   4903            return 0;
   \                     ??wstrstr_2:
   \   00000074   0000A0E3           MOV      R0,#+0
   \   00000078   F087BDE8           POP      {R4-R10,PC}      ;; return
   4904            
   4905          }
   4906          

   \                                 In segment CODE, align 4, keep-with-next
   4907          int IsUrl(WSHDR *ws, int pos, char *link)
   4908          {
   \                     IsUrl:
   \   00000000   F14F2DE9           PUSH     {R0,R4-R11,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0150A0E1           MOV      R5,R1
   4909            const char *valid = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$-_.+!*'(),%;:@&=/?абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ";
   4910          
   4911            int len = wstrlen(ws);
   4912            unsigned short *str = ws->wsbody+1, *tmp, *begin;
   4913            tmp = str;
   4914            
   4915            begin = str = wstrstr(str, "http://", &len, 7);
   \   0000000C   ........           LDR      R7,??DataTable190  ;; `?<Constant "abcdefghijklmnopqrstu...">`
   \   00000010   0260A0E1           MOV      R6,R2
   \   00000014   230100EF           SWI      +291
   \   00000018   00008DE5           STR      R0,[SP, #+0]
   \   0000001C   04009DE5           LDR      R0,[SP, #+4]
   \   00000020   0730A0E3           MOV      R3,#+7
   \   00000024   000090E5           LDR      R0,[R0, #+0]
   \   00000028   0D20A0E1           MOV      R2,SP
   \   0000002C   028080E2           ADD      R8,R0,#+2
   \   00000030   941087E2           ADD      R1,R7,#+148
   \   00000034   0800A0E1           MOV      R0,R8
   \   00000038   ........           BL       wstrstr
   \   0000003C   00B0A0E1           MOV      R11,R0
   \   00000040   0040A0E1           MOV      R4,R0
   \   00000044   A890A0E1           LSR      R9,R8,#+1
   \   00000048   02A045E2           SUB      R10,R5,#+2
   \   0000004C   060000EA           B        ??IsUrl_0
   4916          
   4917            while(str && (begin-tmp <= pos))
   4918            {
   4919              while(len && strchr(valid, char16to8(*str))) {str++; len--;}
   4920              if(str-tmp >= pos-2)
   4921              {
   4922                for(;begin < str; begin++, link++)
   4923                  *link = char16to8(*begin);
   4924                link[str-begin] = 0;
   4925                return 1;
   4926              }
   4927              begin = str = wstrstr(str, "http://", &len, 7);
   \                     ??IsUrl_1:
   \   00000050   0730A0E3           MOV      R3,#+7
   \   00000054   0D20A0E1           MOV      R2,SP
   \   00000058   941087E2           ADD      R1,R7,#+148
   \   0000005C   0B00A0E1           MOV      R0,R11
   \   00000060   ........           BL       wstrstr
   \   00000064   00B0A0E1           MOV      R11,R0
   \   00000068   0040A0E1           MOV      R4,R0
   \                     ??IsUrl_0:
   \   0000006C   00005BE3           CMP      R11,#+0
   \   00000070   0200000A           BEQ      ??IsUrl_2
   \   00000074   A40069E0           RSB      R0,R9,R4, LSR #+1
   \   00000078   000055E1           CMP      R5,R0
   \   0000007C   0B0000AA           BGE      ??IsUrl_3
   4928            }
   4929          
   4930            len = wstrlen(ws);
   \                     ??IsUrl_2:
   \   00000080   04009DE5           LDR      R0,[SP, #+4]
   \   00000084   230100EF           SWI      +291
   \   00000088   00008DE5           STR      R0,[SP, #+0]
   4931            begin = str = wstrstr(tmp, "www.", &len, 4);
   \   0000008C   0430A0E3           MOV      R3,#+4
   \   00000090   0D20A0E1           MOV      R2,SP
   \   00000094   9C1087E2           ADD      R1,R7,#+156
   \   00000098   0800A0E1           MOV      R0,R8
   \   0000009C   200000EA           B        ??IsUrl_4
   \                     ??IsUrl_5:
   \   000000A0   00109DE5           LDR      R1,[SP, #+0]
   \   000000A4   02B08BE2           ADD      R11,R11,#+2
   \   000000A8   011041E2           SUB      R1,R1,#+1
   \   000000AC   00108DE5           STR      R1,[SP, #+0]
   \                     ??IsUrl_3:
   \   000000B0   00009DE5           LDR      R0,[SP, #+0]
   \   000000B4   000050E3           CMP      R0,#+0
   \   000000B8   0600000A           BEQ      ??IsUrl_6
   \   000000BC   B000DBE1           LDRH     R0,[R11, #+0]
   \   000000C0   ........           _BLF     char16to8,??char16to8??rA
   \   000000C4   0010A0E1           MOV      R1,R0
   \   000000C8   0700A0E1           MOV      R0,R7
   \   000000CC   180000EF           SWI      +24
   \   000000D0   000050E3           CMP      R0,#+0
   \   000000D4   F1FFFF1A           BNE      ??IsUrl_5
   \                     ??IsUrl_6:
   \   000000D8   AB0069E0           RSB      R0,R9,R11, LSR #+1
   \   000000DC   0A0050E1           CMP      R0,R10
   \   000000E0   DAFFFFBA           BLT      ??IsUrl_1
   \                     ??IsUrl_7:
   \   000000E4   0B0054E1           CMP      R4,R11
   \   000000E8   0300002A           BCS      ??IsUrl_8
   \   000000EC   ........           LDRH     R0,[R4], #+2
   \   000000F0   ........           _BLF     char16to8,??char16to8??rA
   \   000000F4   ........           STRB     R0,[R6], #+1
   \   000000F8   F9FFFFEA           B        ??IsUrl_7
   \                     ??IsUrl_8:
   \   000000FC   AB00A0E1           LSR      R0,R11,#+1
   \   00000100   A40040E0           SUB      R0,R0,R4, LSR #+1
   \   00000104   0010A0E3           MOV      R1,#+0
   \   00000108   0610C0E7           STRB     R1,[R0, +R6]
   \   0000010C   0100A0E3           MOV      R0,#+1
   \   00000110   F68FBDE8           POP      {R1,R2,R4-R11,PC}
   4932            while(str && (begin-tmp <= pos))
   4933            {
   4934              while(len && strchr(valid, char16to8(*str))) {str++; len--;}
   4935              if(str-tmp >= pos-2)
   4936              {
   4937                for(;begin < str; begin++, link++)
   4938                  *link = char16to8(*begin);
   4939                link[str-begin] = 0;
   4940                return 1;
   4941              }
   4942              begin = str = wstrstr(str, "www.", &len, 4);
   \                     ??IsUrl_9:
   \   00000114   0430A0E3           MOV      R3,#+4
   \   00000118   0D20A0E1           MOV      R2,SP
   \   0000011C   9C1087E2           ADD      R1,R7,#+156
   \   00000120   0B00A0E1           MOV      R0,R11
   \                     ??IsUrl_4:
   \   00000124   ........           BL       wstrstr
   \   00000128   00B0A0E1           MOV      R11,R0
   \   0000012C   0040A0E1           MOV      R4,R0
   \   00000130   00005BE3           CMP      R11,#+0
   \   00000134   0200000A           BEQ      ??IsUrl_10
   \   00000138   A40069E0           RSB      R0,R9,R4, LSR #+1
   \   0000013C   000055E1           CMP      R5,R0
   \   00000140   050000AA           BGE      ??IsUrl_11
   4943            }
   4944            return 0;
   \                     ??IsUrl_10:
   \   00000144   0000A0E3           MOV      R0,#+0
   \   00000148   F68FBDE8           POP      {R1,R2,R4-R11,PC}  ;; return
   \                     ??IsUrl_12:
   \   0000014C   00109DE5           LDR      R1,[SP, #+0]
   \   00000150   02B08BE2           ADD      R11,R11,#+2
   \   00000154   011041E2           SUB      R1,R1,#+1
   \   00000158   00108DE5           STR      R1,[SP, #+0]
   \                     ??IsUrl_11:
   \   0000015C   00009DE5           LDR      R0,[SP, #+0]
   \   00000160   000050E3           CMP      R0,#+0
   \   00000164   0600000A           BEQ      ??IsUrl_13
   \   00000168   B000DBE1           LDRH     R0,[R11, #+0]
   \   0000016C   ........           _BLF     char16to8,??char16to8??rA
   \   00000170   0010A0E1           MOV      R1,R0
   \   00000174   0700A0E1           MOV      R0,R7
   \   00000178   180000EF           SWI      +24
   \   0000017C   000050E3           CMP      R0,#+0
   \   00000180   F1FFFF1A           BNE      ??IsUrl_12
   \                     ??IsUrl_13:
   \   00000184   AB0069E0           RSB      R0,R9,R11, LSR #+1
   \   00000188   0A0050E1           CMP      R0,R10
   \   0000018C   E0FFFFBA           BLT      ??IsUrl_9
   \                     ??IsUrl_14:
   \   00000190   0B0054E1           CMP      R4,R11
   \   00000194   D8FFFF2A           BCS      ??IsUrl_8
   \   00000198   ........           LDRH     R0,[R4], #+2
   \   0000019C   ........           _BLF     char16to8,??char16to8??rA
   \   000001A0   ........           STRB     R0,[R6], #+1
   \   000001A4   F9FFFFEA           B        ??IsUrl_14
   4945          }
   4946          
   4947          #define UTF16_DIS_UNDERLINE (0xE002)
   4948          #define UTF16_ENA_UNDERLINE (0xE001)
   4949          

   \                                 In segment CODE, align 4, keep-with-next
   4950          void ParseAnswer(WSHDR *ws, const char *s)
   4951          {
   \                     ParseAnswer:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   4952            const char *valid = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$-_.+!*'(),%;:@&=/?абвгдеёжзийклмнопрстуфхцчшщъыьэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ";
   4953            S_SMILES *t;
   4954            S_SMILES *t_root=(S_SMILES *)s_top;
   \   00000008   10029FE5           LDR      R0,??ParseAnswer_0  ;; s_top
   \   0000000C   04D04DE2           SUB      SP,SP,#+4
   \   00000010   006090E5           LDR      R6,[R0, #+0]
   \   00000014   0150A0E1           MOV      R5,R1
   4955            STXT_SMILES *st;
   4956            unsigned int wchar;
   4957            unsigned int ulb=s[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24);
   \   00000018   0000D5E5           LDRB     R0,[R5, #+0]
   \   0000001C   0110D5E5           LDRB     R1,[R5, #+1]
   \   00000020   010480E0           ADD      R0,R0,R1, LSL #+8
   \   00000024   0210D5E5           LDRB     R1,[R5, #+2]
   \   00000028   010880E0           ADD      R0,R0,R1, LSL #+16
   \   0000002C   0310D5E5           LDRB     R1,[R5, #+3]
   \   00000030   018C80E0           ADD      R8,R0,R1, LSL #+24
   4958            CutWSTR(ws,0);
   \   00000034   0010A0E3           MOV      R1,#+0
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   260100EF           SWI      +294
   \   00000040   160000EA           B        ??ParseAnswer_1
   4959            int i;
   4960            while(wchar=*s)
   4961            {
   4962              if(s==strstr(s, "http://") || s == strstr(s, "www."))
   4963              {
   4964                wsAppendChar(ws,UTF16_ENA_UNDERLINE);
   4965                while(*s && strchr(valid, *s))
   4966                {
   4967                  wchar=char8to16(*s);
   \                     ??ParseAnswer_2:
   \   00000044   ........           LDRB     R0,[R5], #+1
   \   00000048   ........           _BLF     char8to16,??char8to16??rA
   4968                  wsAppendChar(ws,wchar);
   \   0000004C   0010A0E1           MOV      R1,R0
   \                     ??ParseAnswer_3:
   \   00000050   0400A0E1           MOV      R0,R4
   \   00000054   1C0000EF           SWI      +28
   4969                  s++;       
   4970                }
   \   00000058   0010D5E5           LDRB     R1,[R5, #+0]
   \   0000005C   000051E3           CMP      R1,#+0
   \   00000060   0300000A           BEQ      ??ParseAnswer_4
   \   00000064   0900A0E1           MOV      R0,R9
   \   00000068   180000EF           SWI      +24
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   F3FFFF1A           BNE      ??ParseAnswer_2
   4971                wsAppendChar(ws,UTF16_DIS_UNDERLINE);
   \                     ??ParseAnswer_4:
   \   00000074   0210A0E3           MOV      R1,#+2
   \   00000078   E01C81E3           ORR      R1,R1,#0xE000
   \   0000007C   0400A0E1           MOV      R0,R4
   \   00000080   1C0000EF           SWI      +28
   4972                ulb=s[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24);
   \   00000084   0000D5E5           LDRB     R0,[R5, #+0]
   \   00000088   0110D5E5           LDRB     R1,[R5, #+1]
   \   0000008C   010480E0           ADD      R0,R0,R1, LSL #+8
   \   00000090   0210D5E5           LDRB     R1,[R5, #+2]
   \   00000094   010880E0           ADD      R0,R0,R1, LSL #+16
   \   00000098   0310D5E5           LDRB     R1,[R5, #+3]
   \   0000009C   018C80E0           ADD      R8,R0,R1, LSL #+24
   4973                continue;
   \                     ??ParseAnswer_1:
   \   000000A0   0070D5E5           LDRB     R7,[R5, #+0]
   \   000000A4   000057E3           CMP      R7,#+0
   \   000000A8   4F00000A           BEQ      ??ParseAnswer_5
   \   000000AC   ........           LDR      R9,??DataTable190  ;; `?<Constant "abcdefghijklmnopqrstu...">`
   \   000000B0   0500A0E1           MOV      R0,R5
   \   000000B4   941089E2           ADD      R1,R9,#+148
   \   000000B8   180100EF           SWI      +280
   \   000000BC   000055E1           CMP      R5,R0
   \   000000C0   0400000A           BEQ      ??ParseAnswer_6
   \   000000C4   9C1089E2           ADD      R1,R9,#+156
   \   000000C8   0500A0E1           MOV      R0,R5
   \   000000CC   180100EF           SWI      +280
   \   000000D0   000055E1           CMP      R5,R0
   \   000000D4   0200001A           BNE      ??ParseAnswer_7
   \                     ??ParseAnswer_6:
   \   000000D8   0110A0E3           MOV      R1,#+1
   \   000000DC   E01C81E3           ORR      R1,R1,#0xE000
   \   000000E0   DAFFFFEA           B        ??ParseAnswer_3
   4974              }
   4975              
   4976              t=t_root;
   \                     ??ParseAnswer_7:
   \   000000E4   0690A0E1           MOV      R9,R6
   \   000000E8   230000EA           B        ??ParseAnswer_8
   4977              while(t)
   4978              {
   4979                st=t->lines;
   4980                while(st)
   4981                {
   4982          	if ((ulb&st->mask)==st->key)
   \                     ??ParseAnswer_9:
   \   000000EC   0B00DAE5           LDRB     R0,[R10, #+11]
   \   000000F0   0A10DAE5           LDRB     R1,[R10, #+10]
   \   000000F4   0620DAE5           LDRB     R2,[R10, #+6]
   \   000000F8   000481E1           ORR      R0,R1,R0, LSL #+8
   \   000000FC   0910DAE5           LDRB     R1,[R10, #+9]
   \   00000100   000481E1           ORR      R0,R1,R0, LSL #+8
   \   00000104   0810DAE5           LDRB     R1,[R10, #+8]
   \   00000108   000481E1           ORR      R0,R1,R0, LSL #+8
   \   0000010C   0710DAE5           LDRB     R1,[R10, #+7]
   \   00000110   080000E0           AND      R0,R0,R8
   \   00000114   011482E1           ORR      R1,R2,R1, LSL #+8
   \   00000118   0520DAE5           LDRB     R2,[R10, #+5]
   \   0000011C   011482E1           ORR      R1,R2,R1, LSL #+8
   \   00000120   0420DAE5           LDRB     R2,[R10, #+4]
   \   00000124   011482E1           ORR      R1,R2,R1, LSL #+8
   \   00000128   010050E1           CMP      R0,R1
   \   0000012C   0700001A           BNE      ??ParseAnswer_10
   4983          	{
   4984          	  if (!strncmp(s,st->text,strlen(st->text))) goto L1;
   \   00000130   0C008AE2           ADD      R0,R10,#+12
   \   00000134   1B0000EF           SWI      +27
   \   00000138   0020A0E1           MOV      R2,R0
   \   0000013C   0C108AE2           ADD      R1,R10,#+12
   \   00000140   0500A0E1           MOV      R0,R5
   \   00000144   150100EF           SWI      +277
   \   00000148   000050E3           CMP      R0,#+0
   \   0000014C   1500000A           BEQ      ??ParseAnswer_11
   4985          	}
   4986          	st=st->next;
   \                     ??ParseAnswer_10:
   \   00000150   0000A0E3           MOV      R0,#+0
   \                     ??ParseAnswer_12:
   \   00000154   0A20D0E7           LDRB     R2,[R0, +R10]
   \   00000158   0D10A0E1           MOV      R1,SP
   \   0000015C   0120C0E7           STRB     R2,[R0, +R1]
   \   00000160   010080E2           ADD      R0,R0,#+1
   \   00000164   040050E3           CMP      R0,#+4
   \   00000168   F9FFFFBA           BLT      ??ParseAnswer_12
   \   0000016C   00A09DE5           LDR      R10,[SP, #+0]
   4987                }
   \                     ??ParseAnswer_13:
   \   00000170   00005AE3           CMP      R10,#+0
   \   00000174   DCFFFF1A           BNE      ??ParseAnswer_9
   4988                t=t->next;
   \   00000178   009099E5           LDR      R9,[R9, #+0]
   \                     ??ParseAnswer_8:
   \   0000017C   000059E3           CMP      R9,#+0
   \   00000180   08A09915           LDRNE    R10,[R9, #+8]
   \   00000184   F9FFFF1A           BNE      ??ParseAnswer_13
   4989              }
   4990            L1:
   4991              if (t)
   4992              {
   4993                wchar=t->uni_smile;
   4994                s+=strlen(st->text);
   4995                ulb=s[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24);
   4996              }
   4997              else
   4998              {
   4999                wchar=char8to16(wchar);
   \   00000188   0700A0E1           MOV      R0,R7
   \   0000018C   ........           _BLF     char8to16,??char8to16??rA
   \   00000190   0070A0E1           MOV      R7,R0
   5000                s++;
   5001                ulb>>=8;
   5002                ulb+=s[3]<<24;
   \   00000194   015085E2           ADD      R5,R5,#+1
   \   00000198   0300D5E5           LDRB     R0,[R5, #+3]
   \   0000019C   000CA0E1           LSL      R0,R0,#+24
   \   000001A0   288480E0           ADD      R8,R0,R8, LSR #+8
   \   000001A4   0A0000EA           B        ??ParseAnswer_14
   5003              }
   \                     ??ParseAnswer_11:
   \   000001A8   047099E5           LDR      R7,[R9, #+4]
   \   000001AC   0C008AE2           ADD      R0,R10,#+12
   \   000001B0   1B0000EF           SWI      +27
   \   000001B4   055080E0           ADD      R5,R0,R5
   \   000001B8   0000D5E5           LDRB     R0,[R5, #+0]
   \   000001BC   0110D5E5           LDRB     R1,[R5, #+1]
   \   000001C0   010480E0           ADD      R0,R0,R1, LSL #+8
   \   000001C4   0210D5E5           LDRB     R1,[R5, #+2]
   \   000001C8   010880E0           ADD      R0,R0,R1, LSL #+16
   \   000001CC   0310D5E5           LDRB     R1,[R5, #+3]
   \   000001D0   018C80E0           ADD      R8,R0,R1, LSL #+24
   5004              if (wchar!=10) wsAppendChar(ws,wchar);
   \                     ??ParseAnswer_14:
   \   000001D4   0A0057E3           CMP      R7,#+10
   \   000001D8   B0FFFF0A           BEQ      ??ParseAnswer_1
   \   000001DC   0710A0E1           MOV      R1,R7
   \   000001E0   0400A0E1           MOV      R0,R4
   \   000001E4   1C0000EF           SWI      +28
   \   000001E8   ACFFFFEA           B        ??ParseAnswer_1
   5005            }
   5006            i=ws->wsbody[0];
   \                     ??ParseAnswer_5:
   \   000001EC   000094E5           LDR      R0,[R4, #+0]
   \   000001F0   B010D0E1           LDRH     R1,[R0, #+0]
   \   000001F4   000000EA           B        ??ParseAnswer_15
   5007            while(i>1)
   5008            {
   5009              if (ws->wsbody[i--]!=13) break;
   5010              ws->wsbody[0]=i;
   \                     ??ParseAnswer_16:
   \   000001F8   B010C0E1           STRH     R1,[R0, #+0]
   \                     ??ParseAnswer_15:
   \   000001FC   020051E3           CMP      R1,#+2
   \   00000200   F187BDB8           POPLT    {R0,R4-R10,PC}
   \   00000204   0120A0E1           MOV      R2,R1
   \   00000208   011042E2           SUB      R1,R2,#+1
   \   0000020C   822080E0           ADD      R2,R0,R2, LSL #+1
   \   00000210   B020D2E1           LDRH     R2,[R2, #+0]
   \   00000214   0D0052E3           CMP      R2,#+13
   \   00000218   F6FFFF0A           BEQ      ??ParseAnswer_16
   5011            }
   5012          }
   \   0000021C   F187BDE8           POP      {R0,R4-R10,PC}   ;; return
   \                     ??ParseAnswer_0:
   \   00000220   ........           DC32     s_top

   \                                 In segment CODE, align 4, keep-with-next
   5013          void SaveAnswer(CLIST *cl, WSHDR *ws)
   5014          {
   \                     SaveAnswer:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0100A0E1           MOV      R0,R1
   5015            char *p=ExtractAnswer(ws);
   \   0000000C   ........           BL       ExtractAnswer
   \   00000010   0050A0E1           MOV      R5,R0
   5016            mfree(cl->answer);
   \   00000014   780094E5           LDR      R0,[R4, #+120]
   \   00000018   150000EF           SWI      +21
   5017            cl->answer=p;
   \   0000001C   785084E5           STR      R5,[R4, #+120]
   5018          }
   \   00000020   3080BDE8           POP      {R4,R5,PC}       ;; return
   5019          

   \                                 In segment CODE, align 4, keep-with-next
   5020          void recon()
   5021          {
   5022            SUBPROC((void*)end_socket);
   \                     recon:
   \   00000000   ........           LDR      R0,??DataTable191  ;; end_socket
   \   00000004   10402DE9           PUSH     {R4,LR}
   5023                GBS_DelTimer(&reconnect_tmr);
   \   00000008   ........           LDR      R4,??DataTable201  ;; S_ICONS
   \   0000000C   710100EF           SWI      +369
   \   00000010   0C00A0E3           MOV      R0,#+12
   \   00000014   600D80E3           ORR      R0,R0,#0x1800
   \   00000018   040080E0           ADD      R0,R0,R4
   \   0000001C   8C0100EF           SWI      +396
   5024                DNR_TRIES=3;
   \   00000020   0300A0E3           MOV      R0,#+3
   \   00000024   900184E5           STR      R0,[R4, #+400]
   5025                SUBPROC((void *)create_connect);
   \   00000028   ........           LDR      R0,??DataTable193  ;; create_connect
   \   0000002C   710100EF           SWI      +369
   5026          }
   \   00000030   1080BDE8           POP      {R4,PC}          ;; return
   5027          

   \                                 In segment CODE, align 4, keep-with-next
   5028          int GetTempName(void)
   5029          {
   \                     GetTempName:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   10D04DE2           SUB      SP,SP,#+16
   5030            static const int DMonth[]={0,31,59,90,120,151,181,212,243,273,304,334,365};
   5031            unsigned long iday;
   5032            TTime tt;
   5033            TDate dd;
   5034            GetDateTime(&dd,&tt);
   \   00000008   08108DE2           ADD      R1,SP,#+8
   \   0000000C   0D00A0E1           MOV      R0,SP
   \   00000010   B40000EF           SWI      +180
   5035            dd.year=dd.year%100;
   \   00000014   00109DE5           LDR      R1,[SP, #+0]
   \   00000018   84209FE5           LDR      R2,??GetTempName_0  ;; 0x51eb851f
   \   0000001C   92318CE0           UMULL    R3,R12,R2,R1
   \   00000020   6430A0E3           MOV      R3,#+100
   \   00000024   ACC2A0E1           LSR      R12,R12,#+5
   \   00000028   930C0CE0           MUL      R12,R3,R12
   5036            iday=365*dd.year+DMonth[dd.month-1]+(dd.day - 1);
   5037            iday=iday+(dd.year>>2);
   \   0000002C   6D20A0E3           MOV      R2,#+109
   \   00000030   0CC041E0           SUB      R12,R1,R12
   \   00000034   00C08DE5           STR      R12,[SP, #+0]
   \   00000038   0400DDE5           LDRB     R0,[SP, #+4]
   \   0000003C   0C10A0E1           MOV      R1,R12
   \   00000040   60C09FE5           LDR      R12,??GetTempName_0+0x4  ;; ??DMonth
   \   00000044   402F82E3           ORR      R2,R2,#0x100
   \   00000048   00318CE0           ADD      R3,R12,R0, LSL #+2
   \   0000004C   043013E5           LDR      R3,[R3, #-4]
   5038            if (dd.month>2||(dd.year&3)>0)
   \   00000050   030050E3           CMP      R0,#+3
   \   00000054   923121E0           MLA      R1,R2,R1,R3
   \   00000058   0520DDE5           LDRB     R2,[SP, #+5]
   \   0000005C   012042E2           SUB      R2,R2,#+1
   \   00000060   011082E0           ADD      R1,R2,R1
   \   00000064   00209DE5           LDR      R2,[SP, #+0]
   \   00000068   221181E0           ADD      R1,R1,R2, LSR #+2
   \   0000006C   0100002A           BCS      ??GetTempName_1
   \   00000070   030012E3           TST      R2,#0x3
   \   00000074   0000000A           BEQ      ??GetTempName_2
   5039              iday++;
   \                     ??GetTempName_1:
   \   00000078   011081E2           ADD      R1,R1,#+1
   5040            iday=(tt.sec+60*(tt.min+60*(tt.hour+24* iday)));
   5041            return iday;
   \                     ??GetTempName_2:
   \   0000007C   0830DDE5           LDRB     R3,[SP, #+8]
   \   00000080   0920DDE5           LDRB     R2,[SP, #+9]
   \   00000084   0A00DDE5           LDRB     R0,[SP, #+10]
   \   00000088   18C0A0E3           MOV      R12,#+24
   \   0000008C   9C3121E0           MLA      R1,R12,R1,R3
   \   00000090   3C30A0E3           MOV      R3,#+60
   \   00000094   932121E0           MLA      R1,R3,R1,R2
   \   00000098   10D08DE2           ADD      SP,SP,#+16
   \   0000009C   930120E0           MLA      R0,R3,R1,R0
   \   000000A0   0080BDE8           POP      {PC}             ;; return
   \                     ??GetTempName_0:
   \   000000A4   1F85EB51           DC32     0x51eb851f
   \   000000A8   ........           DC32     ??DMonth
   5042          }

   \                                 In segment DATA_C, align 4, align-sorted
   \                     ??DMonth:
   \   00000000   000000001F00       DC32 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365
   \              00003B000000
   \              5A0000007800
   \              000097000000
   \              B5000000D400
   \              0000F3000000
   \              110100003001
   \              00004E010000
   \              6D010000    
   5043          
   5044          

   \                                 In segment CODE, align 4, keep-with-next
   5045          int edchat_onkey(GUI *data, GUI_MSG *msg)
   5046          {
   \                     edchat_onkey:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   5047            //-1 - do redraw
   5048            GBS_DelTimer(&tmr_illumination);
   \   00000004   ........           LDR      R6,??DataTable201  ;; S_ICONS
   \   00000008   4CDF4DE2           SUB      SP,SP,#+304
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0170A0E1           MOV      R7,R1
   \   00000014   EC00A0E3           MOV      R0,#+236
   \   00000018   5C0D80E3           ORR      R0,R0,#0x1700
   \   0000001C   060080E0           ADD      R0,R0,R6
   \   00000020   8C0100EF           SWI      +396
   5049            CLIST *t;
   5050            TPKT *p;
   5051            EDITCONTROL ec;
   5052            int len;
   5053            char *s;
   5054            int l=msg->gbsmsg->submess;
   \   00000024   040097E5           LDR      R0,[R7, #+4]
   \   00000028   088090E5           LDR      R8,[R0, #+8]
   5055            EDCHAT_STRUCT *ed_struct=EDIT_GetUserPointer(data);
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   DF0100EF           SWI      +479
   \   00000034   0050A0E1           MOV      R5,R0
   5056            
   5057            if (msg->keys==0xFFF)
   \   00000038   F200D7E1           LDRSH    R0,[R7, #+2]
   \   0000003C   FF10A0E3           MOV      R1,#+255
   \   00000040   F01E81E3           ORR      R1,R1,#0xF00
   \   00000044   010050E1           CMP      R0,R1
   \   00000048   0200001A           BNE      ??edchat_onkey_0
   5058            {
   5059              void ec_menu(EDCHAT_STRUCT *);
   5060              ec_menu(ed_struct);
   \   0000004C   0500A0E1           MOV      R0,R5
   \   00000050   ........           BL       ec_menu
   5061              return(-1);
   \                     ??edchat_onkey_1:
   \   00000054   E70000EA           B        ??edchat_onkey_2
   5062            }
   5063            if (msg->keys==0xFF0)  return (1);
   \                     ??edchat_onkey_0:
   \   00000058   FF0E50E3           CMP      R0,#+4080
   \   0000005C   0100A003           MOVEQ    R0,#+1
   \   00000060   4000000A           BEQ      ??edchat_onkey_3
   \   00000064   040097E5           LDR      R0,[R7, #+4]
   \   00000068   9510A0E3           MOV      R1,#+149
   \   0000006C   040090E5           LDR      R0,[R0, #+4]
   \   00000070   401F81E3           ORR      R1,R1,#0x100
   \   00000074   010050E1           CMP      R0,R1
   \   00000078   2800001A           BNE      ??edchat_onkey_4
   5064          #ifdef EVILFOX
   5065            if (msg->gbsmsg->msg==LONG_PRESS)
   5066            {
   5067            if (l==VOL_DOWN_BUTTON)
   5068              {
   5069                WSHDR *ws;
   5070                ExtractEditControl(data,ed_struct->ed_answer,&ec);
   5071                if(wstrlen(ec.pWS)>0)
   5072                {
   5073                  ws=AllocWS(1);
   5074                  CutWSTR(ws,0);
   5075            
   5076                  EDIT_SetFocus(data,ed_struct->ed_answer);
   5077                  EDIT_SetTextToFocused(ed_struct->ed_chatgui,ws); 
   5078              
   5079                  FreeWS(ws);
   5080                  RefreshGUI();  
   5081                }
   5082              }
   5083            if (l==VOL_UP_BUTTON)
   5084              {
   5085          //      WSHDR *ws=AllocWS(strlen(ed_struct->ed_contact->last_msg_buffer)+1);
   5086          //      ascii2ws(ws,ed_struct->ed_contact->last_msg_buffer);
   5087                WSHDR *ws=AllocWS(strlen(last_msg_buffer)+1);
   5088                ascii2ws(ws,last_msg_buffer);
   5089                EDIT_SetFocus(ed_struct->ed_chatgui,ed_struct->ed_answer);
   5090                EDIT_SetTextToFocused(ed_struct->ed_chatgui,ws);
   5091                FreeWS(ws);
   5092                RefreshGUI();
   5093              }
   5094            }
   5095          #else
   5096            void AddSmile(GUI *data);
   5097            if (msg->gbsmsg->msg==LONG_PRESS)
   5098            {
   5099              if(l==RIGHT_BUTTON)
   \   0000007C   3E0058E3           CMP      R8,#+62
   \   00000080   0200001A           BNE      ??edchat_onkey_5
   5100              {
   5101          //      AddSmile(data);     
   5102               CreateSmileSelectGUI(ed_struct);
   \   00000084   0500A0E1           MOV      R0,R5
   \   00000088   ........           _BLF     CreateSmileSelectGUI,??CreateSmileSelectGUI??rA
   \   0000008C   230000EA           B        ??edchat_onkey_4
   5103               //GeneralFuncF1(1);
   5104              }
   5105              
   5106              /*
   5107              if (l==RIGHT_BUTTON)
   5108              {
   5109                if (EDIT_GetFocus(data)==ed_struct->ed_answer)
   5110                {
   5111          	ExtractEditControl(data,ed_struct->ed_answer,&ec);
   5112          	if (ec.pWS->wsbody[0]==(EDIT_GetCursorPos(data)-1))
   5113          	{
   5114          	  t=FindNextActiveContact(ed_struct->ed_contact);
   5115          	  if (t && t!=ed_struct->ed_contact)
   5116          	  {
   5117          	    CreateEditChat(t);
   5118          	    return(1);
   5119          	  }
   5120          	}
   5121                }
   5122              }*/
   5123          /*    if (l==LEFT_BUTTON)
   5124              {
   5125                if (EDIT_GetFocus(data)==ed_struct->ed_answer)
   5126                {
   5127          	ExtractEditControl(data,ed_struct->ed_answer,&ec);
   5128          	if (ec.pWS->wsbody[0]==(EDIT_GetCursorPos(data)-1))
   5129          	{
   5130          	  t=FindPrevActiveContact(ed_struct->ed_contact);
   5131          	  if (t && t!=ed_struct->ed_contact)
   5132          	  {
   5133          	    CreateEditChat(t);
   5134          	    return(1);
   5135          	  }
   5136          	}
   5137                }
   5138              }*/
   5139          #ifdef ELKA
   5140              if (l==VOL_DOWN_BUTTON)
   \                     ??edchat_onkey_5:
   \   00000090   0E0058E3           CMP      R8,#+14
   \   00000094   0F00001A           BNE      ??edchat_onkey_6
   5141              {
   5142                WSHDR *ws;
   5143                ExtractEditControl(data,ed_struct->ed_answer,&ec);
   \   00000098   081095E5           LDR      R1,[R5, #+8]
   \   0000009C   04208DE2           ADD      R2,SP,#+4
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   690100EF           SWI      +361
   5144                if(wstrlen(ec.pWS)>0)
   \   000000A8   2C009DE5           LDR      R0,[SP, #+44]
   \   000000AC   230100EF           SWI      +291
   \   000000B0   010050E3           CMP      R0,#+1
   \   000000B4   190000BA           BLT      ??edchat_onkey_4
   5145                {
   5146                  ws=AllocWS(1);
   \   000000B8   0100A0E3           MOV      R0,#+1
   \   000000BC   250100EF           SWI      +293
   \   000000C0   0090A0E1           MOV      R9,R0
   5147                  CutWSTR(ws,0);
   \   000000C4   0010A0E3           MOV      R1,#+0
   \   000000C8   260100EF           SWI      +294
   5148            
   5149                  EDIT_SetFocus(data,ed_struct->ed_answer);
   \   000000CC   081095E5           LDR      R1,[R5, #+8]
   \   000000D0   0400A0E1           MOV      R0,R4
   \   000000D4   0A0000EA           B        ??edchat_onkey_7
   5150                  EDIT_SetTextToFocused(ed_struct->ed_chatgui,ws); 
   5151              
   5152                  FreeWS(ws);
   5153                  RefreshGUI();  
   5154                }
   5155              }
   5156              if (l==VOL_UP_BUTTON)
   \                     ??edchat_onkey_6:
   \   000000D8   0D0058E3           CMP      R8,#+13
   \   000000DC   0F00001A           BNE      ??edchat_onkey_4
   5157              {
   5158                WSHDR *ws=AllocWS(strlen(last_msg_buffer)+1);
   \   000000E0   F50F86E2           ADD      R0,R6,#+980
   \   000000E4   1B0000EF           SWI      +27
   \   000000E8   010080E2           ADD      R0,R0,#+1
   \   000000EC   250100EF           SWI      +293
   \   000000F0   0090A0E1           MOV      R9,R0
   5159                ascii2ws(ws,last_msg_buffer);
   \   000000F4   F51F86E2           ADD      R1,R6,#+980
   \   000000F8   ........           _BLF     ascii2ws,??ascii2ws??rA
   5160                EDIT_SetFocus(ed_struct->ed_chatgui,ed_struct->ed_answer);
   \   000000FC   081095E5           LDR      R1,[R5, #+8]
   \   00000100   040095E5           LDR      R0,[R5, #+4]
   \                     ??edchat_onkey_7:
   \   00000104   9B0100EF           SWI      +411
   5161                EDIT_SetTextToFocused(ed_struct->ed_chatgui,ws);
   \   00000108   040095E5           LDR      R0,[R5, #+4]
   \   0000010C   0910A0E1           MOV      R1,R9
   \   00000110   810100EF           SWI      +385
   5162                FreeWS(ws);
   \   00000114   0900A0E1           MOV      R0,R9
   \   00000118   290100EF           SWI      +297
   5163                RefreshGUI();
   \   0000011C   960100EF           SWI      +406
   5164              }
   5165          #endif
   5166                }
   5167          #endif
   5168            if (msg->gbsmsg->msg==KEY_DOWN)
   \                     ??edchat_onkey_4:
   \   00000120   040097E5           LDR      R0,[R7, #+4]
   \   00000124   9310A0E3           MOV      R1,#+147
   \   00000128   040090E5           LDR      R0,[R0, #+4]
   \   0000012C   401F81E3           ORR      R1,R1,#0x100
   \   00000130   010050E1           CMP      R0,R1
   \   00000134   0A00001A           BNE      ??edchat_onkey_8
   5169            {
   5170              if ((l>='0')&&(l<='9'))
   \   00000138   300058E3           CMP      R8,#+48
   \   0000013C   0B0000BA           BLT      ??edchat_onkey_9
   \   00000140   3A0058E3           CMP      R8,#+58
   \   00000144   060000AA           BGE      ??edchat_onkey_8
   5171              {
   5172                if (EDIT_GetFocus(data)!=ed_struct->ed_answer)
   \   00000148   0400A0E1           MOV      R0,R4
   \   0000014C   820100EF           SWI      +386
   \   00000150   081095E5           LDR      R1,[R5, #+8]
   \   00000154   010050E1           CMP      R0,R1
   \   00000158   0100000A           BEQ      ??edchat_onkey_8
   5173          	EDIT_SetFocus(data,ed_struct->ed_answer);
   \   0000015C   0400A0E1           MOV      R0,R4
   \   00000160   9B0100EF           SWI      +411
   5174              }
   5175              if (l==GREEN_BUTTON)
   5176              {
   5177                if (connect_state==3)
   5178                {
   5179          	if ((t=ed_struct->ed_contact))
   5180          	{
   5181                    ExtractEditControl(data,ed_struct->ed_answer,&ec);
   5182                    SaveAnswer(t,ec.pWS);
   5183          	  if ((s=t->answer))
   5184          	  {
   5185          	    if ((len=strlen(s)))
   5186          	    {
   5187                        msg_away_timer=0;
   5188                        away_m=0;
   5189                        automsg=0;
   5190                        
   5191                        if(SHOW_ACTIVE)
   5192          	      t->isactive=ACTIVE_TIME;
   5193          	      p=malloc(sizeof(PKT)+len+1);
   5194          	      p->pkt.uin=t->uin;
   5195          	      p->pkt.type=T_SENDMSG;
   5196          	      p->pkt.data_len=len;
   5197          	      strcpy(p->data,s);
   5198                        /*
   5199          #ifdef EVILFOX
   5200                        strcpy(t->last_msg_buffer, s);
   5201          #else
   5202                        */
   5203          #ifdef ELKA
   5204                        strcpy(last_msg_buffer, s);
   5205          #endif
   5206          	      AddStringToLog(t,0x01,p->data,I_str,(++SENDMSGCOUNT)&0x7FFF); //Номер сообщения
   5207          	      SUBPROC((void *)SendAnswer,0,p);
   5208                        main2_count++;
   5209          	      mfree(t->answer);
   5210          	      t->answer=NULL;
   5211          	      //        request_remake_edchat=1;
   5212          	      EDIT_SetFocus(data,ed_struct->ed_answer);
   5213          	      CutWSTR(ews,0);
   5214          	      EDIT_SetTextToFocused(data,ews);
   5215          	      AddMsgToChat(data);
   5216          	      RecountMenu(t);
   5217          	      return(-1);
   5218          	    }
   5219          	  }
   5220          	}
   5221                }
   5222              }/*
   5223              if (l==ENTER_BUTTON)
   5224              {
   5225                //      t=FindNextActiveContact(ed_struct->ed_contact);
   5226                //      if ((t!=ed_struct->ed_contact) && t)
   5227                {
   5228          	int i=ed_struct->loaded_templates=LoadTemplates(ed_struct->ed_contact->uin);
   5229                  EDIT_OpenOptionMenuWithUserItems(data,ed_options_handler,ed_struct,i+2);
   5230                  return (-1);
   5231                }
   5232              }*/
   5233              char fn[256];
   5234              int f;
   5235              unsigned int err;
   5236              if (l==ENTER_BUTTON)
   5237              {
   5238          
   5239                if (!EDIT_IsMarkModeActive(data))  // Только если не выделение
   5240                {
   5241                  int pos, len;
   5242                  char *link;
   5243                  ExtractEditControl(ed_struct->ed_chatgui,EDIT_GetFocus(ed_struct->ed_chatgui),&ec);
   5244                  wstrcpy(ews,ec.pWS);
   5245                  pos = EDIT_GetCursorPos(data);
   5246                  len = wstrlen(ews);
   5247                  
   5248                  link = malloc(len+1);
   5249                          
   5250                  if(IsUrl(ews, pos, link))
   5251                  {
   5252                    snprintf(fn, 255, "%s\\tmp%u.url", TEMPLATES_PATH, GetTempName);
   5253                    if ((f=fopen(fn,A_WriteOnly+A_BIN+A_Create+A_Truncate,P_WRITE,&err))!=-1)
   5254                    {
   5255                      fwrite(f,link,strlen(link),&err);
   5256                      fclose(f,&err);
   5257                      str_2ws(ews,fn,256);
   5258                      ExecuteFile(ews,0,0);            
   5259                      unlink(fn, &err);
   5260                    }          
   5261                    
   5262          //          LockSched();
   5263          //          ShowMSG(1,(int)link);
   5264          //          UnlockSched();
   5265                    mfree(link);
   5266                    return (-1);
   5267                  }
   5268                  else
   5269                  {
   5270                    int i=ed_struct->loaded_templates=LoadTemplates(ed_struct->ed_contact->uin);
   5271                    EDIT_OpenOptionMenuWithUserItems(data,ed_options_handler,ed_struct,i+2);
   5272                    mfree(link);
   5273                    return (-1);
   5274                  }          
   5275                    
   5276                }
   5277          
   5278              }
   5279              if (l==VOL_UP_BUTTON)
   5280              {
   5281                int pos;
   5282           
   5283                if ((pos=EDIT_GetFocus(data)-2)>=2)
   5284                {
   5285                  EDIT_SetFocus(data, pos);
   5286                  EDIT_SetCursorPos(data, 1);
   5287                }
   5288                return (-1);
   5289              }
   5290              if (l==VOL_DOWN_BUTTON)
   5291              {
   5292                int pos;
   5293          
   5294                if ((pos=EDIT_GetFocus(data)+2)<=ed_struct->ed_answer)
   5295                {
   5296                  EDIT_SetFocus(data, pos);
   5297                  EDIT_SetCursorPos(data, 1);
   5298                }
   5299                return (-1);
   5300              }
   5301            }
   5302            return(0); //Do standart keys
   \                     ??edchat_onkey_8:
   \   00000164   0000A0E3           MOV      R0,#+0
   \                     ??edchat_onkey_3:
   \   00000168   4CDF8DE2           ADD      SP,SP,#+304      ;; stack cleaning
   \   0000016C   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??edchat_onkey_9:
   \   00000170   0B0058E3           CMP      R8,#+11
   \   00000174   5000001A           BNE      ??edchat_onkey_10
   \   00000178   440196E5           LDR      R0,[R6, #+324]
   \   0000017C   030050E3           CMP      R0,#+3
   \   00000180   F7FFFF1A           BNE      ??edchat_onkey_8
   \   00000184   007095E5           LDR      R7,[R5, #+0]
   \   00000188   000057E3           CMP      R7,#+0
   \   0000018C   F4FFFF0A           BEQ      ??edchat_onkey_8
   \   00000190   081095E5           LDR      R1,[R5, #+8]
   \   00000194   04208DE2           ADD      R2,SP,#+4
   \   00000198   0400A0E1           MOV      R0,R4
   \   0000019C   690100EF           SWI      +361
   \   000001A0   2C109DE5           LDR      R1,[SP, #+44]
   \   000001A4   0700A0E1           MOV      R0,R7
   \   000001A8   ........           BL       SaveAnswer
   \   000001AC   78A097E5           LDR      R10,[R7, #+120]
   \   000001B0   00005AE3           CMP      R10,#+0
   \   000001B4   EAFFFF0A           BEQ      ??edchat_onkey_8
   \   000001B8   0A00A0E1           MOV      R0,R10
   \   000001BC   1B0000EF           SWI      +27
   \   000001C0   00B0B0E1           MOVS     R11,R0
   \   000001C4   E6FFFF0A           BEQ      ??edchat_onkey_8
   \   000001C8   ........           LDR      R0,??DataTable195  ;; SHOW_ACTIVE
   \   000001CC   0080A0E3           MOV      R8,#+0
   \   000001D0   000090E5           LDR      R0,[R0, #+0]
   \   000001D4   E08086E5           STR      R8,[R6, #+224]
   \   000001D8   E88086E5           STR      R8,[R6, #+232]
   \   000001DC   108186E5           STR      R8,[R6, #+272]
   \   000001E0   000050E3           CMP      R0,#+0
   \   000001E4   5A0FA013           MOVNE    R0,#+360
   \   000001E8   80008715           STRNE    R0,[R7, #+128]
   \   000001EC   09008BE2           ADD      R0,R11,#+9
   \   000001F0   140000EF           SWI      +20
   \   000001F4   0090A0E1           MOV      R9,R0
   \   000001F8   0C0097E5           LDR      R0,[R7, #+12]
   \   000001FC   0A10A0E1           MOV      R1,R10
   \   00000200   000089E5           STR      R0,[R9, #+0]
   \   00000204   0200A0E3           MOV      R0,#+2
   \   00000208   B400C9E1           STRH     R0,[R9, #+4]
   \   0000020C   B6B0C9E1           STRH     R11,[R9, #+6]
   \   00000210   080089E2           ADD      R0,R9,#+8
   \   00000214   1A0000EF           SWI      +26
   \   00000218   0A10A0E1           MOV      R1,R10
   \   0000021C   F50F86E2           ADD      R0,R6,#+980
   \   00000220   1A0000EF           SWI      +26
   \   00000224   D00096E5           LDR      R0,[R6, #+208]
   \   00000228   ........           LDR      R3,??DataTable223  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 31
   \   0000022C   010080E2           ADD      R0,R0,#+1
   \   00000230   D00086E5           STR      R0,[R6, #+208]
   \   00000234   8008A0E1           LSL      R0,R0,#+17
   \   00000238   A008A0E1           LSR      R0,R0,#+17
   \   0000023C   01002DE9           PUSH     {R0}
   \   00000240   082089E2           ADD      R2,R9,#+8
   \   00000244   0110A0E3           MOV      R1,#+1
   \   00000248   0700A0E1           MOV      R0,R7
   \   0000024C   ........           BL       AddStringToLog
   \   00000250   ........           LDR      R0,??DataTable227  ;; SendAnswer
   \   00000254   0920A0E1           MOV      R2,R9
   \   00000258   0010A0E3           MOV      R1,#+0
   \   0000025C   710100EF           SWI      +369
   \   00000260   ........           LDR      R0,??DataTable198  ;; main2_count
   \   00000264   001090E5           LDR      R1,[R0, #+0]
   \   00000268   011081E2           ADD      R1,R1,#+1
   \   0000026C   001080E5           STR      R1,[R0, #+0]
   \   00000270   780097E5           LDR      R0,[R7, #+120]
   \   00000274   150000EF           SWI      +21
   \   00000278   788087E5           STR      R8,[R7, #+120]
   \   0000027C   081095E5           LDR      R1,[R5, #+8]
   \   00000280   0400A0E1           MOV      R0,R4
   \   00000284   9B0100EF           SWI      +411
   \   00000288   DC0096E5           LDR      R0,[R6, #+220]
   \   0000028C   0810A0E1           MOV      R1,R8
   \   00000290   260100EF           SWI      +294
   \   00000294   DC1096E5           LDR      R1,[R6, #+220]
   \   00000298   0400A0E1           MOV      R0,R4
   \   0000029C   810100EF           SWI      +385
   \   000002A0   0400A0E1           MOV      R0,R4
   \   000002A4   ........           BL       AddMsgToChat
   \   000002A8   0700A0E1           MOV      R0,R7
   \   000002AC   ........           BL       RecountMenu
   \   000002B0   0800E0E1           MVN      R0,R8
   \   000002B4   04D08DE2           ADD      SP,SP,#+4
   \   000002B8   4F0000EA           B        ??edchat_onkey_11
   \                     ??edchat_onkey_10:
   \   000002BC   1A0058E3           CMP      R8,#+26
   \   000002C0   4F00001A           BNE      ??edchat_onkey_12
   \   000002C4   0400A0E1           MOV      R0,R4
   \   000002C8   D80100EF           SWI      +472
   \   000002CC   000050E3           CMP      R0,#+0
   \   000002D0   A3FFFF1A           BNE      ??edchat_onkey_8
   \   000002D4   040095E5           LDR      R0,[R5, #+4]
   \   000002D8   820100EF           SWI      +386
   \   000002DC   04208DE2           ADD      R2,SP,#+4
   \   000002E0   0010A0E1           MOV      R1,R0
   \   000002E4   040095E5           LDR      R0,[R5, #+4]
   \   000002E8   690100EF           SWI      +361
   \   000002EC   DC0096E5           LDR      R0,[R6, #+220]
   \   000002F0   2C109DE5           LDR      R1,[SP, #+44]
   \   000002F4   1F0100EF           SWI      +287
   \   000002F8   0400A0E1           MOV      R0,R4
   \   000002FC   D30100EF           SWI      +467
   \   00000300   0080A0E1           MOV      R8,R0
   \   00000304   DC0096E5           LDR      R0,[R6, #+220]
   \   00000308   230100EF           SWI      +291
   \   0000030C   010080E2           ADD      R0,R0,#+1
   \   00000310   140000EF           SWI      +20
   \   00000314   0070A0E1           MOV      R7,R0
   \   00000318   DC0096E5           LDR      R0,[R6, #+220]
   \   0000031C   0720A0E1           MOV      R2,R7
   \   00000320   0810A0E1           MOV      R1,R8
   \   00000324   ........           BL       IsUrl
   \   00000328   000050E3           CMP      R0,#+0
   \   0000032C   2600000A           BEQ      ??edchat_onkey_13
   \   00000330   20019FE5           LDR      R0,??edchat_onkey_14  ;; GetTempName
   \   00000334   ........           LDR      R3,??DataTable199  ;; TEMPLATES_PATH
   \   00000338   1C219FE5           LDR      R2,??edchat_onkey_14+0x4  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 1236
   \   0000033C   01002DE9           PUSH     {R0}
   \   00000340   FF10A0E3           MOV      R1,#+255
   \   00000344   34008DE2           ADD      R0,SP,#+52
   \   00000348   1B0100EF           SWI      +283
   \   0000034C   04308DE2           ADD      R3,SP,#+4
   \   00000350   402FA0E3           MOV      R2,#+256
   \   00000354   0110A0E3           MOV      R1,#+1
   \   00000358   831C81E3           ORR      R1,R1,#0x8300
   \   0000035C   34008DE2           ADD      R0,SP,#+52
   \   00000360   0A0000EF           SWI      +10
   \   00000364   0040A0E1           MOV      R4,R0
   \   00000368   010074E3           CMN      R4,#+1
   \   0000036C   04D08DE2           ADD      SP,SP,#+4
   \   00000370   1E00000A           BEQ      ??edchat_onkey_15
   \   00000374   0700A0E1           MOV      R0,R7
   \   00000378   1B0000EF           SWI      +27
   \   0000037C   0020A0E1           MOV      R2,R0
   \   00000380   0D30A0E1           MOV      R3,SP
   \   00000384   0710A0E1           MOV      R1,R7
   \   00000388   0400A0E1           MOV      R0,R4
   \   0000038C   0C0000EF           SWI      +12
   \   00000390   0D10A0E1           MOV      R1,SP
   \   00000394   0400A0E1           MOV      R0,R4
   \   00000398   0D0000EF           SWI      +13
   \   0000039C   DC0096E5           LDR      R0,[R6, #+220]
   \   000003A0   402FA0E3           MOV      R2,#+256
   \   000003A4   30108DE2           ADD      R1,SP,#+48
   \   000003A8   6C0100EF           SWI      +364
   \   000003AC   DC0096E5           LDR      R0,[R6, #+220]
   \   000003B0   0020A0E3           MOV      R2,#+0
   \   000003B4   0010A0E3           MOV      R1,#+0
   \   000003B8   940000EF           SWI      +148
   \   000003BC   0D10A0E1           MOV      R1,SP
   \   000003C0   30008DE2           ADD      R0,SP,#+48
   \   000003C4   6B0100EF           SWI      +363
   \                     ??edchat_onkey_16:
   \   000003C8   080000EA           B        ??edchat_onkey_15
   \                     ??edchat_onkey_13:
   \   000003CC   000095E5           LDR      R0,[R5, #+0]
   \   000003D0   0C0090E5           LDR      R0,[R0, #+12]
   \   000003D4   ........           BL       LoadTemplates
   \   000003D8   80109FE5           LDR      R1,??edchat_onkey_14+0x8  ;; ed_options_handler
   \   000003DC   100085E5           STR      R0,[R5, #+16]
   \   000003E0   023080E2           ADD      R3,R0,#+2
   \   000003E4   0520A0E1           MOV      R2,R5
   \   000003E8   0400A0E1           MOV      R0,R4
   \   000003EC   E50100EF           SWI      +485
   \                     ??edchat_onkey_15:
   \   000003F0   0700A0E1           MOV      R0,R7
   \   000003F4   150000EF           SWI      +21
   \                     ??edchat_onkey_2:
   \   000003F8   0000E0E3           MVN      R0,#+0
   \                     ??edchat_onkey_11:
   \   000003FC   4CDF8DE2           ADD      SP,SP,#+304
   \   00000400   F08FBDE8           POP      {R4-R11,PC}
   \                     ??edchat_onkey_12:
   \   00000404   0D0058E3           CMP      R8,#+13
   \   00000408   0A00001A           BNE      ??edchat_onkey_17
   \   0000040C   0400A0E1           MOV      R0,R4
   \   00000410   820100EF           SWI      +386
   \   00000414   021040E2           SUB      R1,R0,#+2
   \   00000418   020051E3           CMP      R1,#+2
   \                     ??edchat_onkey_18:
   \   0000041C   F5FFFFBA           BLT      ??edchat_onkey_2
   \   00000420   0400A0E1           MOV      R0,R4
   \   00000424   9B0100EF           SWI      +411
   \   00000428   0110A0E3           MOV      R1,#+1
   \   0000042C   0400A0E1           MOV      R0,R4
   \   00000430   D40100EF           SWI      +468
   \   00000434   EFFFFFEA           B        ??edchat_onkey_2
   \                     ??edchat_onkey_17:
   \   00000438   0E0058E3           CMP      R8,#+14
   \   0000043C   48FFFF1A           BNE      ??edchat_onkey_8
   \   00000440   0400A0E1           MOV      R0,R4
   \   00000444   820100EF           SWI      +386
   \   00000448   021080E2           ADD      R1,R0,#+2
   \   0000044C   080095E5           LDR      R0,[R5, #+8]
   \   00000450   010050E1           CMP      R0,R1
   \   00000454   F0FFFFEA           B        ??edchat_onkey_18
   \                     ??edchat_onkey_14:
   \   00000458   ........           DC32     GetTempName
   \   0000045C   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 1236
   \   00000460   ........           DC32     ed_options_handler
   5303            //1: close
   5304          }
   5305          
   5306          static const HEADER_DESC edchat_hdr={0,0,NULL,NULL,NULL,0,LGP_NULL};
   5307          
   5308          void (*old_ed_redraw)(void *data);

   \                                 In segment CODE, align 4, keep-with-next
   5309          void my_ed_redraw(void *data)
   5310          {
   \                     my_ed_redraw:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   5311            void *edchat_gui;
   5312            EDCHAT_STRUCT *ed_struct;
   5313            if (old_ed_redraw) old_ed_redraw(data);
   \   00000004   ........           LDR      R4,??DataTable202  ;; S_ICONS
   \   00000008   B01194E5           LDR      R1,[R4, #+432]
   \   0000000C   000051E3           CMP      R1,#+0
   \   00000010   0100000A           BEQ      ??my_ed_redraw_0
   \   00000014   31FF2FE1           BLX      R1
   5314            edchat_gui=FindGUIbyId(edchat_id,NULL);
   \   00000018   0010A0E3           MOV      R1,#+0
   \                     ??my_ed_redraw_0:
   \   0000001C   740194E5           LDR      R0,[R4, #+372]
   \   00000020   090200EF           SWI      +521
   5315            if (edchat_gui)
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   3080BD08           POPEQ    {R4,R5,PC}
   5316            {
   5317              ed_struct=EDIT_GetUserPointer(edchat_gui);
   \   0000002C   DF0100EF           SWI      +479
   5318              if (ed_struct)
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   3080BD08           POPEQ    {R4,R5,PC}
   5319              {
   5320                int icon, width;
   5321          #ifndef	NEWSGOLD
   5322                icon=*(S_ICONS+GetIconIndex(ed_struct->ed_contact));
   5323                ((HEADER_DESC *)&edchat_hdr)->rc.x2=ScreenW()-1-(width=GetImgWidth(icon));
   5324                DrawImg(ScreenW()-1-width,1,icon);
   5325          #else
   5326                icon=*(S_ICONS+GetIconIndex(ed_struct->ed_contact));
   \   00000038   000090E5           LDR      R0,[R0, #+0]
   \   0000003C   ........           BL       GetIconIndex
   \   00000040   004194E7           LDR      R4,[R4, +R0, LSL #+2]
   5327                width=GetImgWidth(icon);
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   220000EF           SWI      +34
   \   0000004C   0050A0E1           MOV      R5,R0
   5328                DrawImg(2,((HeaderH()-width)>>1)+YDISP,icon);
   \   00000050   8A8100EF           SWI      +33162
   \   00000054   0420A0E1           MOV      R2,R4
   \   00000058   050040E0           SUB      R0,R0,R5
   \   0000005C   1810A0E3           MOV      R1,#+24
   \   00000060   C01081E0           ADD      R1,R1,R0, ASR #+1
   \   00000064   0200A0E3           MOV      R0,#+2
   \   00000068   230000EF           SWI      +35
   5329          /*      DrawRoundedFrame(ScreenW()-8,YDISP,ScreenW()-1,YDISP+7,0,0,0,
   5330          		       GetPaletteAdrByColorIndex(0),
   5331          		       GetPaletteAdrByColorIndex(EDIT_IsBusy(edchat_gui)?3:4));*/
   5332          #endif
   5333              }
   5334            }  
   5335          }
   \   0000006C   3080BDE8           POP      {R4,R5,PC}       ;; return
   5336          

   \                                 In segment CODE, align 4, keep-with-next
   5337          void edchat_ghook(GUI *data, int cmd)
   5338          {
   \                     edchat_ghook:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   5339            
   5340            static const SOFTKEY_DESC sk={0x0FFF,0x0000,(int)LG_MENU};
   5341            static const SOFTKEY_DESC sk_cancel={0x0FF0,0x0000,(int)LG_CLOSE};
   5342            //  static SOFTKEY_DESC sk={0x0018,0x0000,(int)"Menu"};
   5343            int j;
   5344            EDITCONTROL ec;
   5345            EDCHAT_STRUCT *ed_struct=EDIT_GetUserPointer(data);
   5346            PNGTOP_DESC *pltop=PNG_TOP();
   5347            if (cmd==9)
   \   00000004   ........           LDR      R4,??DataTable201  ;; S_ICONS
   \   00000008   2CD04DE2           SUB      SP,SP,#+44
   \   0000000C   0050A0E1           MOV      R5,R0
   \   00000010   0190A0E1           MOV      R9,R1
   \   00000014   DF0100EF           SWI      +479
   \   00000018   0070A0E1           MOV      R7,R0
   \   0000001C   B98100EF           SWI      +33209
   \   00000020   0080A0E1           MOV      R8,R0
   \   00000024   0060A0E3           MOV      R6,#+0
   \   00000028   090059E3           CMP      R9,#+9
   \   0000002C   0500001A           BNE      ??edchat_ghook_0
   5348            {
   5349              GBS_DelTimer(&tmr_illumination);          //by BoBa 25.06.07
   \   00000030   EC00A0E3           MOV      R0,#+236
   \   00000034   5C0D80E3           ORR      R0,R0,#0x1700
   \   00000038   040080E0           ADD      R0,R0,R4
   \   0000003C   8C0100EF           SWI      +396
   5350              pltop->dyn_pltop=NULL;
   \   00000040   086088E5           STR      R6,[R8, #+8]
   \   00000044   170000EA           B        ??edchat_ghook_1
   5351            }
   5352            if (cmd==2)
   \                     ??edchat_ghook_0:
   \   00000048   081097E5           LDR      R1,[R7, #+8]
   \   0000004C   020059E3           CMP      R9,#+2
   \   00000050   1600001A           BNE      ??edchat_ghook_2
   5353            {
   5354              ed_struct->ed_chatgui=data;
   \   00000054   045087E5           STR      R5,[R7, #+4]
   5355          //    edgui_data=data;
   5356              EDIT_SetFocus(data,ed_struct->ed_answer);
   \   00000058   0500A0E1           MOV      R0,R5
   \   0000005C   9B0100EF           SWI      +411
   5357              
   5358              static void *methods[16];
   5359              void **m=GetDataOfItemByID(data,2);
   \   00000060   0210A0E3           MOV      R1,#+2
   \   00000064   0500A0E1           MOV      R0,R5
   \   00000068   4F0100EF           SWI      +335
   \   0000006C   0050B0E1           MOVS     R5,R0
   5360              if (m)
   5361              {
   5362                if (m[1])
   \   00000070   04009515           LDRNE    R0,[R5, #+4]
   \   00000074   00005013           CMPNE    R0,#+0
   \   00000078   6500000A           BEQ      ??edchat_ghook_3
   5363                {
   5364                  memcpy(methods,m[1],sizeof(methods));
   \   0000007C   6D6FA0E3           MOV      R6,#+436
   \   00000080   4020A0E3           MOV      R2,#+64
   \   00000084   0010A0E1           MOV      R1,R0
   \   00000088   040086E0           ADD      R0,R6,R4
   \   0000008C   1E0100EF           SWI      +286
   5365                  old_ed_redraw=(void (*)(void *))(methods[0]);
   \   00000090   040096E7           LDR      R0,[R6, +R4]
   \   00000094   B00184E5           STR      R0,[R4, #+432]
   5366                  methods[0]=(void *)my_ed_redraw;
   \   00000098   7C019FE5           LDR      R0,??edchat_ghook_4  ;; my_ed_redraw
   \   0000009C   040086E7           STR      R0,[R6, +R4]
   5367                  m[1]=methods;
   \   000000A0   040086E0           ADD      R0,R6,R4
   \   000000A4   040085E5           STR      R0,[R5, #+4]
   \                     ??edchat_ghook_1:
   \   000000A8   2CD08DE2           ADD      SP,SP,#+44
   \   000000AC   F083BDE8           POP      {R4-R9,PC}
   5368                }      
   5369              }
   5370            }
   5371            if (cmd==3)
   \                     ??edchat_ghook_2:
   \   000000B0   030059E3           CMP      R9,#+3
   \   000000B4   0D00001A           BNE      ??edchat_ghook_5
   5372            {
   5373          //    if (edgui_data==data) edgui_data=NULL;
   5374              if (ed_struct->ed_contact)
   \   000000B8   000097E5           LDR      R0,[R7, #+0]
   \   000000BC   000050E3           CMP      R0,#+0
   \   000000C0   0500000A           BEQ      ??edchat_ghook_6
   5375              {
   5376                ExtractEditControl(data,ed_struct->ed_answer,&ec);
   \   000000C4   0D20A0E1           MOV      R2,SP
   \   000000C8   0500A0E1           MOV      R0,R5
   \   000000CC   690100EF           SWI      +361
   5377                SaveAnswer(ed_struct->ed_contact,ec.pWS);
   \   000000D0   28109DE5           LDR      R1,[SP, #+40]
   \   000000D4   000097E5           LDR      R0,[R7, #+0]
   \   000000D8   ........           BL       SaveAnswer
   5378              }
   5379              RecountMenu(ed_struct->ed_contact);
   \                     ??edchat_ghook_6:
   \   000000DC   000097E5           LDR      R0,[R7, #+0]
   \   000000E0   ........           BL       RecountMenu
   5380              mfree(ed_struct);
   \   000000E4   0700A0E1           MOV      R0,R7
   \   000000E8   150000EF           SWI      +21
   \   000000EC   EDFFFFEA           B        ??edchat_ghook_1
   5381            }
   5382            if (cmd==0x0A)
   \                     ??edchat_ghook_5:
   \   000000F0   0A0059E3           CMP      R9,#+10
   \   000000F4   0D00001A           BNE      ??edchat_ghook_7
   5383            {
   5384              pltop->dyn_pltop=SmilesImgList;
   \   000000F8   20019FE5           LDR      R0,??edchat_ghook_4+0x4  ;; SmilesImgList
   \   000000FC   000090E5           LDR      R0,[R0, #+0]
   \   00000100   080088E5           STR      R0,[R8, #+8]
   5385              DisableIDLETMR();
   \   00000104   7F0100EF           SWI      +383
   5386              total_unread-=ed_struct->requested_decrement_total_unread;
   \   00000108   C00094E5           LDR      R0,[R4, #+192]
   \   0000010C   0C1097E5           LDR      R1,[R7, #+12]
   \   00000110   010040E0           SUB      R0,R0,R1
   \   00000114   C00084E5           STR      R0,[R4, #+192]
   5387              ed_struct->requested_decrement_total_unread=0;
   \   00000118   0C6087E5           STR      R6,[R7, #+12]
   5388          #ifdef ELKA
   5389                  if (!total_unread)
   \   0000011C   C00094E5           LDR      R0,[R4, #+192]
   \   00000120   000050E3           CMP      R0,#+0
   \   00000124   3A00001A           BNE      ??edchat_ghook_3
   5390              {
   5391                SLI_Off();
   \   00000128   ........           BL       SLI_Off
   \   0000012C   DDFFFFEA           B        ??edchat_ghook_1
   5392              }
   5393          #endif
   5394          /*    if (request_close_edchat)
   5395              {
   5396                request_close_edchat=0;
   5397                GeneralFunc_flag1(edchat_id,1);
   5398                return;
   5399              }*/
   5400            }
   5401            if (cmd==7)
   \                     ??edchat_ghook_7:
   \   00000130   070059E3           CMP      R9,#+7
   \   00000134   2700001A           BNE      ??edchat_ghook_8
   5402            {
   5403              SetSoftKey(data,&sk,SET_SOFT_KEY_N);
   \   00000138   E4809FE5           LDR      R8,??edchat_ghook_4+0x8  ;; ??sk_1
   \   0000013C   0020A0E3           MOV      R2,#+0
   \   00000140   0810A0E1           MOV      R1,R8
   \   00000144   0500A0E1           MOV      R0,R5
   \   00000148   680100EF           SWI      +360
   5404              ExtractEditControl(data,ed_struct->ed_answer,&ec);
   \   0000014C   081097E5           LDR      R1,[R7, #+8]
   \   00000150   0D20A0E1           MOV      R2,SP
   \   00000154   0500A0E1           MOV      R0,R5
   \   00000158   690100EF           SWI      +361
   5405              if (ec.pWS->wsbody[0]==0)
   \   0000015C   28009DE5           LDR      R0,[SP, #+40]
   \   00000160   000090E5           LDR      R0,[R0, #+0]
   \   00000164   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000168   000050E3           CMP      R0,#+0
   \   0000016C   0300001A           BNE      ??edchat_ghook_9
   5406                SetSoftKey(data,&sk_cancel,SET_SOFT_KEY_N==0?1:0);
   \   00000170   0120A0E3           MOV      R2,#+1
   \   00000174   081088E2           ADD      R1,R8,#+8
   \   00000178   0500A0E1           MOV      R0,R5
   \   0000017C   680100EF           SWI      +360
   5407              if (!EDIT_IsBusy(data))
   \                     ??edchat_ghook_9:
   \   00000180   0500A0E1           MOV      R0,R5
   \   00000184   1C0200EF           SWI      +540
   \   00000188   000050E3           CMP      R0,#+0
   \   0000018C   2000001A           BNE      ??edchat_ghook_3
   5408              {
   5409                time_to_stop_t9=0;
   \   00000190   9C6184E5           STR      R6,[R4, #+412]
   5410                if (ed_struct->ed_contact->req_add)
   \   00000194   000097E5           LDR      R0,[R7, #+0]
   \   00000198   6C1090E5           LDR      R1,[R0, #+108]
   \   0000019C   000051E3           CMP      R1,#+0
   \   000001A0   0400000A           BEQ      ??edchat_ghook_10
   5411                {
   5412          	ed_struct->ed_contact->req_add=0;
   \   000001A4   6C6080E5           STR      R6,[R0, #+108]
   5413          	AddMsgToChat(data);
   \   000001A8   0500A0E1           MOV      R0,R5
   \   000001AC   ........           BL       AddMsgToChat
   5414          	RecountMenu(ed_struct->ed_contact);
   \   000001B0   000097E5           LDR      R0,[R7, #+0]
   \   000001B4   ........           BL       RecountMenu
   5415                }
   5416                if (ed_struct->ed_contact->req_drawack)
   \                     ??edchat_ghook_10:
   \   000001B8   000097E5           LDR      R0,[R7, #+0]
   \   000001BC   701090E5           LDR      R1,[R0, #+112]
   \   000001C0   000051E3           CMP      R1,#+0
   \   000001C4   1200000A           BEQ      ??edchat_ghook_3
   5417                {
   5418          	ed_struct->ed_contact->req_drawack=0;
   \   000001C8   706080E5           STR      R6,[R0, #+112]
   5419          	DrawAck(data);
   \   000001CC   0500A0E1           MOV      R0,R5
   \   000001D0   ........           BL       DrawAck
   \   000001D4   B3FFFFEA           B        ??edchat_ghook_1
   5420                }
   5421              }
   5422            }
   5423            if (cmd==0x0C)
   \                     ??edchat_ghook_8:
   \   000001D8   0C0059E3           CMP      R9,#+12
   \   000001DC   0C00001A           BNE      ??edchat_ghook_3
   5424            {
   5425              j=EDIT_GetFocus(data);
   \   000001E0   0500A0E1           MOV      R0,R5
   \   000001E4   820100EF           SWI      +386
   \   000001E8   0040A0E1           MOV      R4,R0
   5426              if ((EDIT_GetUnFocus(data)<j)&&(j!=ed_struct->ed_answer))
   \   000001EC   0500A0E1           MOV      R0,R5
   \   000001F0   830100EF           SWI      +387
   \   000001F4   040050E1           CMP      R0,R4
   \   000001F8   050000AA           BGE      ??edchat_ghook_3
   \   000001FC   080097E5           LDR      R0,[R7, #+8]
   \   00000200   000054E1           CMP      R4,R0
   \   00000204   0200000A           BEQ      ??edchat_ghook_3
   5427                EDIT_SetCursorPos(data,1);
   \   00000208   0110A0E3           MOV      R1,#+1
   \   0000020C   0500A0E1           MOV      R0,R5
   \   00000210   D40100EF           SWI      +468
   5428            }
   5429          }
   \                     ??edchat_ghook_3:
   \   00000214   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   00000218   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??edchat_ghook_4:
   \   0000021C   ........           DC32     my_ed_redraw
   \   00000220   ........           DC32     SmilesImgList
   \   00000224   ........           DC32     ??sk_1

   \                                 In segment DATA_C, align 4, align-sorted
   5430          
   5431          
   5432          
   5433          static const INPUTDIA_DESC edchat_desc =
   \                     edchat_desc:
   \   00000000   01000000....       DC32 1, edchat_onkey, edchat_ghook, edchat_locret, 0, menu_skt
   \              ............
   \              ........0000
   \              0000........
   \   00000018   000000000000       DC16 0, 0, 0, 0
   \              0000        
   \   00000020   080000006400       DC32 8, 100, 101, 0, 0, 1073741824
   \              000065000000
   \              000000000000
   \              000000000040
   \   00000038   000000000000       DC16 0, 0, 0, 0
   \              0000        
   \   00000040   000000000000       DC32 0H, 0, 2147483647
   \              0000FFFFFF7F
   \   0000004C   2D2D2D2D2D2D       DC8 "-------"
   \              2D00        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     ??sk_1:
   \   00000000   FF0F0000           DC16 4095, 0
   \   00000004   ........           DC32 `?<Constant "\\314\\345\\355\\376">`
   \   00000008   F00F0000           DC16 4080, 0
   \   0000000C   ........           DC32 `?<Constant "\\307\\340\\352\\360\\373\\362\\374">`
   5434          {
   5435            1,
   5436            edchat_onkey,
   5437            edchat_ghook,
   5438            (void *)edchat_locret,
   5439            0,
   5440            &menu_skt,
   5441            {0,NULL,NULL,NULL},
   5442            FONT_SMALL,
   5443            100,
   5444            101,
   5445            0,
   5446            //  0x00000001 - Выровнять по правому краю
   5447            //  0x00000002 - Выровнять по центру
   5448            //  0x00000004 - Инверсия знакомест
   5449            //  0x00000008 - UnderLine
   5450            //  0x00000020 - Не переносить слова
   5451            //  0x00000200 - bold
   5452            0,
   5453            //  0x00000002 - ReadOnly
   5454            //  0x00000004 - Не двигается курсор
   5455            //  0x40000000 - Поменять местами софт-кнопки
   5456            0x40000000
   5457          };
   5458          

   \                                 In segment CODE, align 4, keep-with-next
   5459          void CreateEditChat(CLIST *t)
   5460          {
   \                     CreateEditChat:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   5461            extern const int FIRST_LETTER;
   5462            void *ma=malloc_adr();
   5463            void *eq;
   5464            EDITCONTROL ec;
   5465            EDITC_OPTIONS ec_options;
   5466            int color, font, type;
   5467            int zc;
   5468            
   5469            LOGQ *lp;
   5470            int edchat_toitem;
   5471          //  edcontact=t;
   5472            
   5473            *((int *)(&edchat_hdr.lgp_id))=(int)t->name;
   \   00000004   8C649FE5           LDR      R6,??CreateEditChat_0  ;; edchat_desc
   5474          //  *((int **)(&edchat_hdr.icon))=(int *)S_ICONS+GetIconIndex(t);
   5475            *((int **)(&edchat_hdr.icon))=(int *)S_ICONS+IS_NULLICON;
   \   00000008   ........           LDR      R7,??DataTable202  ;; S_ICONS
   \   0000000C   4CD04DE2           SUB      SP,SP,#+76
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   148000EF           SWI      +32788
   \   00000018   0050A0E1           MOV      R5,R0
   \   0000001C   140084E2           ADD      R0,R4,#+20
   \   00000020   440086E5           STR      R0,[R6, #+68]
   \   00000024   440087E2           ADD      R0,R7,#+68
   \   00000028   400086E5           STR      R0,[R6, #+64]
   5476            
   5477            eq=AllocEQueue(ma,mfree_adr());
   \   0000002C   158000EF           SWI      +32789
   \   00000030   0010A0E1           MOV      R1,R0
   \   00000034   0500A0E1           MOV      R0,R5
   \   00000038   630100EF           SWI      +355
   5478            
   5479            /*  hist = malloc(256);
   5480            if(!GetHistory(hist, 256, t->uin))
   5481            {
   5482              ascii2ws(ews,hist);
   5483              PrepareEditControl(&ec);
   5484              ConstructEditControl(&ec,ECT_NORMAL_TEXT,ECF_APPEND_EOL|ECF_DISABLE_T9,ews,ews->wsbody[0]);
   5485            }
   5486            mfree(hist);
   5487          
   5488              AddEditControlToEditQend(eq,&ec,ma);  */
   5489            lp=t->log;
   \   0000003C   749094E5           LDR      R9,[R4, #+116]
   \   00000040   0080A0E1           MOV      R8,R0
   \   00000044   000059E3           CMP      R9,#+0
   \   00000048   9500000A           BEQ      ??CreateEditChat_1
   5490            
   5491            while(lp)
   5492            {
   5493              font = ED_H_FONT_SIZE;
   5494              if ((zc=lp->acked&3))
   \                     ??CreateEditChat_2:
   \   0000004C   ........           LDR      R2,??DataTable203  ;; ED_X_FONT_SIZE
   \   00000050   ........           LDR      R0,??DataTable204  ;; ED_H_FONT_SIZE
   \   00000054   002092E5           LDR      R2,[R2, #+0]
   \   00000058   00A090E5           LDR      R10,[R0, #+0]
   \   0000005C   040099E5           LDR      R0,[R9, #+4]
   \   00000060   ........           LDR      R1,??DataTable205  ;; I_COLOR
   \   00000064   1C208DE5           STR      R2,[SP, #+28]
   \   00000068   ........           LDR      R2,??DataTable206  ;; X_COLOR
   \   0000006C   030010E2           ANDS     R0,R0,#0x3
   \   00000070   002092E5           LDR      R2,[R2, #+0]
   \   00000074   14208DE5           STR      R2,[SP, #+20]
   \   00000078   ........           LDR      R2,??DataTable207  ;; O_ED_X_FONT_SIZE
   \   0000007C   002092E5           LDR      R2,[R2, #+0]
   \   00000080   18208DE5           STR      R2,[SP, #+24]
   \   00000084   ........           LDR      R2,??DataTable208  ;; O_X_COLOR
   \   00000088   002092E5           LDR      R2,[R2, #+0]
   \   0000008C   10208DE5           STR      R2,[SP, #+16]
   \   00000090   00B091E5           LDR      R11,[R1, #+0]
   \   00000094   0300000A           BEQ      ??CreateEditChat_3
   5495              {
   5496                if (zc==1)
   \   00000098   010050E3           CMP      R0,#+1
   \   0000009C   1E00001A           BNE      ??CreateEditChat_4
   5497          	color=ACK_COLOR; //Зеленый
   \   000000A0   ........           LDR      R0,??DataTable209  ;; ACK_COLOR
   \   000000A4   1B0000EA           B        ??CreateEditChat_5
   5498                else
   5499          	color=I_COLOR;
   5500              }
   5501              else
   5502              {
   5503                if (lp->ID==0xFFFFFFFF)
   \                     ??CreateEditChat_3:
   \   000000A8   080099E5           LDR      R0,[R9, #+8]
   \   000000AC   010070E3           CMN      R0,#+1
   \   000000B0   1700001A           BNE      ??CreateEditChat_6
   5504          	{
   5505                  type = lp->type&0x0F;
   \   000000B4   0C0099E5           LDR      R0,[R9, #+12]
   \   000000B8   0F1000E2           AND      R1,R0,#0xF
   5506                  if(lp->type&0x10)
   \   000000BC   100010E3           TST      R0,#0x10
   \   000000C0   0B00000A           BEQ      ??CreateEditChat_7
   5507                  {
   5508                    color = (type==1)?O_I_COLOR:((type==3)?O_X_COLOR:O_TO_COLOR);
   \   000000C4   010051E3           CMP      R1,#+1
   \   000000C8   ........           LDREQ    R0,??DataTable210  ;; O_I_COLOR
   \   000000CC   0400000A           BEQ      ??CreateEditChat_8
   \   000000D0   030051E3           CMP      R1,#+3
   \   000000D4   18A09D05           LDREQ    R10,[SP, #+24]
   \   000000D8   02B0A001           MOVEQ    R11,R2
   \   000000DC   0E00000A           BEQ      ??CreateEditChat_4
   \   000000E0   ........           LDR      R0,??DataTable211  ;; O_TO_COLOR
   \                     ??CreateEditChat_8:
   \   000000E4   00B090E5           LDR      R11,[R0, #+0]
   \   000000E8   ........           LDR      R0,??DataTable212  ;; O_ED_H_FONT_SIZE
   \   000000EC   00A090E5           LDR      R10,[R0, #+0]
   \   000000F0   090000EA           B        ??CreateEditChat_4
   5509                    font = (type==3)?O_ED_X_FONT_SIZE:O_ED_H_FONT_SIZE;
   5510                  }
   5511                  else
   5512                  {
   5513                    color = (type==1)?I_COLOR:((type==3)?X_COLOR:TO_COLOR);
   \                     ??CreateEditChat_7:
   \   000000F4   010051E3           CMP      R1,#+1
   \   000000F8   0700000A           BEQ      ??CreateEditChat_4
   \   000000FC   030051E3           CMP      R1,#+3
   \   00000100   14B09D05           LDREQ    R11,[SP, #+20]
   \   00000104   1CA09D05           LDREQ    R10,[SP, #+28]
   \   00000108   0300000A           BEQ      ??CreateEditChat_4
   \   0000010C   ........           LDR      R0,??DataTable213  ;; TO_COLOR
   \   00000110   000000EA           B        ??CreateEditChat_5
   5514                    font = (type==3)?ED_X_FONT_SIZE:ED_H_FONT_SIZE;
   5515                  }
   5516                }
   5517                else
   5518          	color=UNACK_COLOR; //?????
   \                     ??CreateEditChat_6:
   \   00000114   ........           LDR      R0,??DataTable214  ;; UNACK_COLOR
   \                     ??CreateEditChat_5:
   \   00000118   00B090E5           LDR      R11,[R0, #+0]
   5519              }
   5520              PrepareEditControl(&ec);
   \                     ??CreateEditChat_4:
   \   0000011C   20008DE2           ADD      R0,SP,#+32
   \   00000120   640100EF           SWI      +356
   5521              if ((lp->type&0x0F)!=3)
   \   00000124   0C0099E5           LDR      R0,[R9, #+12]
   \   00000128   0F0000E2           AND      R0,R0,#0xF
   \   0000012C   030050E3           CMP      R0,#+3
   \   00000130   0800000A           BEQ      ??CreateEditChat_9
   5522              {
   5523                ascii2ws(ews,lp->hdr);
   \   00000134   DC0097E5           LDR      R0,[R7, #+220]
   \   00000138   101089E2           ADD      R1,R9,#+16
   \   0000013C   ........           _BLF     ascii2ws,??ascii2ws??rA
   5524                ConstructEditControl(&ec,ECT_HEADER,ECF_APPEND_EOL,ews,ews->wsbody[0]);
   \   00000140   DC3097E5           LDR      R3,[R7, #+220]
   \   00000144   4020A0E3           MOV      R2,#+64
   \   00000148   000093E5           LDR      R0,[R3, #+0]
   \   0000014C   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000150   01002DE9           PUSH     {R0}
   \   00000154   030000EA           B        ??CreateEditChat_10
   5525              }
   5526              else
   5527              {
   5528                ConstructEditControl(&ec,ECT_HEADER,ECF_DELSTR,ews,0);
   \                     ??CreateEditChat_9:
   \   00000158   0000A0E3           MOV      R0,#+0
   \   0000015C   01002DE9           PUSH     {R0}
   \   00000160   DC3097E5           LDR      R3,[R7, #+220]
   \   00000164   2020A0E3           MOV      R2,#+32
   \                     ??CreateEditChat_10:
   \   00000168   0110A0E3           MOV      R1,#+1
   \   0000016C   24008DE2           ADD      R0,SP,#+36
   \   00000170   650100EF           SWI      +357
   \   00000174   04D08DE2           ADD      SP,SP,#+4
   5529              }
   5530              PrepareEditCOptions(&ec_options);
   \   00000178   0D00A0E1           MOV      R0,SP
   \   0000017C   C80100EF           SWI      +456
   5531              SetPenColorToEditCOptions(&ec_options,color);
   \   00000180   0B10A0E1           MOV      R1,R11
   \   00000184   0D00A0E1           MOV      R0,SP
   \   00000188   CC0100EF           SWI      +460
   5532              SetFontToEditCOptions(&ec_options,font);
   \   0000018C   0A10A0E1           MOV      R1,R10
   \   00000190   0D00A0E1           MOV      R0,SP
   \   00000194   CA0100EF           SWI      +458
   5533              CopyOptionsToEditControl(&ec,&ec_options);
   \   00000198   0D10A0E1           MOV      R1,SP
   \   0000019C   20008DE2           ADD      R0,SP,#+32
   \   000001A0   CE0100EF           SWI      +462
   5534              AddEditControlToEditQend(eq,&ec,ma);
   \   000001A4   0520A0E1           MOV      R2,R5
   \   000001A8   20108DE2           ADD      R1,SP,#+32
   \   000001AC   0800A0E1           MOV      R0,R8
   \   000001B0   660100EF           SWI      +358
   5535              if ((lp->type&0x0F)!=3)
   \   000001B4   0C0099E5           LDR      R0,[R9, #+12]
   \   000001B8   0F1000E2           AND      R1,R0,#0xF
   \   000001BC   030051E3           CMP      R1,#+3
   \   000001C0   0300000A           BEQ      ??CreateEditChat_11
   5536              {
   5537                ParseAnswer(ews,lp->text);
   \   000001C4   DC0097E5           LDR      R0,[R7, #+220]
   \   000001C8   601089E2           ADD      R1,R9,#+96
   \   000001CC   ........           BL       ParseAnswer
   \   000001D0   050000EA           B        ??CreateEditChat_12
   5538              }
   5539              else
   5540              {
   5541                ParseXStatusText(ews,lp->text,(lp->type&0x10)?O_X_COLOR:X_COLOR);
   \                     ??CreateEditChat_11:
   \   000001D4   100010E3           TST      R0,#0x10
   \   000001D8   10209D15           LDRNE    R2,[SP, #+16]
   \   000001DC   DC0097E5           LDR      R0,[R7, #+220]
   \   000001E0   14209D05           LDREQ    R2,[SP, #+20]
   \   000001E4   601089E2           ADD      R1,R9,#+96
   \   000001E8   ........           BL       ParseXStatusText
   5542              }
   5543              PrepareEditControl(&ec);
   \                     ??CreateEditChat_12:
   \   000001EC   20008DE2           ADD      R0,SP,#+32
   \   000001F0   640100EF           SWI      +356
   5544              ConstructEditControl(&ec,
   5545                                   ECT_NORMAL_TEXT,
   5546                                   ews->wsbody[0] ? ECF_APPEND_EOL|ECF_DISABLE_T9 : ECF_DELSTR,
   5547                                   ews,ews->wsbody[0]);    
   \   000001F4   DC3097E5           LDR      R3,[R7, #+220]
   \   000001F8   000093E5           LDR      R0,[R3, #+0]
   \   000001FC   B010D0E1           LDRH     R1,[R0, #+0]
   \   00000200   000051E3           CMP      R1,#+0
   \   00000204   0100A0E1           MOV      R0,R1
   \   00000208   01002DE9           PUSH     {R0}
   \   0000020C   812DA013           MOVNE    R2,#+8256
   \   00000210   2020A003           MOVEQ    R2,#+32
   \   00000214   0310A0E3           MOV      R1,#+3
   \   00000218   24008DE2           ADD      R0,SP,#+36
   \   0000021C   650100EF           SWI      +357
   5548              PrepareEditCOptions(&ec_options);
   \   00000220   04008DE2           ADD      R0,SP,#+4
   \   00000224   C80100EF           SWI      +456
   5549          //#ifdef M75
   5550              if ((lp->type&0x0F)!=3)
   \   00000228   0C0099E5           LDR      R0,[R9, #+12]
   \   0000022C   04D08DE2           ADD      SP,SP,#+4
   \   00000230   0F1000E2           AND      R1,R0,#0xF
   \   00000234   030051E3           CMP      R1,#+3
   \   00000238   0400000A           BEQ      ??CreateEditChat_13
   5551              {
   5552                SetFontToEditCOptions(&ec_options,(lp->type&0x10)?O_ED_FONT_SIZE:ED_FONT_SIZE);
   \   0000023C   100010E3           TST      R0,#0x10
   \   00000240   ........           LDRNE    R0,??DataTable215  ;; O_ED_FONT_SIZE
   \   00000244   ........           LDREQ    R0,??DataTable217  ;; ED_FONT_SIZE
   \   00000248   001090E5           LDR      R1,[R0, #+0]
   \   0000024C   080000EA           B        ??CreateEditChat_14
   5553              }
   5554              else
   5555              {
   5556                SetPenColorToEditCOptions(&ec_options,(lp->type&0x10)?O_X_COLOR:X_COLOR); 
   \                     ??CreateEditChat_13:
   \   00000250   100010E3           TST      R0,#0x10
   \   00000254   10109D15           LDRNE    R1,[SP, #+16]
   \   00000258   0D00A0E1           MOV      R0,SP
   \   0000025C   14109D05           LDREQ    R1,[SP, #+20]
   \   00000260   CC0100EF           SWI      +460
   5557                SetFontToEditCOptions(&ec_options,(lp->type&0x10)?O_ED_X_FONT_SIZE:ED_X_FONT_SIZE);
   \   00000264   0C0099E5           LDR      R0,[R9, #+12]
   \   00000268   100010E3           TST      R0,#0x10
   \   0000026C   18109D15           LDRNE    R1,[SP, #+24]
   \   00000270   1C109D05           LDREQ    R1,[SP, #+28]
   \                     ??CreateEditChat_14:
   \   00000274   0D00A0E1           MOV      R0,SP
   \   00000278   CA0100EF           SWI      +458
   5558              }
   5559          //#else
   5560          //    SetFontToEditCOptions(&ec_options,(lp->type&0x10)?O_ED_FONT_SIZE:ED_FONT_SIZE);
   5561          //#endif     
   5562              CopyOptionsToEditControl(&ec,&ec_options);
   \   0000027C   0D10A0E1           MOV      R1,SP
   \   00000280   20008DE2           ADD      R0,SP,#+32
   \   00000284   CE0100EF           SWI      +462
   5563              AddEditControlToEditQend(eq,&ec,ma);
   \   00000288   0520A0E1           MOV      R2,R5
   \   0000028C   20108DE2           ADD      R1,SP,#+32
   \   00000290   0800A0E1           MOV      R0,R8
   \   00000294   660100EF           SWI      +358
   5564              lp=lp->next;
   \   00000298   009099E5           LDR      R9,[R9, #+0]
   5565            }
   \   0000029C   000059E3           CMP      R9,#+0
   \   000002A0   69FFFF1A           BNE      ??CreateEditChat_2
   5566            if (t->isunread) total_unread--;
   \                     ??CreateEditChat_1:
   \   000002A4   640094E5           LDR      R0,[R4, #+100]
   5567            total_unread2=total_unread2-t->unread_msg;
   5568            t->unread_msg=0;
   \   000002A8   0090A0E3           MOV      R9,#+0
   \   000002AC   000050E3           CMP      R0,#+0
   \   000002B0   C0009715           LDRNE    R0,[R7, #+192]
   \   000002B4   01004012           SUBNE    R0,R0,#+1
   \   000002B8   C0008715           STRNE    R0,[R7, #+192]
   \   000002BC   C40097E5           LDR      R0,[R7, #+196]
   \   000002C0   681094E5           LDR      R1,[R4, #+104]
   \   000002C4   010040E0           SUB      R0,R0,R1
   \   000002C8   C40087E5           STR      R0,[R7, #+196]
   \   000002CC   689084E5           STR      R9,[R4, #+104]
   5569            t->isunread=0;
   \   000002D0   649084E5           STR      R9,[R4, #+100]
   5570            ChangeContactPos(t);
   \   000002D4   0400A0E1           MOV      R0,R4
   \   000002D8   ........           _BLF     ChangeContactPos,??ChangeContactPos??rA
   5571            wsprintf(ews, "-------");
   \   000002DC   DC0097E5           LDR      R0,[R7, #+220]
   \   000002E0   4C1086E2           ADD      R1,R6,#+76
   \   000002E4   240100EF           SWI      +292
   5572            PrepareEditControl(&ec);
   \   000002E8   20008DE2           ADD      R0,SP,#+32
   \   000002EC   640100EF           SWI      +356
   5573            ConstructEditControl(&ec,ECT_HEADER,ECF_APPEND_EOL,ews,ews->wsbody[0]);
   \   000002F0   DC3097E5           LDR      R3,[R7, #+220]
   \   000002F4   4020A0E3           MOV      R2,#+64
   \   000002F8   000093E5           LDR      R0,[R3, #+0]
   \   000002FC   0110A0E3           MOV      R1,#+1
   \   00000300   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000304   01002DE9           PUSH     {R0}
   \   00000308   24008DE2           ADD      R0,SP,#+36
   \   0000030C   650100EF           SWI      +357
   5574            PrepareEditCOptions(&ec_options);
   \   00000310   04008DE2           ADD      R0,SP,#+4
   \   00000314   C80100EF           SWI      +456
   5575            SetFontToEditCOptions(&ec_options,ED_FONT_SIZE);
   \   00000318   ........           LDR      R0,??DataTable217  ;; ED_FONT_SIZE
   \   0000031C   00A090E5           LDR      R10,[R0, #+0]
   \   00000320   04008DE2           ADD      R0,SP,#+4
   \   00000324   0A10A0E1           MOV      R1,R10
   \   00000328   CA0100EF           SWI      +458
   5576            CopyOptionsToEditControl(&ec,&ec_options);
   \   0000032C   04108DE2           ADD      R1,SP,#+4
   \   00000330   24008DE2           ADD      R0,SP,#+36
   \   00000334   CE0100EF           SWI      +462
   5577            AddEditControlToEditQend(eq,&ec,ma);
   \   00000338   0520A0E1           MOV      R2,R5
   \   0000033C   24108DE2           ADD      R1,SP,#+36
   \   00000340   0800A0E1           MOV      R0,R8
   \   00000344   660100EF           SWI      +358
   5578            
   5579            if (t->answer) ParseAnswer(ews,t->answer);
   \   00000348   781094E5           LDR      R1,[R4, #+120]
   \   0000034C   04D08DE2           ADD      SP,SP,#+4
   \   00000350   000051E3           CMP      R1,#+0
   \   00000354   0200000A           BEQ      ??CreateEditChat_15
   \   00000358   DC0097E5           LDR      R0,[R7, #+220]
   \   0000035C   ........           BL       ParseAnswer
   \   00000360   020000EA           B        ??CreateEditChat_16
   5580            else  CutWSTR(ews,0);
   \                     ??CreateEditChat_15:
   \   00000364   DC0097E5           LDR      R0,[R7, #+220]
   \   00000368   0010A0E3           MOV      R1,#+0
   \   0000036C   260100EF           SWI      +294
   5581            PrepareEditControl(&ec);
   \                     ??CreateEditChat_16:
   \   00000370   20008DE2           ADD      R0,SP,#+32
   \   00000374   640100EF           SWI      +356
   5582            ConstructEditControl(&ec,3,(FIRST_LETTER)?ECF_DEFAULT_BIG_LETTER:0,ews,1024);
   \   00000378   1C019FE5           LDR      R0,??CreateEditChat_0+0x4  ;; FIRST_LETTER
   \   0000037C   0310A0E3           MOV      R1,#+3
   \   00000380   000090E5           LDR      R0,[R0, #+0]
   \   00000384   000050E3           CMP      R0,#+0
   \   00000388   400EA0E3           MOV      R0,#+1024
   \   0000038C   01002DE9           PUSH     {R0}
   \   00000390   DC3097E5           LDR      R3,[R7, #+220]
   \   00000394   402DA013           MOVNE    R2,#+4096
   \   00000398   0020A003           MOVEQ    R2,#+0
   \   0000039C   24008DE2           ADD      R0,SP,#+36
   \   000003A0   650100EF           SWI      +357
   5583          
   5584            PrepareEditCOptions(&ec_options);
   \   000003A4   04008DE2           ADD      R0,SP,#+4
   \   000003A8   C80100EF           SWI      +456
   5585            SetFontToEditCOptions(&ec_options,ED_FONT_SIZE);
   \   000003AC   0A10A0E1           MOV      R1,R10
   \   000003B0   04008DE2           ADD      R0,SP,#+4
   \   000003B4   CA0100EF           SWI      +458
   5586            CopyOptionsToEditControl(&ec,&ec_options);
   \   000003B8   04108DE2           ADD      R1,SP,#+4
   \   000003BC   24008DE2           ADD      R0,SP,#+36
   \   000003C0   CE0100EF           SWI      +462
   5587            edchat_toitem=AddEditControlToEditQend(eq,&ec,ma);
   \   000003C4   0520A0E1           MOV      R2,R5
   \   000003C8   24108DE2           ADD      R1,SP,#+36
   \   000003CC   0800A0E1           MOV      R0,R8
   \   000003D0   660100EF           SWI      +358
   \   000003D4   00A0A0E1           MOV      R10,R0
   5588            
   5589            if (t->req_xtext)
   \   000003D8   8C0094E5           LDR      R0,[R4, #+140]
   \   000003DC   04D08DE2           ADD      SP,SP,#+4
   \   000003E0   000050E3           CMP      R0,#+0
   \   000003E4   0400000A           BEQ      ??CreateEditChat_17
   5590            {
   5591              FreeXText(t);
   \   000003E8   0400A0E1           MOV      R0,R4
   \   000003EC   ........           _BLF     FreeXText,??FreeXText??rA
   5592              t->req_xtext=0;
   \   000003F0   8C9084E5           STR      R9,[R4, #+140]
   5593              RequestXText(t->uin);
   \   000003F4   0C0094E5           LDR      R0,[R4, #+12]
   \   000003F8   ........           BL       RequestXText
   5594            }
   5595            
   5596            EDCHAT_STRUCT *ed_struct=malloc(sizeof(EDCHAT_STRUCT));
   \                     ??CreateEditChat_17:
   \   000003FC   1400A0E3           MOV      R0,#+20
   \   00000400   140000EF           SWI      +20
   \   00000404   0050A0E1           MOV      R5,R0
   5597            ed_struct->ed_contact=t;
   \   00000408   004085E5           STR      R4,[R5, #+0]
   5598            ed_struct->ed_answer=edchat_toitem;
   \   0000040C   08A085E5           STR      R10,[R5, #+8]
   5599            ed_struct->requested_decrement_total_unread=0;
   \   00000410   0C9085E5           STR      R9,[R5, #+12]
   5600            t->req_add=0;
   \   00000414   6C9084E5           STR      R9,[R4, #+108]
   5601            t->last_log=NULL;
   \   00000418   7C9084E5           STR      R9,[R4, #+124]
   5602            
   5603            //  int scr_w=ScreenW();
   5604            //  int scr_h=ScreenH();
   5605            //  int head_h=HeaderH();
   5606            
   5607            patch_header(&edchat_hdr);
   \   0000041C   B893C6E1           STRH     R9,[R6, #+56]
   \   00000420   1800A0E3           MOV      R0,#+24
   \   00000424   BA03C6E1           STRH     R0,[R6, #+58]
   \   00000428   888100EF           SWI      +33160
   \   0000042C   010040E2           SUB      R0,R0,#+1
   \   00000430   BC03C6E1           STRH     R0,[R6, #+60]
   \   00000434   8A8100EF           SWI      +33162
   \   00000438   170080E2           ADD      R0,R0,#+23
   \   0000043C   BE03C6E1           STRH     R0,[R6, #+62]
   5608            patch_input(&edchat_desc);
   \   00000440   B891C6E1           STRH     R9,[R6, #+24]
   \   00000444   8A8100EF           SWI      +33162
   \   00000448   190080E2           ADD      R0,R0,#+25
   \   0000044C   BA01C6E1           STRH     R0,[R6, #+26]
   \   00000450   888100EF           SWI      +33160
   \   00000454   010040E2           SUB      R0,R0,#+1
   \   00000458   BC01C6E1           STRH     R0,[R6, #+28]
   \   0000045C   898100EF           SWI      +33161
   \   00000460   0040A0E1           MOV      R4,R0
   \   00000464   8B8100EF           SWI      +33163
   \   00000468   000044E0           SUB      R0,R4,R0
   \   0000046C   010040E2           SUB      R0,R0,#+1
   \   00000470   BE01C6E1           STRH     R0,[R6, #+30]
   5609            //  edchat_desc.font=ED_FONT_SIZE;
   5610            edchat_id=CreateInputTextDialog(&edchat_desc,&edchat_hdr,eq,1,ed_struct);
   \   00000474   20002DE9           PUSH     {R5}
   \   00000478   0130A0E3           MOV      R3,#+1
   \   0000047C   0820A0E1           MOV      R2,R8
   \   00000480   381086E2           ADD      R1,R6,#+56
   \   00000484   0600A0E1           MOV      R0,R6
   \   00000488   670100EF           SWI      +359
   \   0000048C   740187E5           STR      R0,[R7, #+372]
   5611          }
   \   00000490   50D08DE2           ADD      SP,SP,#+80
   \   00000494   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??CreateEditChat_0:
   \   00000498   ........           DC32     edchat_desc
   \   0000049C   ........           DC32     FIRST_LETTER
   5612          
   5613          //-----------------------------------------------------------------------------
   5614          #define EC_MNU_MAX 8
   5615          

   \                                 In segment CODE, align 4, keep-with-next
   5616          void Quote(GUI *data)
   5617          {
   \                     Quote:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   84D04DE2           SUB      SP,SP,#+132
   5618            int q_n;
   5619            EDITCONTROL ec, ec_hdr;
   5620            EDITCONTROL ec_ed;
   5621            WSHDR *ed_ws;
   5622            WSHDR *ws;
   5623            
   5624            EDCHAT_STRUCT *ed_struct;
   5625            ed_struct=MenuGetUserPointer(data);
   \   00000008   E00100EF           SWI      +480
   \   0000000C   0040A0E1           MOV      R4,R0
   5626            
   5627            q_n=EDIT_GetFocus(ed_struct->ed_chatgui);
   \   00000010   040094E5           LDR      R0,[R4, #+4]
   \   00000014   820100EF           SWI      +386
   \   00000018   0050A0E1           MOV      R5,R0
   5628            ExtractEditControl(ed_struct->ed_chatgui,q_n,&ec);
   \   0000001C   040094E5           LDR      R0,[R4, #+4]
   \   00000020   2C208DE2           ADD      R2,SP,#+44
   \   00000024   0510A0E1           MOV      R1,R5
   \   00000028   690100EF           SWI      +361
   5629            ExtractEditControl(ed_struct->ed_chatgui,q_n-1,&ec_hdr);
   \   0000002C   040094E5           LDR      R0,[R4, #+4]
   \   00000030   58208DE2           ADD      R2,SP,#+88
   \   00000034   011045E2           SUB      R1,R5,#+1
   \   00000038   690100EF           SWI      +361
   5630            ExtractEditControl(ed_struct->ed_chatgui,ed_struct->ed_answer,&ec_ed);
   \   0000003C   081094E5           LDR      R1,[R4, #+8]
   \   00000040   040094E5           LDR      R0,[R4, #+4]
   \   00000044   0D20A0E1           MOV      R2,SP
   \   00000048   690100EF           SWI      +361
   5631          
   5632            ed_ws=AllocWS((ec_ed.maxlen<<1) + 1);
   \   0000004C   F801DDE1           LDRSH    R0,[SP, #+24]
   \   00000050   0110A0E3           MOV      R1,#+1
   \   00000054   800081E0           ADD      R0,R1,R0, LSL #+1
   \   00000058   250100EF           SWI      +293
   \   0000005C   0050A0E1           MOV      R5,R0
   5633            if(wstrlen(ec_hdr.pWS))
   \   00000060   80009DE5           LDR      R0,[SP, #+128]
   \   00000064   230100EF           SWI      +291
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   0600000A           BEQ      ??Quote_0
   5634            {
   5635              wstrcpy(ed_ws,ec_hdr.pWS);
   \   00000070   80109DE5           LDR      R1,[SP, #+128]
   \   00000074   0500A0E1           MOV      R0,R5
   \   00000078   1F0100EF           SWI      +287
   5636              wsAppendChar(ed_ws,'\r');
   \   0000007C   0D10A0E3           MOV      R1,#+13
   \   00000080   0500A0E1           MOV      R0,R5
   \   00000084   1C0000EF           SWI      +28
   \   00000088   020000EA           B        ??Quote_1
   5637            }
   5638            else
   5639              CutWSTR(ed_ws,0);
   \                     ??Quote_0:
   \   0000008C   0010A0E3           MOV      R1,#+0
   \   00000090   0500A0E1           MOV      R0,R5
   \   00000094   260100EF           SWI      +294
   5640            if (EDIT_IsMarkModeActive(ed_struct->ed_chatgui))
   \                     ??Quote_1:
   \   00000098   040094E5           LDR      R0,[R4, #+4]
   \   0000009C   D80100EF           SWI      +472
   \   000000A0   000050E3           CMP      R0,#+0
   \   000000A4   0300000A           BEQ      ??Quote_2
   5641            {
   5642              EDIT_GetMarkedText(ed_struct->ed_chatgui,ed_ws);
   \   000000A8   040094E5           LDR      R0,[R4, #+4]
   \   000000AC   0510A0E1           MOV      R1,R5
   \   000000B0   D90100EF           SWI      +473
   \   000000B4   020000EA           B        ??Quote_3
   5643            }
   5644            else
   5645            {
   5646              wstrcat(ed_ws,ec.pWS);
   \                     ??Quote_2:
   \   000000B8   54109DE5           LDR      R1,[SP, #+84]
   \   000000BC   0500A0E1           MOV      R0,R5
   \   000000C0   210100EF           SWI      +289
   5647            }
   5648            int ed_pos=0;
   \                     ??Quote_3:
   \   000000C4   0000A0E3           MOV      R0,#+0
   \   000000C8   FF60A0E3           MOV      R6,#+255
   \   000000CC   FF6C86E3           ORR      R6,R6,#0xFF00
   5649            do
   5650            {
   5651              ed_pos++;
   \                     ??Quote_4:
   \   000000D0   017080E2           ADD      R7,R0,#+1
   5652              wsInsertChar(ed_ws,'>',ed_pos++);
   \   000000D4   0720A0E1           MOV      R2,R7
   \   000000D8   3E10A0E3           MOV      R1,#+62
   \   000000DC   0500A0E1           MOV      R0,R5
   \   000000E0   1D0000EF           SWI      +29
   \   000000E4   017087E2           ADD      R7,R7,#+1
   5653              wsInsertChar(ed_ws,' ',ed_pos);
   \   000000E8   0720A0E1           MOV      R2,R7
   \   000000EC   2010A0E3           MOV      R1,#+32
   \   000000F0   0500A0E1           MOV      R0,R5
   \   000000F4   1D0000EF           SWI      +29
   5654            }
   5655            while((ed_pos=wstrchr(ed_ws,ed_pos,'\r'))!=0xFFFF);
   \   000000F8   0D20A0E3           MOV      R2,#+13
   \   000000FC   0710A0E1           MOV      R1,R7
   \   00000100   0500A0E1           MOV      R0,R5
   \   00000104   DC0100EF           SWI      +476
   \   00000108   060050E1           CMP      R0,R6
   \   0000010C   EFFFFF1A           BNE      ??Quote_4
   5656            wsAppendChar(ed_ws,'\r');
   \   00000110   0D10A0E3           MOV      R1,#+13
   \   00000114   0500A0E1           MOV      R0,R5
   \   00000118   1C0000EF           SWI      +28
   5657            wsAppendChar(ed_ws,'\r');
   \   0000011C   0D10A0E3           MOV      R1,#+13
   \   00000120   0500A0E1           MOV      R0,R5
   \   00000124   1C0000EF           SWI      +28
   5658            ws=AllocWS(ec_ed.pWS->wsbody[0]+ed_ws->wsbody[0]);
   \   00000128   28009DE5           LDR      R0,[SP, #+40]
   \   0000012C   001095E5           LDR      R1,[R5, #+0]
   \   00000130   000090E5           LDR      R0,[R0, #+0]
   \   00000134   B010D1E1           LDRH     R1,[R1, #+0]
   \   00000138   B000D0E1           LDRH     R0,[R0, #+0]
   \   0000013C   000081E0           ADD      R0,R1,R0
   \   00000140   250100EF           SWI      +293
   5659            wstrcpy(ws,ec_ed.pWS);
   \   00000144   28109DE5           LDR      R1,[SP, #+40]
   \   00000148   0060A0E1           MOV      R6,R0
   \   0000014C   1F0100EF           SWI      +287
   5660            wstrcat(ws,ed_ws);
   \   00000150   0510A0E1           MOV      R1,R5
   \   00000154   0600A0E1           MOV      R0,R6
   \   00000158   210100EF           SWI      +289
   5661            FreeWS(ed_ws);
   \   0000015C   0500A0E1           MOV      R0,R5
   \   00000160   290100EF           SWI      +297
   5662            CutWSTR(ws,ec_ed.maxlen);
   \   00000164   F811DDE1           LDRSH    R1,[SP, #+24]
   \   00000168   0600A0E1           MOV      R0,R6
   \   0000016C   260100EF           SWI      +294
   5663            EDIT_SetFocus(ed_struct->ed_chatgui,ed_struct->ed_answer);
   \   00000170   081094E5           LDR      R1,[R4, #+8]
   \   00000174   040094E5           LDR      R0,[R4, #+4]
   \   00000178   9B0100EF           SWI      +411
   5664            EDIT_SetTextToFocused(ed_struct->ed_chatgui,ws);
   \   0000017C   040094E5           LDR      R0,[R4, #+4]
   \   00000180   0610A0E1           MOV      R1,R6
   \   00000184   810100EF           SWI      +385
   5665            FreeWS(ws);
   \   00000188   0600A0E1           MOV      R0,R6
   \   0000018C   290100EF           SWI      +297
   5666            GeneralFuncF1(1);
   \   00000190   0100A0E3           MOV      R0,#+1
   \   00000194   3B0100EF           SWI      +315
   5667          }
   \   00000198   84D08DE2           ADD      SP,SP,#+132
   \   0000019C   F080BDE8           POP      {R4-R7,PC}       ;; return
   5668          
   5669          

   \                                 In segment CODE, align 4, keep-with-next
   5670          void GetShortInfo(GUI *data)
   5671          {
   \                     GetShortInfo:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   5672            EDCHAT_STRUCT *ed_struct;
   5673            ed_struct=MenuGetUserPointer(data);
   \   00000004   E00100EF           SWI      +480
   \   00000008   0040A0E1           MOV      R4,R0
   5674            
   5675            TPKT *p;
   5676            CLIST *t;
   5677            if ((t=ed_struct->ed_contact)&&(connect_state==3))
   \   0000000C   005094E5           LDR      R5,[R4, #+0]
   \   00000010   000055E3           CMP      R5,#+0
   \   00000014   1F00000A           BEQ      ??GetShortInfo_0
   \   00000018   ........           LDR      R0,??DataTable226  ;; S_ICONS + 324
   \   0000001C   000090E5           LDR      R0,[R0, #+0]
   \   00000020   030050E3           CMP      R0,#+3
   \   00000024   1B00001A           BNE      ??GetShortInfo_0
   5678            {
   5679              p=malloc(sizeof(PKT));
   \   00000028   0800A0E3           MOV      R0,#+8
   \   0000002C   140000EF           SWI      +20
   \   00000030   0060A0E1           MOV      R6,R0
   5680              p->pkt.uin=t->uin;
   \   00000034   0C0095E5           LDR      R0,[R5, #+12]
   5681              p->pkt.type=T_REQINFOSHORT;
   5682              p->pkt.data_len=0;
   5683              AddStringToLog(t, 0x01, "Request info...", I_str,0xFFFFFFFF);
   \   00000038   0010E0E3           MVN      R1,#+0
   \   0000003C   000086E5           STR      R0,[R6, #+0]
   \   00000040   0B00A0E3           MOV      R0,#+11
   \   00000044   B400C6E1           STRH     R0,[R6, #+4]
   \   00000048   0000A0E3           MOV      R0,#+0
   \   0000004C   B600C6E1           STRH     R0,[R6, #+6]
   \   00000050   ........           LDR      R0,??DataTable225  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   00000054   02002DE9           PUSH     {R1}
   \   00000058   1F3080E2           ADD      R3,R0,#+31
   \   0000005C   E410A0E3           MOV      R1,#+228
   \   00000060   401E81E3           ORR      R1,R1,#0x400
   \   00000064   002081E0           ADD      R2,R1,R0
   \   00000068   0110A0E3           MOV      R1,#+1
   \   0000006C   0500A0E1           MOV      R0,R5
   \   00000070   ........           BL       AddStringToLog
   5684              AddMsgToChat(ed_struct->ed_chatgui);
   \   00000074   040094E5           LDR      R0,[R4, #+4]
   \   00000078   ........           BL       AddMsgToChat
   5685              RecountMenu(t);
   \   0000007C   0500A0E1           MOV      R0,R5
   \   00000080   ........           BL       RecountMenu
   5686              SUBPROC((void *)SendAnswer,0,p);
   \   00000084   ........           LDR      R0,??DataTable227  ;; SendAnswer
   \   00000088   0620A0E1           MOV      R2,R6
   \   0000008C   0010A0E3           MOV      R1,#+0
   \   00000090   710100EF           SWI      +369
   \   00000094   04D08DE2           ADD      SP,SP,#+4
   5687            }
   5688            GeneralFuncF1(1);
   \                     ??GetShortInfo_0:
   \   00000098   0100A0E3           MOV      R0,#+1
   \   0000009C   3B0100EF           SWI      +315
   5689          }
   \   000000A0   7080BDE8           POP      {R4-R6,PC}       ;; return
   5690          
   5691          void AskNickAndAddContact(EDCHAT_STRUCT *);

   \                                 In segment CODE, align 4, keep-with-next
   5692          void AddCurContact(GUI *data)
   5693          {
   \                     AddCurContact:
   \   00000000   00402DE9           PUSH     {LR}
   5694            EDCHAT_STRUCT *ed_struct;
   5695            ed_struct=MenuGetUserPointer(data);
   \   00000004   E00100EF           SWI      +480
   5696            
   5697            if ((ed_struct->ed_contact)&&(connect_state==3)) AskNickAndAddContact(ed_struct);
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0400000A           BEQ      ??AddCurContact_0
   \   00000014   ........           LDR      R1,??DataTable226  ;; S_ICONS + 324
   \   00000018   001091E5           LDR      R1,[R1, #+0]
   \   0000001C   030051E3           CMP      R1,#+3
   \   00000020   0000001A           BNE      ??AddCurContact_0
   \   00000024   ........           _BLF     CreateAddContactGrpDialog,??CreateAddContactGrpDialog??rA
   5698            GeneralFuncF1(1);
   \                     ??AddCurContact_0:
   \   00000028   0100A0E3           MOV      R0,#+1
   \   0000002C   3B0100EF           SWI      +315
   5699          }
   \   00000030   0080BDE8           POP      {PC}             ;; return
   5700          

   \                                 In segment CODE, align 4, keep-with-next
   5701          void SendAuthReq(GUI *data)
   5702          {
   \                     SendAuthReq:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   14D04DE2           SUB      SP,SP,#+20
   5703            EDCHAT_STRUCT *ed_struct;
   5704            ed_struct=MenuGetUserPointer(data);
   \   00000008   E00100EF           SWI      +480
   5705            
   5706            TPKT *p;
   5707            CLIST *t;
   5708            int l;
   5709            const char s[]=LG_AUTHREQ;
   \   0000000C   B0109FE5           LDR      R1,??SendAuthReq_0  ;; `?<Constant "\\300\\342\\362\\356\\360\\350\\347\\363\\3`
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   EC0091E8           LDM      R1,{R2,R3,R5-R7}
   \   00000018   0D00A0E1           MOV      R0,SP
   \   0000001C   EC0080E8           STM      R0,{R2,R3,R5-R7}
   5710            if ((t=ed_struct->ed_contact)&&(connect_state==3))
   \   00000020   005094E5           LDR      R5,[R4, #+0]
   \   00000024   000055E3           CMP      R5,#+0
   \   00000028   2100000A           BEQ      ??SendAuthReq_1
   \   0000002C   ........           LDR      R0,??DataTable226  ;; S_ICONS + 324
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   030050E3           CMP      R0,#+3
   \   00000038   1D00001A           BNE      ??SendAuthReq_1
   5711            {
   5712              p=malloc(sizeof(PKT)+(l=strlen(s))+1);
   \   0000003C   0D00A0E1           MOV      R0,SP
   \   00000040   1B0000EF           SWI      +27
   \   00000044   0060A0E1           MOV      R6,R0
   \   00000048   090086E2           ADD      R0,R6,#+9
   \   0000004C   140000EF           SWI      +20
   \   00000050   0070A0E1           MOV      R7,R0
   5713              p->pkt.uin=t->uin;
   \   00000054   0C0095E5           LDR      R0,[R5, #+12]
   5714              p->pkt.type=T_AUTHREQ;
   5715              p->pkt.data_len=l;
   5716              strcpy(p->data,s);
   \   00000058   0D10A0E1           MOV      R1,SP
   \   0000005C   000087E5           STR      R0,[R7, #+0]
   \   00000060   0A00A0E3           MOV      R0,#+10
   \   00000064   B400C7E1           STRH     R0,[R7, #+4]
   \   00000068   B660C7E1           STRH     R6,[R7, #+6]
   \   0000006C   080087E2           ADD      R0,R7,#+8
   \   00000070   1A0000EF           SWI      +26
   5717              AddStringToLog(t,0x01,p->data,I_str,0xFFFFFFFF);
   \   00000074   ........           LDR      R3,??DataTable223  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 31
   \   00000078   0000E0E3           MVN      R0,#+0
   \   0000007C   01002DE9           PUSH     {R0}
   \   00000080   082087E2           ADD      R2,R7,#+8
   \   00000084   0110A0E3           MOV      R1,#+1
   \   00000088   0500A0E1           MOV      R0,R5
   \   0000008C   ........           BL       AddStringToLog
   5718              AddMsgToChat(ed_struct->ed_chatgui);
   \   00000090   040094E5           LDR      R0,[R4, #+4]
   \   00000094   ........           BL       AddMsgToChat
   5719              RecountMenu(t);
   \   00000098   0500A0E1           MOV      R0,R5
   \   0000009C   ........           BL       RecountMenu
   5720              SUBPROC((void *)SendAnswer,0,p);
   \   000000A0   ........           LDR      R0,??DataTable227  ;; SendAnswer
   \   000000A4   0720A0E1           MOV      R2,R7
   \   000000A8   0010A0E3           MOV      R1,#+0
   \   000000AC   710100EF           SWI      +369
   \   000000B0   04D08DE2           ADD      SP,SP,#+4
   5721            }
   5722            GeneralFuncF1(1);
   \                     ??SendAuthReq_1:
   \   000000B4   0100A0E3           MOV      R0,#+1
   \   000000B8   3B0100EF           SWI      +315
   5723          }
   \   000000BC   14D08DE2           ADD      SP,SP,#+20
   \   000000C0   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??SendAuthReq_0:
   \   000000C4   ........           DC32     `?<Constant "\\300\\342\\362\\356\\360\\350\\347\\363\\3`
   5724          

   \                                 In segment CODE, align 4, keep-with-next
   5725          void SendAuthGrant(GUI *data)
   5726          {
   \                     SendAuthGrant:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   5727            EDCHAT_STRUCT *ed_struct;
   5728            ed_struct=MenuGetUserPointer(data);
   5729            
   5730            TPKT *p;
   5731            CLIST *t;
   5732            int l;
   5733            const char s[]=LG_AUTHGRANT;
   \   00000004   ........           LDR      R5,??DataTable225  ;; `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`
   \   00000008   10D04DE2           SUB      SP,SP,#+16
   \   0000000C   E00100EF           SWI      +480
   \   00000010   CC0095E8           LDM      R5,{R2,R3,R6,R7}
   \   00000014   0040A0E1           MOV      R4,R0
   \   00000018   0D00A0E1           MOV      R0,SP
   \   0000001C   CC0080E8           STM      R0,{R2,R3,R6,R7}
   5734            if ((t=ed_struct->ed_contact)&&(connect_state==3))
   \   00000020   006094E5           LDR      R6,[R4, #+0]
   \   00000024   000056E3           CMP      R6,#+0
   \   00000028   2100000A           BEQ      ??SendAuthGrant_0
   \   0000002C   ........           LDR      R0,??DataTable226  ;; S_ICONS + 324
   \   00000030   000090E5           LDR      R0,[R0, #+0]
   \   00000034   030050E3           CMP      R0,#+3
   \   00000038   1D00001A           BNE      ??SendAuthGrant_0
   5735            {
   5736              p=malloc(sizeof(PKT)+(l=strlen(s))+1);
   \   0000003C   0D00A0E1           MOV      R0,SP
   \   00000040   1B0000EF           SWI      +27
   \   00000044   0070A0E1           MOV      R7,R0
   \   00000048   090087E2           ADD      R0,R7,#+9
   \   0000004C   140000EF           SWI      +20
   \   00000050   0080A0E1           MOV      R8,R0
   5737              p->pkt.uin=t->uin;
   \   00000054   0C0096E5           LDR      R0,[R6, #+12]
   5738              p->pkt.type=T_AUTHGRANT;
   5739              p->pkt.data_len=l;
   5740              strcpy(p->data,s);
   \   00000058   0D10A0E1           MOV      R1,SP
   \   0000005C   000088E5           STR      R0,[R8, #+0]
   \   00000060   0E00A0E3           MOV      R0,#+14
   \   00000064   B400C8E1           STRH     R0,[R8, #+4]
   \   00000068   B670C8E1           STRH     R7,[R8, #+6]
   \   0000006C   080088E2           ADD      R0,R8,#+8
   \   00000070   1A0000EF           SWI      +26
   5741              AddStringToLog(t,0x01,p->data,I_str,0xFFFFFFFF);
   \   00000074   0000E0E3           MVN      R0,#+0
   \   00000078   01002DE9           PUSH     {R0}
   \   0000007C   1F3085E2           ADD      R3,R5,#+31
   \   00000080   082088E2           ADD      R2,R8,#+8
   \   00000084   0110A0E3           MOV      R1,#+1
   \   00000088   0600A0E1           MOV      R0,R6
   \   0000008C   ........           BL       AddStringToLog
   5742              AddMsgToChat(ed_struct->ed_chatgui);
   \   00000090   040094E5           LDR      R0,[R4, #+4]
   \   00000094   ........           BL       AddMsgToChat
   5743              RecountMenu(t);
   \   00000098   0600A0E1           MOV      R0,R6
   \   0000009C   ........           BL       RecountMenu
   5744              SUBPROC((void *)SendAnswer,0,p);
   \   000000A0   ........           LDR      R0,??DataTable227  ;; SendAnswer
   \   000000A4   0820A0E1           MOV      R2,R8
   \   000000A8   0010A0E3           MOV      R1,#+0
   \   000000AC   710100EF           SWI      +369
   \   000000B0   04D08DE2           ADD      SP,SP,#+4
   5745            }
   5746            GeneralFuncF1(1);
   \                     ??SendAuthGrant_0:
   \   000000B4   0100A0E3           MOV      R0,#+1
   \   000000B8   3B0100EF           SWI      +315
   5747          }
   \   000000BC   FF81BDE8           POP      {R0-R8,PC}       ;; return
   5748          

   \                                 In segment CODE, align 4, keep-with-next
   5749          void OpenLogfile(GUI *data)
   5750          {
   \                     OpenLogfile:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   5751            EDCHAT_STRUCT *ed_struct;
   5752            ed_struct=MenuGetUserPointer(data);
   \   00000004   E00100EF           SWI      +480
   \   00000008   0040A0E1           MOV      R4,R0
   5753            
   5754            extern const char HIST_PATH[64];
   5755          #ifdef EVILFOX
   5756          #else
   5757            extern const int HISTORY_TYPE;
   5758          #endif
   5759            CLIST *t;
   5760            WSHDR *ws=AllocWS(256);
   \   0000000C   400FA0E3           MOV      R0,#+256
   \   00000010   250100EF           SWI      +293
   \   00000014   0050A0E1           MOV      R5,R0
   5761            if ((t=ed_struct->ed_contact))
   \   00000018   000094E5           LDR      R0,[R4, #+0]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   1800000A           BEQ      ??OpenLogfile_0
   5762            {
   5763          #ifdef EVILFOX
   5764                wsprintf(ws,"%s\\%u\\%s(%d).txt",HIST_PATH,UIN,t->name, t->uin);
   5765          #else
   5766          #ifdef UIN_WRITE
   5767              if (HISTORY_TYPE)
   \   00000024   70409FE5           LDR      R4,??OpenLogfile_1  ;; HISTORY_TYPE
   \   00000028   0C3090E5           LDR      R3,[R0, #+12]
   \   0000002C   004094E5           LDR      R4,[R4, #+0]
   \   00000030   68109FE5           LDR      R1,??OpenLogfile_1+0x4  ;; `?<Constant "%s\\\\%u\\\\%s(%d).txt">`
   \   00000034   68209FE5           LDR      R2,??OpenLogfile_1+0x8  ;; HIST_PATH
   \   00000038   08002DE9           PUSH     {R3}
   \   0000003C   000054E3           CMP      R4,#+0
   \   00000040   0700000A           BEQ      ??OpenLogfile_2
   5768                wsprintf(ws,"%s\\%u\\%s(%d).txt",HIST_PATH,UIN,t->name, t->uin);
   \   00000044   140080E2           ADD      R0,R0,#+20
   \   00000048   01002DE9           PUSH     {R0}
   \   0000004C   ........           LDR      R0,??DataTable228  ;; UIN
   \   00000050   003090E5           LDR      R3,[R0, #+0]
   \   00000054   0500A0E1           MOV      R0,R5
   \   00000058   240100EF           SWI      +292
   \   0000005C   08D08DE2           ADD      SP,SP,#+8
   \   00000060   040000EA           B        ??OpenLogfile_3
   5769              else
   5770                wsprintf(ws,"%s\\%s(%d).txt",HIST_PATH,t->name, t->uin);
   \                     ??OpenLogfile_2:
   \   00000064   143080E2           ADD      R3,R0,#+20
   \   00000068   141081E2           ADD      R1,R1,#+20
   \   0000006C   0500A0E1           MOV      R0,R5
   \   00000070   240100EF           SWI      +292
   \   00000074   04D08DE2           ADD      SP,SP,#+4
   5771          #else
   5772              if (HISTORY_TYPE)
   5773                wsprintf(ws,"%s\\%u\\%u.txt",HIST_PATH,UIN, t->uin);
   5774              else
   5775                wsprintf(ws,"%s\\%u.txt",HIST_PATH, t->uin);
   5776          #endif
   5777          #endif
   5778              ExecuteFile(ws,NULL,NULL);
   \                     ??OpenLogfile_3:
   \   00000078   0020A0E3           MOV      R2,#+0
   \   0000007C   0010A0E3           MOV      R1,#+0
   \   00000080   0500A0E1           MOV      R0,R5
   \   00000084   940000EF           SWI      +148
   5779            }
   5780            FreeWS(ws);
   \                     ??OpenLogfile_0:
   \   00000088   0500A0E1           MOV      R0,R5
   \   0000008C   290100EF           SWI      +297
   5781            GeneralFuncF1(1);
   \   00000090   0100A0E3           MOV      R0,#+1
   \   00000094   3B0100EF           SWI      +315
   5782          }
   \   00000098   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??OpenLogfile_1:
   \   0000009C   ........           DC32     HISTORY_TYPE
   \   000000A0   ........           DC32     `?<Constant "%s\\\\%u\\\\%s(%d).txt">`
   \   000000A4   ........           DC32     HIST_PATH
   5783          

   \                                 In segment CODE, align 4, keep-with-next
   5784          void ClearLog(GUI *data/*,void *dummy*/)
   5785          {
   \                     ClearLog:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   2CD04DE2           SUB      SP,SP,#+44
   5786            EDITCONTROL ec;
   5787            EDCHAT_STRUCT *ed_struct;
   5788            WSHDR *ws;
   5789            CLIST *t;
   5790            
   5791            ed_struct=MenuGetUserPointer(data);
   \   00000008   E00100EF           SWI      +480
   \   0000000C   0040A0E1           MOV      R4,R0
   5792            
   5793            ExtractEditControl(ed_struct->ed_chatgui,ed_struct->ed_answer,&ec);
   \   00000010   081094E5           LDR      R1,[R4, #+8]
   \   00000014   040094E5           LDR      R0,[R4, #+4]
   \   00000018   0D20A0E1           MOV      R2,SP
   \   0000001C   690100EF           SWI      +361
   5794            if(wstrlen(ec.pWS)>0)
   \   00000020   28009DE5           LDR      R0,[SP, #+40]
   \   00000024   230100EF           SWI      +291
   \   00000028   010050E3           CMP      R0,#+1
   \   0000002C   0D0000BA           BLT      ??ClearLog_0
   5795            {
   5796              ws=AllocWS(1);
   \   00000030   0100A0E3           MOV      R0,#+1
   \   00000034   250100EF           SWI      +293
   \   00000038   0050A0E1           MOV      R5,R0
   5797              CutWSTR(ws,0);
   \   0000003C   0010A0E3           MOV      R1,#+0
   \   00000040   260100EF           SWI      +294
   5798            
   5799              EDIT_SetFocus(ed_struct->ed_chatgui,ed_struct->ed_answer);
   \   00000044   081094E5           LDR      R1,[R4, #+8]
   \   00000048   040094E5           LDR      R0,[R4, #+4]
   \   0000004C   9B0100EF           SWI      +411
   5800              EDIT_SetTextToFocused(ed_struct->ed_chatgui,ws); 
   \   00000050   040094E5           LDR      R0,[R4, #+4]
   \   00000054   0510A0E1           MOV      R1,R5
   \   00000058   810100EF           SWI      +385
   5801              
   5802              FreeWS(ws);
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   290100EF           SWI      +297
   5803              GeneralFuncF1(1);    
   \   00000064   1C0000EA           B        ??ClearLog_1
   5804            }
   5805            else
   5806            {
   5807            
   5808              if ((t=ed_struct->ed_contact))
   \                     ??ClearLog_0:
   \   00000068   005094E5           LDR      R5,[R4, #+0]
   \   0000006C   000055E3           CMP      R5,#+0
   \   00000070   1B00000A           BEQ      ??ClearLog_2
   5809              {
   5810                if (t->log)
   \   00000074   740095E5           LDR      R0,[R5, #+116]
   \   00000078   0060A0E3           MOV      R6,#+0
   \   0000007C   000050E3           CMP      R0,#+0
   \   00000080   1200000A           BEQ      ??ClearLog_3
   5811                {
   5812                  FreeLOGQ(&t->log);
   \   00000084   740085E2           ADD      R0,R5,#+116
   \   00000088   ........           BL       FreeLOGQ
   5813                  t->msg_count=0;
   \   0000008C   846085E5           STR      R6,[R5, #+132]
   5814                  if (ed_struct->ed_answer>=2&&ed_struct->ed_chatgui)
   \   00000090   080094E5           LDR      R0,[R4, #+8]
   \   00000094   020050E3           CMP      R0,#+2
   \   00000098   0C0000BA           BLT      ??ClearLog_3
   \   0000009C   040094E5           LDR      R0,[R4, #+4]
   \   000000A0   000050E3           CMP      R0,#+0
   \   000000A4   0900000A           BEQ      ??ClearLog_3
   \   000000A8   050000EA           B        ??ClearLog_4
   5815                  {
   5816                    while(ed_struct->ed_answer!=2)
   5817                    {
   5818                      EDIT_RemoveEditControl(ed_struct->ed_chatgui,1);
   \                     ??ClearLog_5:
   \   000000AC   040094E5           LDR      R0,[R4, #+4]
   \   000000B0   0110A0E3           MOV      R1,#+1
   \   000000B4   D10100EF           SWI      +465
   5819                      ed_struct->ed_answer--;
   \   000000B8   080094E5           LDR      R0,[R4, #+8]
   \   000000BC   010040E2           SUB      R0,R0,#+1
   \   000000C0   080084E5           STR      R0,[R4, #+8]
   5820                    }
   \                     ??ClearLog_4:
   \   000000C4   080094E5           LDR      R0,[R4, #+8]
   \   000000C8   020050E3           CMP      R0,#+2
   \   000000CC   F6FFFF1A           BNE      ??ClearLog_5
   5821                  }
   5822                }
   5823                t->isactive=0;		//by BoBa  18.06.07
   \                     ??ClearLog_3:
   \   000000D0   806085E5           STR      R6,[R5, #+128]
   5824                RecountMenu(t);
   \   000000D4   0500A0E1           MOV      R0,R5
   \   000000D8   ........           BL       RecountMenu
   5825                GeneralFuncF1(1);
   \                     ??ClearLog_1:
   \   000000DC   0100A0E3           MOV      R0,#+1
   \   000000E0   3B0100EF           SWI      +315
   5826              }
   5827            }
   5828          }
   \                     ??ClearLog_2:
   \   000000E4   2CD08DE2           ADD      SP,SP,#+44       ;; stack cleaning
   \   000000E8   7080BDE8           POP      {R4-R6,PC}       ;; return
   5829          

   \                                 In segment CODE, align 4, keep-with-next
   5830          void ecmenu_ghook(void *data, int cmd)
   5831          {
   \                     ecmenu_ghook:
   \   00000000   00402DE9           PUSH     {LR}
   5832            if (cmd==0x0A)
   \   00000004   0A0051E3           CMP      R1,#+10
   \   00000008   0080BD18           POPNE    {PC}
   5833            {
   5834              DisableIDLETMR();
   \   0000000C   7F0100EF           SWI      +383
   5835            }
   5836          }
   \   00000010   0080BDE8           POP      {PC}             ;; return
   5837          

   \                                 In segment DATA_C, align 4, align-sorted
   5838          static const MENUITEM_DESC ecmenu_ITEMS[EC_MNU_MAX]=
   \                     ecmenu_ITEMS:
   \   00000000   00000000....       DC32 0H, `?<Constant "\\326\\350\\362\\350\\360\\356\\342\\340\\3`
   \              ....        
   \   00000008   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   00000020   ........           DC32 `?<Constant "\\302\\361\\362\\340\\342\\350\\362\\374 \\`
   \   00000024   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   0000003C   ........           DC32 `?<Constant "\\317\\356\\353\\363\\367\\350\\362\\374 \\`
   \   00000040   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   00000058   ........           DC32 `?<Constant "\\304\\356\\341\\340\\342./\\350\\354\\377`
   \   0000005C   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   00000074   ........           DC32 `?<Constant "\\307\\340\\357\\360\\356\\361 \\340\\342\\`
   \   00000078   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   00000090   ........           DC32 `?<Constant "\\300\\342\\362\\356\\360\\350\\347\\356\\3`
   \   00000094   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   000000AC   ........           DC32 `?<Constant "\\316\\362\\352\\360\\373\\362\\374 \\350\\`
   \   000000B0   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442, 0H
   \              000000000000
   \              03000000A205
   \              000000000000
   \   000000C8   ........           DC32 `?<Constant "\\316\\367\\350\\361\\362\\350\\362\\374 \\`
   \   000000CC   FFFFFF7F0000       DC32 2147483647, 0, 0H, 3, 1442
   \              000000000000
   \              03000000A205
   \              0000        
   5839          {
   5840            {NULL,(int)LG_MNUQUOTE,    LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5841            {NULL,(int)LG_MNUADDSML,   LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5842            {NULL,(int)LG_MNUSHINFO,   LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5843            {NULL,(int)LG_MNUADDREN,   LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5844            {NULL,(int)LG_MNUSAUTHREQ, LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5845            {NULL,(int)LG_MNUSAUTHGRT, LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5846            {NULL,(int)LG_MNUOPENLOG,  LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2},
   5847            {NULL,(int)LG_MNUCLEARCHT, LGP_NULL,0,NULL,MENU_FLAG3,MENU_FLAG2}
   5848          };
   5849          
   5850          extern void AddSmile(GUI *data);

   \                                 In segment DATA_C, align 4, align-sorted
   5851          static const MENUPROCS_DESC ecmenu_HNDLS[EC_MNU_MAX]=
   \                     ecmenu_HNDLS:
   \   00000000   ............       DC32 Quote, AddSmile, GetShortInfo, AddCurContact, SendAuthReq
   \              ............
   \              ............
   \              ....        
   \   00000014   ............       DC32 SendAuthGrant, OpenLogfile, ClearLog
   \              ............

   \                                 In segment DATA_I, align 4, align-sorted
   \                     S_ICONS:
   \   00000000                      DS8 116
   \   00000074                      REQUIRE `?<Initializer for S_ICONS>`
   \                     gipc:
   \   00000074                      DS8 12
   \   00000080                      REQUIRE `?<Initializer for gipc>`
   \                     game_gipc:
   \   00000080                      DS8 12
   \   0000008C                      REQUIRE `?<Initializer for game_gipc>`
   \                     tmr_gipc:
   \   0000008C                      DS8 12
   \   00000098                      REQUIRE `?<Initializer for tmr_gipc>`
   \                     align:
   \   00000098                      DS8 4
   \   0000009C                      REQUIRE `?<Initializer for align>`
   \                     canvasdata:
   \   0000009C                      DS8 4
   \   000000A0                      REQUIRE `?<Initializer for canvasdata>`
   \                     paused_height:
   \   000000A0                      DS8 4
   \   000000A4                      REQUIRE `?<Initializer for paused_height>`
   \                     uins:
   \   000000A4                      DS8 4
   \   000000A8                      REQUIRE `?<Initializer for uins>`
   \                     Is_PING_On:
   \   000000A8                      DS8 4
   \   000000AC                      REQUIRE `?<Initializer for Is_PING_On>`
   \                     Is_SLI_On:
   \   000000AC                      DS8 4
   \   000000B0                      REQUIRE `?<Initializer for Is_SLI_On>`
   \                     Is_SMARTCPU_On:
   \   000000B0                      DS8 4
   \   000000B4                      REQUIRE `?<Initializer for Is_SMARTCPU_On>`
   \                     Is_INC_On:
   \   000000B4                      DS8 4
   \   000000B8                      REQUIRE `?<Initializer for Is_INC_On>`
   \                     Is_ILU_On:
   \   000000B8                      DS8 4
   \   000000BC                      REQUIRE `?<Initializer for Is_ILU_On>`
   \                     Is_Double_Vibra_On:
   \   000000BC                      DS8 4
   \   000000C0                      REQUIRE `?<Initializer for Is_Double_Vibra_On>`
   \                     total_unread:
   \   000000C0                      DS8 4
   \   000000C4                      REQUIRE `?<Initializer for total_unread>`
   \                     total_unread2:
   \   000000C4                      DS8 4
   \   000000C8                      REQUIRE `?<Initializer for total_unread2>`
   \                     maincsm_id:
   \   000000C8                      DS8 4
   \   000000CC                      REQUIRE `?<Initializer for maincsm_id>`
   \                     maingui_id:
   \   000000CC                      DS8 4
   \   000000D0                      REQUIRE `?<Initializer for maingui_id>`
   \                     SENDMSGCOUNT:
   \   000000D0                      DS8 4
   \   000000D4                      REQUIRE `?<Initializer for SENDMSGCOUNT>`
   \                     IsActiveUp:
   \   000000D4                      DS8 4
   \   000000D8                      REQUIRE `?<Initializer for IsActiveUp>`
   \                     Is_Id3tag_Enabled:
   \   000000D8                      DS8 4
   \   000000DC                      REQUIRE `?<Initializer for Is_Id3tag_Enabled>`
   \                     ews:
   \   000000DC                      DS8 4
   \   000000E0                      REQUIRE `?<Initializer for ews>`
   \                     msg_away_timer:
   \   000000E0                      DS8 4
   \   000000E4                      REQUIRE `?<Initializer for msg_away_timer>`
   \                     inp_away_msg2:
   \   000000E4                      DS8 4
   \   000000E8                      REQUIRE `?<Initializer for inp_away_msg2>`
   \                     away_m:
   \   000000E8                      DS8 4
   \   000000EC                      REQUIRE `?<Initializer for away_m>`
   \                     status_rem:
   \   000000EC                      DS8 4
   \   000000F0                      REQUIRE `?<Initializer for status_rem>`
   \                     change_back_status:
   \   000000F0                      DS8 4
   \   000000F4                      REQUIRE `?<Initializer for change_back_status>`
   \                     CurrentPrivateStatus:
   \   000000F4                      DS8 4
   \   000000F8                      REQUIRE `?<Initializer for CurrentPrivateStatus>`
   \                     vibra_count:
   \   000000F8                      DS8 4
   \   000000FC                      REQUIRE `?<Initializer for vibra_count>`
   \                     Is_UPTIME_On:
   \   000000FC                      DS8 4
   \   00000100                      REQUIRE `?<Initializer for Is_UPTIME_On>`
   \                     xstatus_old:
   \   00000100                      DS8 4
   \   00000104                      REQUIRE `?<Initializer for xstatus_old>`
   \                     minimum_xstatus:
   \   00000104                      DS8 4
   \   00000108                      REQUIRE `?<Initializer for minimum_xstatus>`
   \                     maximum:
   \   00000108                      DS8 4
   \   0000010C                      REQUIRE `?<Initializer for maximum>`
   \                     tracktimer:
   \   0000010C                      DS8 4
   \   00000110                      REQUIRE `?<Initializer for tracktimer>`
   \                     automsg:
   \   00000110                      DS8 4
   \   00000114                      REQUIRE `?<Initializer for automsg>`
   \                     input_awaymsg_id:
   \   00000114                      DS8 4
   \   00000118                      REQUIRE `?<Initializer for input_awaymsg_id>`
   \                     inp_away_m:
   \   00000118                      DS8 4
   \   0000011C                      REQUIRE `?<Initializer for inp_away_m>`
   \                     silenthide:
   \   0000011C                      DS8 4
   \   00000120                      REQUIRE `?<Initializer for silenthide>`
   \                     disautorecconect:
   \   00000120                      DS8 4
   \   00000124                      REQUIRE `?<Initializer for disautorecconect>`
   \                     Is_Vibra_Enabled:
   \   00000124                      DS8 4
   \   00000128                      REQUIRE `?<Initializer for Is_Vibra_Enabled>`
   \                     Is_Sounds_Enabled:
   \   00000128                      DS8 4
   \   0000012C                      REQUIRE `?<Initializer for Is_Sounds_Enabled>`
   \                     Is_Show_Offline:
   \   0000012C                      DS8 4
   \   00000130                      REQUIRE `?<Initializer for Is_Show_Offline>`
   \                     Is_Show_Groups:
   \   00000130                      DS8 4
   \   00000134                      REQUIRE `?<Initializer for Is_Show_Groups>`
   \                     CurrentStatus:
   \   00000134                      DS8 4
   \   00000138                      REQUIRE `?<Initializer for CurrentStatus>`
   \                     templates_chars:
   \   00000138                      DS8 4
   \   0000013C                      REQUIRE `?<Initializer for templates_chars>`
   \                     templates_lines:
   \   0000013C                      DS8 4
   \   00000140                      REQUIRE `?<Initializer for templates_lines>`
   \                     RXstate:
   \   00000140                      DS8 4
   \   00000144                      REQUIRE `?<Initializer for RXstate>`
   \                     connect_state:
   \   00000144                      DS8 4
   \   00000148                      REQUIRE `?<Initializer for connect_state>`
   \                     sock:
   \   00000148                      DS8 4
   \   0000014C                      REQUIRE `?<Initializer for sock>`
   \                     TOTALRECEIVED:
   \   0000014C                      DS8 4
   \   00000150                      REQUIRE `?<Initializer for TOTALRECEIVED>`
   \                     TOTALSENDED:
   \   00000150                      DS8 4
   \   00000154                      REQUIRE `?<Initializer for TOTALSENDED>`
   \                     ALLTOTALRECEIVED:
   \   00000154                      DS8 4
   \   00000158                      REQUIRE `?<Initializer for ALLTOTALRECEIVED>`
   \                     ALLTOTALSENDED:
   \   00000158                      DS8 4
   \   0000015C                      REQUIRE `?<Initializer for ALLTOTALSENDED>`
   \                     sendq_l:
   \   0000015C                      DS8 4
   \   00000160                      REQUIRE `?<Initializer for sendq_l>`
   \                     sendq_p:
   \   00000160                      DS8 4
   \   00000164                      REQUIRE `?<Initializer for sendq_p>`
   \                     is_gprs_online:
   \   00000164                      DS8 4
   \   00000168                      REQUIRE `?<Initializer for is_gprs_online>`
   \                     cltop:
   \   00000168                      DS8 4
   \   0000016C                      REQUIRE `?<Initializer for cltop>`
   \                     GROUP_CACHE:
   \   0000016C                      DS8 4
   \   00000170                      REQUIRE `?<Initializer for GROUP_CACHE>`
   \                     contactlist_menu_id:
   \   00000170                      DS8 4
   \   00000174                      REQUIRE `?<Initializer for contactlist_menu_id>`
   \                     edchat_id:
   \   00000174                      DS8 4
   \   00000178                      REQUIRE `?<Initializer for edchat_id>`
   \   00000178                      DS8 4
   \   0000017C                      REQUIRE `?<Initializer for prev_clmenu_itemcount>`
   \                     tenseconds_to_ping:
   \   0000017C                      DS8 4
   \   00000180                      REQUIRE `?<Initializer for tenseconds_to_ping>`
   \                     kopa_online:
   \   00000180                      DS8 4
   \   00000184                      REQUIRE `?<Initializer for kopa_online>`
   \                     kopa_kontaktu:
   \   00000184                      DS8 4
   \   00000188                      REQUIRE `?<Initializer for kopa_kontaktu>`
   \                     main_d:
   \   00000188                      DS8 4
   \   0000018C                      REQUIRE `?<Initializer for main_d>`
   \                     DNR_ID:
   \   0000018C                      DS8 4
   \   00000190                      REQUIRE `?<Initializer for DNR_ID>`
   \                     DNR_TRIES:
   \   00000190                      DS8 4
   \   00000194                      REQUIRE `?<Initializer for DNR_TRIES>`
   \                     host_counter:
   \   00000194                      DS8 4
   \   00000198                      REQUIRE `?<Initializer for host_counter>`
   \                     NEW_MSG:
   \   00000198                      DS8 4
   \   0000019C                      REQUIRE `?<Initializer for NEW_MSG>`
   \                     time_to_stop_t9:
   \   0000019C                      DS8 4
   \   000001A0                      REQUIRE `?<Initializer for time_to_stop_t9>`
   \                     comanda:
   \   000001A0                      DS8 4
   \   000001A4                      REQUIRE `?<Initializer for comanda>`
   \                     autobot:
   \   000001A4                      DS8 4
   \   000001A8                      REQUIRE `?<Initializer for autobot>`
   \                     INC_show:
   \   000001A8                      DS8 4
   \   000001AC                      REQUIRE `?<Initializer for INC_show>`
   \                     font:
   \   000001AC                      DS8 4
   \   000001B0                      REQUIRE `?<Initializer for font>`
   \                     old_ed_redraw:
   \   000001B0                      DS8 4
   \   000001B4                      REQUIRE `?<Initializer for old_ed_redraw>`
   \   000001B4                      DS8 64
   \   000001F4                      REQUIRE `?<Initializer for methods>`
   \                     elf_path:
   \   000001F4                      DS8 256
   \   000002F4                      REQUIRE `?<Initializer for elf_path>`
   \                     ContactT9Key:
   \   000002F4                      DS8 32
   \   00000314                      REQUIRE `?<Initializer for ContactT9Key>`
   \                     talk_sound:
   \   00000314                      DS8 128
   \   00000394                      REQUIRE `?<Initializer for talk_sound>`
   \                     unread_msg_info:
   \   00000394                      DS8 64
   \   000003D4                      REQUIRE `?<Initializer for unread_msg_info>`
   \                     last_msg_buffer:
   \   000003D4                      DS8 4048
   \   000013A4                      REQUIRE `?<Initializer for last_msg_buffer>`
   \                     mytmr3:
   \   000013A4                      DS8 16
   \   000013B4                      REQUIRE `?<Initializer for mytmr3>`
   \                     PINGO:
   \   000013B4                      DS8 256
   \   000014B4                      REQUIRE `?<Initializer for PINGO>`
   \                     away_msg:
   \   000014B4                      DS8 264
   \   000015BC                      REQUIRE `?<Initializer for away_msg>`
   \                     away_msg_time:
   \   000015BC                      DS8 64
   \   000015FC                      REQUIRE `?<Initializer for away_msg_time>`
   \                     away_msg_time_dace:
   \   000015FC                      DS8 16
   \   0000160C                      REQUIRE `?<Initializer for away_msg_time_dace>`
   \                     tim_zone:
   \   0000160C                      DS8 16
   \   0000161C                      REQUIRE `?<Initializer for tim_zone>`
   \                     away_tmr:
   \   0000161C                      DS8 16
   \   0000162C                      REQUIRE `?<Initializer for away_tmr>`
   \                     mytmr:
   \   0000162C                      DS8 16
   \   0000163C                      REQUIRE `?<Initializer for mytmr>`
   \                     mytmr2:
   \   0000163C                      DS8 16
   \   0000164C                      REQUIRE `?<Initializer for mytmr2>`
   \                     mytmr4:
   \   0000164C                      DS8 16
   \   0000165C                      REQUIRE `?<Initializer for mytmr4>`
   \                     tracktmr:
   \   0000165C                      DS8 16
   \   0000166C                      REQUIRE `?<Initializer for tracktmr>`
   \                     hah:
   \   0000166C                      DS8 128
   \   000016EC                      REQUIRE `?<Initializer for hah>`
   \                     logmsg:
   \   000016EC                      DS8 256
   \   000017EC                      REQUIRE `?<Initializer for logmsg>`
   \                     tmr_illumination:
   \   000017EC                      DS8 16
   \   000017FC                      REQUIRE `?<Initializer for tmr_illumination>`
   \                     tmr_vibra:
   \   000017FC                      DS8 16
   \   0000180C                      REQUIRE `?<Initializer for tmr_vibra>`
   \                     reconnect_tmr:
   \   0000180C                      DS8 16
   \   0000181C                      REQUIRE `?<Initializer for reconnect_tmr>`
   \                     tmr_active:
   \   0000181C                      DS8 16
   \   0000182C                      REQUIRE `?<Initializer for tmr_active>`
   \                     clm_hdr_text:
   \   0000182C                      DS8 48
   \   0000185C                      REQUIRE `?<Initializer for clm_hdr_text>`
   \                     clmenu_sk_r:
   \   0000185C                      DS8 16
   \   0000186C                      REQUIRE `?<Initializer for clmenu_sk_r>`
   \                     hostbuf2:
   \   0000186C                      DS8 128
   \   000018EC                      REQUIRE `?<Initializer for hostbuf2>`
   \                     I_UIN:
   \   000018EC                      DS8 12
   \   000018F8                      REQUIRE `?<Initializer for I_UIN>`
   \                     a_txt:
   \   000018F8                      DS8 48
   \   00001928                      REQUIRE `?<Initializer for a_txt>`
   \                     s_txt:
   \   00001928                      DS8 48
   \   00001958                      REQUIRE `?<Initializer for s_txt>`
   \                     d_txt:
   \   00001958                      DS8 48
   \   00001988                      REQUIRE `?<Initializer for d_txt>`
   \                     f_txt:
   \   00001988                      DS8 48
   \   000019B8                      REQUIRE `?<Initializer for f_txt>`
   \                     g_txt:
   \   000019B8                      DS8 48
   \   000019E8                      REQUIRE `?<Initializer for g_txt>`
   \                     develop:
   \   000019E8                      DS8 16
   \   000019F8                      REQUIRE `?<Initializer for develop>`
   \                     requests1:
   \   000019F8                      DS8 24
   \   00001A10                      REQUIRE `?<Initializer for requests1>`
   \                     requests2:
   \   00001A10                      DS8 20
   \   00001A24                      REQUIRE `?<Initializer for requests2>`
   \                     requests3:
   \   00001A24                      DS8 24
   \   00001A3C                      REQUIRE `?<Initializer for requests3>`
   \                     requests4:
   \   00001A3C                      DS8 20
   \   00001A50                      REQUIRE `?<Initializer for requests4>`
   \                     requests6:
   \   00001A50                      DS8 24
   \   00001A68                      REQUIRE `?<Initializer for requests6>`
   \                     mod_info:
   \   00001A68                      DS8 268
   \   00001B74                      REQUIRE `?<Initializer for mod_info>`
   \                     show_nick:
   \   00001B74                      DS8 32
   \   00001B94                      REQUIRE `?<Initializer for show_nick>`
   \                     MAINCSM:
   \   00001B94                      DS8 60
   \   00001BD0                      REQUIRE `?<Initializer for MAINCSM>`
   5852          {
   5853            Quote,
   5854            AddSmile,
   5855            GetShortInfo,
   5856            AddCurContact,
   5857            SendAuthReq,
   5858            SendAuthGrant,
   5859            OpenLogfile,
   5860            ClearLog,
   5861          };
   5862          
   5863          char ecm_contactname[64];
   \                     ecm_contactname:
   \   00001BD0                      DS8 64
   \   00001C10                      REQUIRE `?<Initializer for ecm_contactname>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     ??sk:
   \   00000000                      DS8 8
   \   00000008                      REQUIRE `?<Initializer for sk>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     input_awaymsg_sk:
   \   00000000                      DS8 24
   \   00000018                      REQUIRE `?<Initializer for input_awaymsg_sk>`

   \                                 In segment DATA_I, align 4, align-sorted
   \                     input_awaymsg_skt:
   \   00000000                      DS8 8
   \   00000008                      REQUIRE `?<Initializer for input_awaymsg_skt>`
   5864          

   \                                 In segment DATA_C, align 4, align-sorted
   5865          static const HEADER_DESC ecmenu_HDR={0,0,NULL,NULL,NULL,(int)ecm_contactname,LGP_NULL};
   \                     ecmenu_HDR:
   \   00000000   000000000000       DC16 0, 0, 0, 0
   \              0000        
   \   00000008   00000000....       DC32 0H, ecm_contactname, 2147483647
   \              ....FFFFFF7F
   \   00000014   080000000000       DC32 8, 0H, ecmenu_ghook, 0H, menusoftkeys, menu_skt, 0, 0H
   \              0000........
   \              00000000....
   \              ............
   \              000000000000
   \              0000        
   \   00000034   ............       DC32 ecmenu_ITEMS, ecmenu_HNDLS, 8
   \              ....08000000
   5866          
   5867          static const MENU_DESC ecmenu_STRUCT=
   5868          {
   5869            8,NULL,ecmenu_ghook,NULL,
   5870            menusoftkeys,
   5871            &menu_skt,
   5872            0,
   5873            NULL,
   5874            ecmenu_ITEMS,
   5875            ecmenu_HNDLS,
   5876            EC_MNU_MAX
   5877          };
   5878          

   \                                 In segment CODE, align 4, keep-with-next
   5879          void ec_menu(EDCHAT_STRUCT *ed_struct)
   5880          {
   \                     ec_menu:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   24D04DE2           SUB      SP,SP,#+36
   \   00000008   0040A0E1           MOV      R4,R0
   5881            CLIST *t;
   5882            int to_remove[EC_MNU_MAX+1];
   5883            int remove=0;
   5884            if ((t=ed_struct->ed_contact))
   \   0000000C   001094E5           LDR      R1,[R4, #+0]
   \   00000010   000051E3           CMP      R1,#+0
   \   00000014   4500000A           BEQ      ??ec_menu_0
   5885            {
   5886              if (t->name)
   \   00000018   ........           LDR      R5,??DataTable229  ;; S_ICONS
   \   0000001C   D000A0E3           MOV      R0,#+208
   \   00000020   6C0D80E3           ORR      R0,R0,#0x1B00
   \   00000024   050080E0           ADD      R0,R0,R5
   \   00000028   142091E2           ADDS     R2,R1,#+20
   \   0000002C   0300000A           BEQ      ??ec_menu_1
   5887              {
   5888                strncpy(ecm_contactname,t->name,63);
   \   00000030   3F20A0E3           MOV      R2,#+63
   \   00000034   141081E2           ADD      R1,R1,#+20
   \   00000038   160100EF           SWI      +278
   \   0000003C   020000EA           B        ??ec_menu_2
   5889              }
   5890              else
   5891              {
   5892                sprintf(ecm_contactname,"%u",t->uin);
   \                     ??ec_menu_1:
   \   00000040   0C2091E5           LDR      R2,[R1, #+12]
   \   00000044   3B1F8FE2           ADR      R1,??ec_menu_3   ;; "%u"
   \   00000048   160000EF           SWI      +22
   5893              }
   5894              if (EDIT_GetFocus(ed_struct->ed_chatgui)==ed_struct->ed_answer)
   \                     ??ec_menu_2:
   \   0000004C   040094E5           LDR      R0,[R4, #+4]
   \   00000050   0160A0E3           MOV      R6,#+1
   \   00000054   820100EF           SWI      +386
   \   00000058   082094E5           LDR      R2,[R4, #+8]
   \   0000005C   0010A0E3           MOV      R1,#+0
   \   00000060   020050E1           CMP      R0,R2
   5895              {
   5896                to_remove[++remove]=0;
   \   00000064   04108D05           STREQ    R1,[SP, #+4]
   5897              }
   5898              else
   5899              {
   5900                to_remove[++remove]=1;
   \   00000068   0120A013           MOVNE    R2,#+1
   \   0000006C   04208D15           STRNE    R2,[SP, #+4]
   5901              }
   5902              
   5903              if (ed_struct->ed_answer<=2) to_remove[++remove]=7;
   \   00000070   080094E5           LDR      R0,[R4, #+8]
   \   00000074   030050E3           CMP      R0,#+3
   \   00000078   0720A0B3           MOVLT    R2,#+7
   \   0000007C   08208DB5           STRLT    R2,[SP, #+8]
   5904              if (!ed_struct->ed_contact || connect_state!=3)
   \   00000080   000094E5           LDR      R0,[R4, #+0]
   \   00000084   0260A0B3           MOVLT    R6,#+2
   \   00000088   000050E3           CMP      R0,#+0
   \   0000008C   0200000A           BEQ      ??ec_menu_4
   \   00000090   440195E5           LDR      R0,[R5, #+324]
   \   00000094   030050E3           CMP      R0,#+3
   \   00000098   0D00000A           BEQ      ??ec_menu_5
   5905              {
   5906                to_remove[++remove]=2;
   \                     ??ec_menu_4:
   \   0000009C   010086E2           ADD      R0,R6,#+1
   \   000000A0   0D20A0E1           MOV      R2,SP
   \   000000A4   0230A0E3           MOV      R3,#+2
   \   000000A8   003182E7           STR      R3,[R2, +R0, LSL #+2]
   5907                to_remove[++remove]=3;
   \   000000AC   010080E2           ADD      R0,R0,#+1
   \   000000B0   0330A0E3           MOV      R3,#+3
   \   000000B4   003182E7           STR      R3,[R2, +R0, LSL #+2]
   5908                to_remove[++remove]=4;
   \   000000B8   010080E2           ADD      R0,R0,#+1
   \   000000BC   0430A0E3           MOV      R3,#+4
   \   000000C0   003182E7           STR      R3,[R2, +R0, LSL #+2]
   5909                to_remove[++remove]=5;
   \   000000C4   016080E2           ADD      R6,R0,#+1
   \   000000C8   0D00A0E1           MOV      R0,SP
   \   000000CC   0520A0E3           MOV      R2,#+5
   \   000000D0   062180E7           STR      R2,[R0, +R6, LSL #+2]
   5910              }
   5911              
   5912              patch_header(&ecmenu_HDR);
   \                     ??ec_menu_5:
   \   000000D4   60509FE5           LDR      R5,??ec_menu_3+0x4  ;; ecmenu_HDR
   \   000000D8   1800A0E3           MOV      R0,#+24
   \   000000DC   B010C5E1           STRH     R1,[R5, #+0]
   \   000000E0   B200C5E1           STRH     R0,[R5, #+2]
   \   000000E4   888100EF           SWI      +33160
   \   000000E8   010040E2           SUB      R0,R0,#+1
   \   000000EC   B400C5E1           STRH     R0,[R5, #+4]
   \   000000F0   8A8100EF           SWI      +33162
   \   000000F4   170080E2           ADD      R0,R0,#+23
   \   000000F8   B600C5E1           STRH     R0,[R5, #+6]
   5913              to_remove[0]=remove;
   \   000000FC   00608DE5           STR      R6,[SP, #+0]
   5914              CreateMenu(0,0,&ecmenu_STRUCT,&ecmenu_HDR,0,EC_MNU_MAX,ed_struct,to_remove);
   \   00000100   0D00A0E1           MOV      R0,SP
   \   00000104   01002DE9           PUSH     {R0}
   \   00000108   10002DE9           PUSH     {R4}
   \   0000010C   0530A0E1           MOV      R3,R5
   \   00000110   0800A0E3           MOV      R0,#+8
   \   00000114   01002DE9           PUSH     {R0}
   \   00000118   142085E2           ADD      R2,R5,#+20
   \   0000011C   0010A0E3           MOV      R1,#+0
   \   00000120   0000A0E3           MOV      R0,#+0
   \   00000124   01002DE9           PUSH     {R0}
   \   00000128   520100EF           SWI      +338
   \   0000012C   10D08DE2           ADD      SP,SP,#+16
   5915            }
   5916          }
   \                     ??ec_menu_0:
   \   00000130   24D08DE2           ADD      SP,SP,#+36       ;; stack cleaning
   \   00000134   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??ec_menu_3:
   \   00000138   25750000           DC8      "%u",+0
   \   0000013C   ........           DC32     ecmenu_HDR
   5917          
   5918          

   \                                 In segment CODE, align 4, keep-with-next
   5919          void AskNickAndAddContact(EDCHAT_STRUCT *ed_struct)
   5920          {
   5921            CreateAddContactGrpDialog(ed_struct->ed_contact);
   \                     AskNickAndAddContact:
   \   00000000   000090E5           LDR      R0,[R0, #+0]
   \   00000004   ........           _BF      CreateAddContactGrpDialog,??CreateAddContactGrpDialog??rA  ;; tailcall
   5922          }
   5923          

   \                                 In segment CODE, align 4, keep-with-next
   5924          void AddSmile(GUI *data)
   5925          {
   \                     AddSmile:
   \   00000000   00402DE9           PUSH     {LR}
   5926            EDCHAT_STRUCT *ed_struct=MenuGetUserPointer(data);
   \   00000004   E00100EF           SWI      +480
   5927            CreateSmileSelectGUI(ed_struct);
   \   00000008   ........           _BLF     CreateSmileSelectGUI,??CreateSmileSelectGUI??rA
   5928            GeneralFuncF1(1);
   \   0000000C   0100A0E3           MOV      R0,#+1
   \   00000010   3B0100EF           SWI      +315
   5929          }
   \   00000014   0080BDE8           POP      {PC}             ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   ........           DC32     Pinger2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32     SendAnswer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   ........           DC32     AUTO_ENGADE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   ........           DC32     Auto_Status

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   ........           DC32     Remind_Timer2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   ........           DC32     GetTags

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable19:
   \   00000000   ........           DC32     spaco1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable20:
   \   00000000   ........           DC32     fonto

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable22:
   \   00000000   ........           DC32     away_msg2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable26:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable31:
   \   00000000   ........           DC32     UIN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable32:
   \   00000000   ........           DC32     def_setting

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable33:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable34:
   \   00000000   ........           DC32     CurrentXStatus

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable40:
   \   00000000   ........           DC32     vibraPower

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable43:
   \   00000000   ........           DC32     VIBR_TYPE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable47:
   \   00000000   ........           DC32     TEMPLATES_PATH

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable50:
   \   00000000   ........           DC32     TIME_OR_MSG

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable54:
   \   00000000   ........           DC32     XStatusesImgList

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable56:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable57:
   \   00000000   ........           DC32     HISTORY_BUFFER

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable59:
   \   00000000   ........           DC32     AUTO_ENGADE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable60:
   \   00000000   ........           DC32     S_ICONS + 360

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable61:
   \   00000000   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable62:
   \   00000000   ........           DC32     total_xstatuses

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable63:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable65:
   \   00000000   ........           DC32     do_reconnect

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable71:
   \   00000000   ........           DC32     UIN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable72:
   \   00000000   ........           DC32     SendAnswer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable74:
   \   00000000   ........           DC32     extended_sounds

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable75:
   \   00000000   ........           DC32     main_count

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable76:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable77:
   \   00000000   ........           DC32     HISTORY_BUFFER

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable80:
   \   00000000   ........           DC32     ED_X_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable82:
   \   00000000   ........           DC32     X_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable83:
   \   00000000   ........           DC32     O_ED_X_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable84:
   \   00000000   ........           DC32     O_X_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable92:
   \   00000000   ........           DC32     O_ED_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable93:
   \   00000000   ........           DC32     ED_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable95:
   \   00000000   ........           DC32     ACK_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable96:
   \   00000000   ........           DC32     O_TO_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable97:
   \   00000000   ........           DC32     O_I_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable98:
   \   00000000   ........           DC32     TO_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable99:
   \   00000000   ........           DC32     I_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable100:
   \   00000000   ........           DC32     UNACK_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable101:
   \   00000000   ........           DC32     O_ED_H_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable102:
   \   00000000   ........           DC32     ED_H_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable103:
   \   00000000   ........           DC32     S_ICONS + 308

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable107:
   \   00000000   ........           DC32     CurrentXStatus

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable112:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable114:
   \   00000000   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable115:
   \   00000000   ........           DC32     SendAnswer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable116:
   \   00000000   ........           DC32     main_count

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable117:
   \   00000000   ........           DC32     main2_count

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable118:
   \   00000000   ........           DC32     away_msg2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable120:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable123:
   \   00000000   ........           DC32     VIBR_ON_CONNECT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable124:
   \   00000000   ........           DC32     extended_sounds

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable125:
   \   00000000   ........           DC32     TIME_OR_MSG

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable126:
   \   00000000   ........           DC32     HISTORY_BUFFER

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable127:
   \   00000000   ........           DC32     SHOW_ACTIVE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable128:
   \   00000000   ........           DC32     VIBR_TYPE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable129:
   \   00000000   ........           DC32     main_count

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable133:
   \   00000000   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable134:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable135:
   \   00000000   ........           DC32     total_xstatuses

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable139:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable140:
   \   00000000   ........           DC32     AUTO_ENGADE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable143:
   \   00000000   ........           DC32     process_active_timer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable154:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable157:
   \   00000000   ........           DC32     XStatusesImgList

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable160:
   \   00000000   ........           DC32     CurrentXStatus

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable162:
   \   00000000   ........           DC32     Auto_Status

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable163:
   \   00000000   ........           DC32     spaco1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable168:
   \   00000000   ........           DC32     do_reconnect

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable169:
   \   00000000   ........           DC32     create_connect

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable170:
   \   00000000   ........           DC32     VIBR_ON_CONNECT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable172:
   \   00000000   ........           DC32     SendAnswer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable173:
   \   00000000   ........           DC32     end_socket

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable174:
   \   00000000   ........           DC32     ClearSendQ

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable175:
   \   00000000   ........           DC32     S_ICONS + 308

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable177:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable178:
   \   00000000   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable179:
   \   00000000   ........           DC32     UIN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable180:
   \   00000000   ........           DC32     successed_config_filename

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable181:
   \   00000000   ........           DC32     ElfKiller

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable182:
   \   00000000   ........           DC32     fontpath

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable183:
   \   00000000   ........           DC32     fonto

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable184:
   \   00000000   ........           DC32     Pinger2

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable185:
   \   00000000   ........           DC32     my_keyhook

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable187:
   \   00000000   ........           DC32     S_ICONS + 360

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable190:
   \   00000000   ........           DC32     `?<Constant "abcdefghijklmnopqrstu...">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable191:
   \   00000000   ........           DC32     end_socket

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable193:
   \   00000000   ........           DC32     create_connect

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable195:
   \   00000000   ........           DC32     SHOW_ACTIVE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable198:
   \   00000000   ........           DC32     main2_count

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable199:
   \   00000000   ........           DC32     TEMPLATES_PATH

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable201:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable202:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable203:
   \   00000000   ........           DC32     ED_X_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable204:
   \   00000000   ........           DC32     ED_H_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable205:
   \   00000000   ........           DC32     I_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable206:
   \   00000000   ........           DC32     X_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable207:
   \   00000000   ........           DC32     O_ED_X_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable208:
   \   00000000   ........           DC32     O_X_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable209:
   \   00000000   ........           DC32     ACK_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable210:
   \   00000000   ........           DC32     O_I_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable211:
   \   00000000   ........           DC32     O_TO_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable212:
   \   00000000   ........           DC32     O_ED_H_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable213:
   \   00000000   ........           DC32     TO_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable214:
   \   00000000   ........           DC32     UNACK_COLOR

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable215:
   \   00000000   ........           DC32     O_ED_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable217:
   \   00000000   ........           DC32     ED_FONT_SIZE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable223:
   \   00000000   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\` + 31

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable225:
   \   00000000   ........           DC32     `?<Constant "\\302\\373 \\340\\342\\362\\356\\360\\350\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable226:
   \   00000000   ........           DC32     S_ICONS + 324

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable227:
   \   00000000   ........           DC32     SendAnswer

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable228:
   \   00000000   ........           DC32     UIN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable229:
   \   00000000   ........           DC32     S_ICONS

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable230:
   \   00000000   ........           DC32     GetTags

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for S_ICONS>`:
   \   00000000   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000010   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000020   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000030   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000040   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000050   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000060   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
   \                     `?<Initializer for gipc>`:
   \   00000074   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for game_gipc>`:
   \   00000080   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for tmr_gipc>`:
   \   0000008C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for align>`:
   \   00000098   00000000           DC32 0
   \                     `?<Initializer for canvasdata>`:
   \   0000009C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for paused_height>`:
   \   000000A0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for uins>`:
   \   000000A4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_PING_On>`:
   \   000000A8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_SLI_On>`:
   \   000000AC   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_SMARTCPU_On>`:
   \   000000B0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_INC_On>`:
   \   000000B4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_ILU_On>`:
   \   000000B8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_Double_Vibra_On>`:
   \   000000BC   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for total_unread>`:
   \   000000C0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for total_unread2>`:
   \   000000C4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for maincsm_id>`:
   \   000000C8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for maingui_id>`:
   \   000000CC   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for SENDMSGCOUNT>`:
   \   000000D0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for IsActiveUp>`:
   \   000000D4   00000000           DC32 0
   \                     `?<Initializer for Is_Id3tag_Enabled>`:
   \   000000D8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for ews>`:
   \   000000DC   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for msg_away_timer>`:
   \   000000E0   00000000           DC32 0
   \                     `?<Initializer for inp_away_msg2>`:
   \   000000E4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for away_m>`:
   \   000000E8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for status_rem>`:
   \   000000EC   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for change_back_status>`:
   \   000000F0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for CurrentPrivateStatus>`:
   \   000000F4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for vibra_count>`:
   \   000000F8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_UPTIME_On>`:
   \   000000FC   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for xstatus_old>`:
   \   00000100   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for minimum_xstatus>`:
   \   00000104   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for maximum>`:
   \   00000108   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for tracktimer>`:
   \   0000010C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for automsg>`:
   \   00000110   00000000           DC32 0
   \                     `?<Initializer for input_awaymsg_id>`:
   \   00000114   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for inp_away_m>`:
   \   00000118   00000000           DC32 0
   \                     `?<Initializer for silenthide>`:
   \   0000011C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for disautorecconect>`:
   \   00000120   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_Vibra_Enabled>`:
   \   00000124   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_Sounds_Enabled>`:
   \   00000128   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_Show_Offline>`:
   \   0000012C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for Is_Show_Groups>`:
   \   00000130   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for CurrentStatus>`:
   \   00000134   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for templates_chars>`:
   \   00000138   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for templates_lines>`:
   \   0000013C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for RXstate>`:
   \   00000140   F6FFFFFF           DC32 -10
   \                     `?<Initializer for connect_state>`:
   \   00000144   00000000           DC32 0
   \                     `?<Initializer for sock>`:
   \   00000148   FFFFFFFF           DC32 -1
   \                     `?<Initializer for TOTALRECEIVED>`:
   \   0000014C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for TOTALSENDED>`:
   \   00000150   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for ALLTOTALRECEIVED>`:
   \   00000154   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for ALLTOTALSENDED>`:
   \   00000158   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for sendq_l>`:
   \   0000015C   00000000           DC32 0
   \                     `?<Initializer for sendq_p>`:
   \   00000160   00000000           DC32 0H
   \                     `?<Initializer for is_gprs_online>`:
   \   00000164   01000000           DC32 1
   \                     `?<Initializer for cltop>`:
   \   00000168   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for GROUP_CACHE>`:
   \   0000016C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for contactlist_menu_id>`:
   \   00000170   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for edchat_id>`:
   \   00000174   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for prev_clmenu_itemcount>`:
   \   00000178   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for tenseconds_to_ping>`:
   \   0000017C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for kopa_online>`:
   \   00000180   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for kopa_kontaktu>`:
   \   00000184   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for main_d>`:
   \   00000188   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for DNR_ID>`:
   \   0000018C   00000000           DC32 0
   \                     `?<Initializer for DNR_TRIES>`:
   \   00000190   03000000           DC32 3
   \                     `?<Initializer for host_counter>`:
   \   00000194   00000000           DC32 0
   \                     `?<Initializer for NEW_MSG>`:
   \   00000198   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for time_to_stop_t9>`:
   \   0000019C   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for comanda>`:
   \   000001A0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for autobot>`:
   \   000001A4   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for INC_show>`:
   \   000001A8   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for font>`:
   \   000001AC   09000000           DC32 9
   \                     `?<Initializer for old_ed_redraw>`:
   \   000001B0   00000000           DC8 0, 0, 0, 0
   \                     `?<Initializer for methods>`:
   \   000001B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000001E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for elf_path>`:
   \   000001F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000204   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000214   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000224   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000234   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000244   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000254   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000264   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000274   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000284   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000294   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000002A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000002B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000002C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000002D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000002E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for ContactT9Key>`:
   \   000002F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000304   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for talk_sound>`:
   \   00000314   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000324   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000334   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000344   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000354   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000364   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000374   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000384   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for unread_msg_info>`:
   \   00000394   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000003A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000003B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000003C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for last_msg_buffer>`:
   \   000003D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000003E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000003F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000404   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000414   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000424   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000434   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000444   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000454   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000464   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000474   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000484   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000494   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000004A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000004B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000004C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000004D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000004E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000004F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000504   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000514   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000524   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000534   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000544   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000554   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000564   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000574   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000584   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000594   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000005A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000005B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000005C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000005D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000005E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000005F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000604   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000614   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000624   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000634   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000644   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000654   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000664   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000674   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000684   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000694   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000006A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000006B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000006C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000006D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000006E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000006F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000704   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000714   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000724   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000734   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000744   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000754   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000764   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000774   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000784   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000794   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000007A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000007B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000007C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000007D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000007E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000007F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000804   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000814   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000824   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000834   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000844   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000854   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000864   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000874   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000884   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000894   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000008A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000008B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000008C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000008D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000008E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000008F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000904   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000914   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000924   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000934   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000944   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000954   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000964   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000974   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000984   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000994   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000009A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000009B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000009C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000009D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000009E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000009F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A04   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A14   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A24   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A34   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A44   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A54   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A64   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000A94   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000AA4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000AB4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000AC4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000AD4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000AE4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000AF4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B04   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B14   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B24   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B34   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B44   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B54   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B64   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000B94   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000BA4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000BB4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000BC4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000BD4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000BE4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000BF4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C04   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C14   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C24   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C34   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C44   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C54   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C64   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000C94   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000CA4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000CB4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000CC4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000CD4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000CE4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000CF4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D04   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D14   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D24   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D34   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D44   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D54   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D64   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000D94   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000DA4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000DB4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000DC4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000DD4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000DE4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000DF4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E04   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E14   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E24   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E34   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E44   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E54   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E64   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000E94   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000EA4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000EB4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000EC4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000ED4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000EE4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000EF4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F04   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F14   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F24   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F34   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F44   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F54   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F64   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000F94   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000FA4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000FB4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000FC4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000FD4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000FE4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00000FF4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001004   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001014   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001024   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001034   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001044   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001054   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001064   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001074   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001084   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001094   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000010A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000010B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000010C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000010D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000010E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000010F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001104   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001114   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001124   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001134   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001144   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001154   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001164   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001174   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001184   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001194   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000011A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000011B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000011C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000011D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000011E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000011F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001204   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001214   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001224   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001234   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001244   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001254   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001264   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001274   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001284   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001294   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000012A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000012B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000012C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000012D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000012E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000012F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001304   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001314   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001324   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001334   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001344   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001354   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001364   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001374   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001384   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001394   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for mytmr3>`:
   \   000013A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for PINGO>`:
   \   000013B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000013C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000013D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000013E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000013F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001404   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001414   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001424   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001434   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001444   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001454   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001464   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001474   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001484   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001494   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000014A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for away_msg>`:
   \   000014B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000014C4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000014D4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000014E4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000014F4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001504   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001514   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001524   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001534   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001544   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001554   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001564   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001574   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001584   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001594   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000015A4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000015B4   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0
   \              0000        
   \                     `?<Initializer for away_msg_time>`:
   \   000015BC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000015CC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000015DC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000015EC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for away_msg_time_dace>`:
   \   000015FC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for tim_zone>`:
   \   0000160C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for away_tmr>`:
   \   0000161C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for mytmr>`:
   \   0000162C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for mytmr2>`:
   \   0000163C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for mytmr4>`:
   \   0000164C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for tracktmr>`:
   \   0000165C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for hah>`:
   \   0000166C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000167C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000168C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000169C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000016AC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000016BC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000016CC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000016DC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for logmsg>`:
   \   000016EC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000016FC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000170C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000171C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000172C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000173C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000174C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000175C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000176C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000177C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000178C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000179C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000017AC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000017BC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000017CC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000017DC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for tmr_illumination>`:
   \   000017EC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for tmr_vibra>`:
   \   000017FC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for reconnect_tmr>`:
   \   0000180C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for tmr_active>`:
   \   0000181C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for clm_hdr_text>`:
   \   0000182C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000183C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000184C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for clmenu_sk_r>`:
   \   0000185C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for hostbuf2>`:
   \   0000186C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000187C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000188C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000189C   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000018AC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000018BC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000018CC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000018DC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for I_UIN>`:
   \   000018EC   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for a_txt>`:
   \   000018F8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001908   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001918   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for s_txt>`:
   \   00001928   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001938   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001948   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for d_txt>`:
   \   00001958   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001968   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001978   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for f_txt>`:
   \   00001988   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001998   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000019A8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for g_txt>`:
   \   000019B8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000019C8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   000019D8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for develop>`:
   \   000019E8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for requests1>`:
   \   000019F8   53656E64696E       DC8 "Sending online time..."
   \              67206F6E6C69
   \              6E652074696D
   \              652E2E2E00  
   \   00001A0F   00                 DC8 0
   \                     `?<Initializer for requests2>`:
   \   00001A10   53656E64696E       DC8 "Sending msg info..."
   \              67206D736720
   \              696E666F2E2E
   \              2E00        
   \                     `?<Initializer for requests3>`:
   \   00001A24   53656E64696E       DC8 "Sending battery info..."
   \              672062617474
   \              65727920696E
   \              666F2E2E2E00
   \                     `?<Initializer for requests4>`:
   \   00001A3C   53656E64696E       DC8 "Sending mod info..."
   \              67206D6F6420
   \              696E666F2E2E
   \              2E00        
   \                     `?<Initializer for requests6>`:
   \   00001A50   53656E64696E       DC8 "Sending offline info..."
   \              67206F66666C
   \              696E6520696E
   \              666F2E2E2E00
   \                     `?<Initializer for mod_info>`:
   \   00001A68   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001A78   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001A88   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001A98   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001AA8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001AB8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001AC8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001AD8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001AE8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001AF8   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B08   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B18   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B28   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B38   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B48   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B58   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B68   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \                     `?<Initializer for show_nick>`:
   \   00001B74   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001B84   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \                     `?<Initializer for MAINCSM>`:
   \   00001B94   ............       DC32 maincsm_onmessage, maincsm_oncreate, 0, 0, 0, 0, maincsm_onclose
   \              ....00000000
   \              000000000000
   \              000000000000
   \              ........    
   \   00001BB0   2C0000000100       DC32 44, 1, minus11, maincsm_name_body, 55AACCCCH, 3333AA55H, 0
   \              0000........
   \              ........CCCC
   \              AA5555AA3333
   \              00000000    
   \   00001BCC   8B00               DC16 139
   \   00001BCE   0000               DC8 0, 0
   \                     `?<Initializer for ecm_contactname>`:
   \   00001BD0   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001BE0   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001BF0   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   00001C00   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for sk>`:
   \   00000000   FF0F0000           DC16 4095, 0
   \   00000004   ........           DC32 `?<Constant "\\321\\356\\365\\360\\340\\355\\350\\362\\3`

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for input_awaymsg_sk>`:
   \   00000000   18000000           DC16 24, 0
   \   00000004   ........           DC32 `?<Constant "\\313\\345\\342">`
   \   00000008   01000000           DC16 1, 0
   \   0000000C   ........           DC32 `?<Constant "\\317\\360\\340\\342">`
   \   00000010   3D000000           DC16 61, 0
   \   00000014   FBC0FF7F           DC32 2147467515

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for input_awaymsg_skt>`:
   \   00000000   ........0000       DC32 input_awaymsg_sk, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\317\\360\\340\\342">`:
   \   00000000   CFF0E0E200         DC8 "\317\360\340\342"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\316\\357\\366\\350\\350">`:
   \   00000000   CEEFF6E8E800       DC8 "\316\357\366\350\350"
   \   00000006   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\307\\340\\352\\360\\373\\362\\374">`:
   \   00000000   C7E0EAF0FBF2       DC8 "\307\340\352\360\373\362\374"
   \              FC00        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\326\\350\\362\\350\\360\\356\\342\\340\\3`:
   \   00000000   D6E8F2E8F0EE       DC8 "\326\350\362\350\360\356\342\340\362\374"
   \              E2E0F2FC00  
   \   0000000B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\302\\361\\362\\340\\342\\350\\362\\374 \\`:
   \   00000000   C2F1F2E0E2E8       DC8 "\302\361\362\340\342\350\362\374 \361\354\340\351\353"
   \              F2FC20F1ECE0
   \              E9EB00      
   \   0000000F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\317\\356\\353\\363\\367\\350\\362\\374 \\`:
   \   00000000   CFEEEBF3F7E8       DC8 "\317\356\353\363\367\350\362\374 \350\355\364\356"
   \              F2FC20E8EDF4
   \              EE00        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\304\\356\\341\\340\\342./\\350\\354\\377`:
   \   00000000   C4EEE1E0E22E       DC8 "\304\356\341\340\342./\350\354\377"
   \              2FE8ECFF00  
   \   0000000B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\307\\340\\357\\360\\356\\361 \\340\\342\\`:
   \   00000000   C7E0EFF0EEF1       DC8 "\307\340\357\360\356\361 \340\342\362\356\360\350\347."
   \              20E0E2F2EEF0
   \              E8E72E00    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\300\\342\\362\\356\\360\\350\\347\\356\\3`:
   \   00000000   C0E2F2EEF0E8       DC8 "\300\342\362\356\360\350\347\356\342\340\362\374"
   \              E7EEE2E0F2FC
   \              00          
   \   0000000D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\316\\362\\352\\360\\373\\362\\374 \\350\\`:
   \   00000000   CEF2EAF0FBF2       DC8 "\316\362\352\360\373\362\374 \350\361\362\356\360\350\376"
   \              FC20E8F1F2EE
   \              F0E8FE00    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\316\\367\\350\\361\\362\\350\\362\\374 \\`:
   \   00000000   CEF7E8F1F2E8       DC8 "\316\367\350\361\362\350\362\374 \367\340\362"
   \              F2FC20F7E0F2
   \              00          
   \   0000000D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%02d:%02d">`:
   \   00000000   253032643A25       DC8 "%02d:%02d"
   \              30326400    
   \   0000000A   0000               DC8 0, 0
   \   0000000C   28EEF2F1F3F2       DC8 "(\356\362\361\363\362\361\362\342\363\376 \357\360\350\354\345\360\355\356 \361 %02d:%02d (%s) )"
   \              F1F2E2F3FE20
   \              EFF0E8ECE5F0
   \              EDEE20F12025
   \              3032643A2530
   \              326420282573
   \              29202900    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "GMT -12:00">`:
   \   00000000   474D54202D31       DC8 "GMT -12:00"
   \              323A303000  
   \   0000000B   00                 DC8 0
   \   0000000C   474D54202D31       DC8 "GMT -11:00"
   \              313A303000  
   \   00000017   00                 DC8 0
   \   00000018   474D54202D31       DC8 "GMT -10:00"
   \              303A303000  
   \   00000023   00                 DC8 0
   \   00000024   474D54202D30       DC8 "GMT -09:00"
   \              393A303000  
   \   0000002F   00                 DC8 0
   \   00000030   474D54202D30       DC8 "GMT -08:00"
   \              383A303000  
   \   0000003B   00                 DC8 0
   \   0000003C   474D54202D30       DC8 "GMT -07:00"
   \              373A303000  
   \   00000047   00                 DC8 0
   \   00000048   474D54202D30       DC8 "GMT -06:00"
   \              363A303000  
   \   00000053   00                 DC8 0
   \   00000054   474D54202D30       DC8 "GMT -05:00"
   \              353A303000  
   \   0000005F   00                 DC8 0
   \   00000060   474D54202D30       DC8 "GMT -04:00"
   \              343A303000  
   \   0000006B   00                 DC8 0
   \   0000006C   474D54202D30       DC8 "GMT -03:30"
   \              333A333000  
   \   00000077   00                 DC8 0
   \   00000078   474D54202D30       DC8 "GMT -03:00"
   \              333A303000  
   \   00000083   00                 DC8 0
   \   00000084   474D54202D30       DC8 "GMT -02:00"
   \              323A303000  
   \   0000008F   00                 DC8 0
   \   00000090   474D54202D30       DC8 "GMT -01:00"
   \              313A303000  
   \   0000009B   00                 DC8 0
   \   0000009C   474D54203030       DC8 "GMT 00:00"
   \              3A303000    
   \   000000A6   0000               DC8 0, 0
   \   000000A8   474D54202B30       DC8 "GMT +01:00"
   \              313A303000  
   \   000000B3   00                 DC8 0
   \   000000B4   474D54202B30       DC8 "GMT +02:00"
   \              323A303000  
   \   000000BF   00                 DC8 0
   \   000000C0   474D54202B30       DC8 "GMT +03:00"
   \              333A303000  
   \   000000CB   00                 DC8 0
   \   000000CC   474D54202B30       DC8 "GMT +03:30"
   \              333A333000  
   \   000000D7   00                 DC8 0
   \   000000D8   474D54202B30       DC8 "GMT +04:00"
   \              343A303000  
   \   000000E3   00                 DC8 0
   \   000000E4   474D54202B30       DC8 "GMT +04:30"
   \              343A333000  
   \   000000EF   00                 DC8 0
   \   000000F0   474D54202B30       DC8 "GMT +05:30"
   \              353A333000  
   \   000000FB   00                 DC8 0
   \   000000FC   474D54202B30       DC8 "GMT +05:45"
   \              353A343500  
   \   00000107   00                 DC8 0
   \   00000108   474D54202B30       DC8 "GMT +06:00"
   \              363A303000  
   \   00000113   00                 DC8 0
   \   00000114   474D54202B30       DC8 "GMT +06:30"
   \              363A333000  
   \   0000011F   00                 DC8 0
   \   00000120   474D54202B30       DC8 "GMT +07:00"
   \              373A303000  
   \   0000012B   00                 DC8 0
   \   0000012C   474D54202B30       DC8 "GMT +08:00"
   \              383A303000  
   \   00000137   00                 DC8 0
   \   00000138   474D54202B30       DC8 "GMT +09:00"
   \              393A303000  
   \   00000143   00                 DC8 0
   \   00000144   474D54202B30       DC8 "GMT +09:30"
   \              393A333000  
   \   0000014F   00                 DC8 0
   \   00000150   474D54202B31       DC8 "GMT +10:00"
   \              303A303000  
   \   0000015B   00                 DC8 0
   \   0000015C   474D54202B31       DC8 "GMT +11:00"
   \              313A303000  
   \   00000167   00                 DC8 0
   \   00000168   474D54202B31       DC8 "GMT +12:00"
   \              323A303000  
   \   00000173   00                 DC8 0
   \   00000174   474D54202B31       DC8 "GMT +13:00"
   \              333A303000  
   \   0000017F   00                 DC8 0
   \   00000180   474D54202B30       DC8 "GMT +05:00"
   \              353A303000  
   \   0000018B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "online: %02d:%02d:%02d">`:
   \   00000000   6F6E6C696E65       DC8 "online: %02d:%02d:%02d"
   \              3A2025303264
   \              3A253032643A
   \              2530326400  
   \   00000017   00                 DC8 0
   \   00000018   4F66666C696E       DC8 "Offline"
   \              6500        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Away from [%s]">`:
   \   00000000   417761792066       DC8 "Away from [%s]"
   \              726F6D205B25
   \              735D00      
   \   0000000F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\321\\356\\365\\360\\340\\355\\350\\362\\3`:
   \   00000000   D1EEF5F0E0ED       DC8 "\321\356\365\360\340\355\350\362\374"
   \              E8F2FC00    
   \   0000000A   0000               DC8 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   257400             DC8 "%t"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\302\\350\\341\\360\\340 \\356\\362\\352\\`:
   \   00000000   C2E8E1F0E020       DC8 "\302\350\341\360\340 \356\362\352\353\376\367\345\355\340!"
   \              EEF2EAEBFEF7
   \              E5EDE02100  
   \   00000011   000000             DC8 0, 0, 0
   \   00000014   C2E8E1F0E020       DC8 "\302\350\341\360\340 \342\352\353\376\367\345\355\340!"
   \              E2EAEBFEF7E5
   \              EDE02100    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\307\\342\\363\\352\\350 \\356\\362\\352\\`:
   \   00000000   C7E2F3EAE820       DC8 "\307\342\363\352\350 \356\362\352\353\376\367\345\355\373!"
   \              EEF2EAEBFEF7
   \              E5EDFB2100  
   \   00000011   000000             DC8 0, 0, 0
   \   00000014   C7E2F3EAE820       DC8 "\307\342\363\352\350 \342\352\353\376\367\345\355\373!"
   \              E2EAEBFEF7E5
   \              EDFB2100    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\\\%d.txt">`:
   \   00000000   5C25642E7478       DC8 "\\%d.txt"
   \              7400        
   \   00000008   5C302E747874       DC8 "\\0.txt"
   \              00          
   \   0000000F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   5B415D00           DC8 "[A]"

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   5B495D00           DC8 "[I]"

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   5B565D00           DC8 "[V]"

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   5B535D00           DC8 "[S]"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Waiting for GPRS up...">`:
   \   00000000   57616974696E       DC8 "Waiting for GPRS up..."
   \              6720666F7220
   \              475052532075
   \              702E2E2E00  
   \   00000017   00                 DC8 0
   \   00000018   436F6E6E6563       DC8 "Connect to %s:%d"
   \              7420746F2025
   \              733A256400  
   \   00000029   000000             DC8 0, 0, 0
   \   0000002C   0A436F6E6E65       DC8 "\012Connect by IP!"
   \              637420627920
   \              49502100    
   \   0000003C   53656E642044       DC8 "Send DNR..."
   \              4E522E2E2E00
   \   00000048   444E52204552       DC8 "DNR ERROR %d!"
   \              524F52202564
   \              2100        
   \   00000056   0000               DC8 0, 0
   \   00000058   444E52204F6B       DC8 "DNR Ok, connecting..."
   \              2C20636F6E6E
   \              656374696E67
   \              2E2E2E00    
   \   0000006E   0000               DC8 0, 0
   \   00000070   CDE5E2EEE7EC       DC8 "\315\345\342\356\347\354\356\346\355\356 \357\356\344\352\353\376\367\350\362\374\361\377!"
   \              EEE6EDEE20EF
   \              EEE4EAEBFEF7
   \              E8F2FCF1FF21
   \              00          
   \   00000089   000000             DC8 0, 0, 0
   \   0000008C   CDE5E2EEE7EC       DC8 "\315\345\342\356\347\354\356\346\355\356 \361\356\347\344\340\362\374 \361\356\352\345\362, \357\345\360\345\347\340\357\363\361\352 GPRS!"
   \              EEE6EDEE20F1
   \              EEE7E4E0F2FC
   \              20F1EEEAE5F2
   \              2C20EFE5F0E5
   \              E7E0EFF3F1EA
   \              204750525321
   \              00          
   \   000000B7   00                 DC8 0
   \   000000B8   D1E5F0E2E5F0       DC8 "\321\345\360\342\345\360 \355\345 \355\340\351\344\345\355!"
   \              20EDE520EDE0
   \              E9E4E5ED2100
   \   000000CA   0000               DC8 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   0A00               DC8 "\012"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "send res %d">`:
   \   00000000   73656E642072       DC8 "send res %d"
   \              657320256400
   \   0000000C   53656E642064       DC8 "Send delayed..."
   \              656C61796564
   \              2E2E2E00    
   \   0000001C   53656E642065       DC8 "Send error!"
   \              72726F722100

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Sie_%04d">`:
   \   00000000   5369655F2530       DC8 "Sie_%04d"
   \              346400      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   257300             DC8 "%s"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%s: %s">`:
   \   00000000   25733A202573       DC8 "%s: %s"
   \              00          
   \   00000007   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%02d:%02d %02d-%02d %...">`:
   \   00000000   253032643A25       DC8 "%02d:%02d %02d-%02d %s:\015\012"
   \              303264202530
   \              32642D253032
   \              642025733A0D
   \              0A00        
   \   0000001A   0000               DC8 0, 0
   \   0000001C   253032643A25       DC8 "%02d:%02d %02d-%02d %s:"
   \              303264202530
   \              32642D253032
   \              642025733A00

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Autobot Off">`:
   \   00000000   4175746F626F       DC8 "Autobot Off"
   \              74204F666600
   \   0000000C   4175746F626F       DC8 "Autobot On"
   \              74204F6E00  
   \   00000017   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   F3E3F300           DC8 "\363\343\363"

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   3A0A00             DC8 ":\012"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "null.png">`:
   \   00000000   6E756C6C2E70       DC8 "null.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "NATICQ: %d">`:
   \   00000000   4E4154494351       DC8 "NATICQ: %d"
   \              3A20256400  
   \   0000000B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\321\\353\\345\\344\\363\\376\\371\\350\\3`:
   \   00000000   D1EBE5E4F3FE       DC8 "\321\353\345\344\363\376\371\350\351 \367\340\362"
   \              F9E8E920F7E0
   \              F200        
   \   0000000E   0000               DC8 0, 0
   \   00000010   CFF0E5E4FBE4       DC8 "\317\360\345\344\373\344\363\371\350\351 \367\340\362"
   \              F3F9E8E920F7
   \              E0F200      
   \   0000001F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "abcdefghijklmnopqrstu...">`:
   \   00000000   616263646566       DC8 61H, 62H, 63H, 64H, 65H, 66H, 67H, 68H
   \              6768        
   \   00000008   696A6B6C6D6E       DC8 69H, 6AH, 6BH, 6CH, 6DH, 6EH, 6FH, 70H
   \              6F70        
   \   00000010   717273747576       DC8 71H, 72H, 73H, 74H, 75H, 76H, 77H, 78H
   \              7778        
   \   00000018   797A41424344       DC8 79H, 7AH, 41H, 42H, 43H, 44H, 45H, 46H
   \              4546        
   \   00000020   4748494A4B4C       DC8 47H, 48H, 49H, 4AH, 4BH, 4CH, 4DH, 4EH
   \              4D4E        
   \   00000028   4F5051525354       DC8 4FH, 50H, 51H, 52H, 53H, 54H, 55H, 56H
   \              5556        
   \   00000030   5758595A3031       DC8 57H, 58H, 59H, 5AH, 30H, 31H, 32H, 33H
   \              3233        
   \   00000038   343536373839       DC8 34H, 35H, 36H, 37H, 38H, 39H, 24H, 2DH
   \              242D        
   \   00000040   5F2E2B212A27       DC8 5FH, 2EH, 2BH, 21H, 2AH, 27H, 28H, 29H
   \              2829        
   \   00000048   2C253B3A4026       DC8 2CH, 25H, 3BH, 3AH, 40H, 26H, 3DH, 2FH
   \              3D2F        
   \   00000050   3FE0E1E2E3E4       DC8 3FH, 0E0H, 0E1H, 0E2H, 0E3H, 0E4H, 0E5H, 0B8H
   \              E5B8        
   \   00000058   E6E7E8E9EAEB       DC8 0E6H, 0E7H, 0E8H, 0E9H, 0EAH, 0EBH, 0ECH, 0EDH
   \              ECED        
   \   00000060   EEEFF0F1F2F3       DC8 0EEH, 0EFH, 0F0H, 0F1H, 0F2H, 0F3H, 0F4H, 0F5H
   \              F4F5        
   \   00000068   F6F7F8F9FAFB       DC8 0F6H, 0F7H, 0F8H, 0F9H, 0FAH, 0FBH, 0FCH, 0FDH
   \              FCFD        
   \   00000070   FEFFC0C1C2C3       DC8 0FEH, 0FFH, 0C0H, 0C1H, 0C2H, 0C3H, 0C4H, 0C5H
   \              C4C5        
   \   00000078   A8C6C7C8C9CA       DC8 0A8H, 0C6H, 0C7H, 0C8H, 0C9H, 0CAH, 0CBH, 0CCH
   \              CBCC        
   \   00000080   CDCECFD0D1D2       DC8 0CDH, 0CEH, 0CFH, 0D0H, 0D1H, 0D2H, 0D3H, 0D4H
   \              D3D4        
   \   00000088   D5D6D7D8D9DA       DC8 0D5H, 0D6H, 0D7H, 0D8H, 0D9H, 0DAH, 0DBH, 0DCH
   \              DBDC        
   \   00000090   DDDEDF00           DC8 0DDH, 0DEH, 0DFH, 0
   \   00000094   687474703A2F       DC8 "http://"
   \              2F00        
   \   0000009C   7777772E00         DC8 "www."
   \   000000A1   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\314\\345\\355\\376">`:
   \   00000000   CCE5EDFE00         DC8 "\314\345\355\376"
   \   00000005   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\300\\342\\362\\356\\360\\350\\347\\363\\3`:
   \   00000000   C0E2F2EEF0E8       DC8 "\300\342\362\356\360\350\347\363\351\362\345 \354\345\355\377..."
   \              E7F3E9F2E520
   \              ECE5EDFF2E2E
   \              2E00        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%s\\\\%u\\\\%s(%d).txt">`:
   \   00000000   25735C25755C       DC8 "%s\\%u\\%s(%d).txt"
   \              257328256429
   \              2E74787400  
   \   00000011   000000             DC8 0, 0, 0
   \   00000014   25735C257328       DC8 "%s\\%s(%d).txt"
   \              2564292E7478
   \              7400        
   \   00000022   0000               DC8 0, 0

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   257500             DC8 "%u"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "offline.png">`:
   \   00000000   6F66666C696E       DC8 "offline.png"
   \              652E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "invisible.png">`:
   \   00000000   696E76697369       DC8 "invisible.png"
   \              626C652E706E
   \              6700        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "away.png">`:
   \   00000000   617761792E70       DC8 "away.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "na.png">`:
   \   00000000   6E612E706E67       DC8 "na.png"
   \              00          
   \   00000007   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "occupied.png">`:
   \   00000000   6F6363757069       DC8 "occupied.png"
   \              65642E706E67
   \              00          
   \   0000000D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "dnd.png">`:
   \   00000000   646E642E706E       DC8 "dnd.png"
   \              6700        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "depression.png">`:
   \   00000000   646570726573       DC8 "depression.png"
   \              73696F6E2E70
   \              6E6700      
   \   0000000F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "evil.png">`:
   \   00000000   6576696C2E70       DC8 "evil.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "home.png">`:
   \   00000000   686F6D652E70       DC8 "home.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "lunch.png">`:
   \   00000000   6C756E63682E       DC8 "lunch.png"
   \              706E6700    
   \   0000000A   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "work.png">`:
   \   00000000   776F726B2E70       DC8 "work.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "online.png">`:
   \   00000000   6F6E6C696E65       DC8 "online.png"
   \              2E706E6700  
   \   0000000B   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "ffc.png">`:
   \   00000000   6666632E706E       DC8 "ffc.png"
   \              6700        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "message.png">`:
   \   00000000   6D6573736167       DC8 "message.png"
   \              652E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "unknown.png">`:
   \   00000000   756E6B6E6F77       DC8 "unknown.png"
   \              6E2E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "groupon.png">`:
   \   00000000   67726F75706F       DC8 "groupon.png"
   \              6E2E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "groupoff.png">`:
   \   00000000   67726F75706F       DC8 "groupoff.png"
   \              66662E706E67
   \              00          
   \   0000000D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "addcont.png">`:
   \   00000000   616464636F6E       DC8 "addcont.png"
   \              742E706E6700

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "head.png">`:
   \   00000000   686561642E70       DC8 "head.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "logo.png">`:
   \   00000000   6C6F676F2E70       DC8 "logo.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "ping.png">`:
   \   00000000   70696E672E70       DC8 "ping.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "settings.png">`:
   \   00000000   73657474696E       DC8 "settings.png"
   \              67732E706E67
   \              00          
   \   0000000D   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "vis1.png">`:
   \   00000000   766973312E70       DC8 "vis1.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "vis2.png">`:
   \   00000000   766973322E70       DC8 "vis2.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "vis3.png">`:
   \   00000000   766973332E70       DC8 "vis3.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "vis4.png">`:
   \   00000000   766973342E70       DC8 "vis4.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "vis5.png">`:
   \   00000000   766973352E70       DC8 "vis5.png"
   \              6E6700      
   \   00000009   000000             DC8 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Input away msg">`:
   \   00000000   496E70757420       DC8 "Input away msg"
   \              61776179206D
   \              736700      
   \   0000000F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "\\313\\345\\342">`:
   \   00000000   CBE5E200           DC8 "\313\345\342"

   Maximum stack usage in bytes:

     Function                  CSTACK
     --------                  ------
     AddContactT9Key              12
     AddCurContact                 4
     AddLOGQ                       0
     AddMsgToChat                108
     AddSmile                      4
     AddStringToLog              188
     AddToMain                    44
     AskNickAndAddContact          4
     AutobotInit                   4
     BackSpaceContactT9            8
     ChangeSound                   4
     ChangeVibra                   4
     CheckComand                  56
     CheckDoubleRun                8
     ClearContactT9Key             4
     ClearLog                     60
     ClearSendQ                    8
     CreateEditChat              116
     Draw                         12
     Draw2                        20
     DrawAck                      80
     DrawAutoMSG                  20
     ElfKiller                     4
     ExtractAnswer                36
     FindContactLOGQByAck         12
     FindNextActiveContact         0
     FindPrevActiveContact         0
     FreeLOGQ                      8
     FreeTemplates                 8
     GetHost                       0
     GetHostsCount                 0
     GetIconIndex                  0
     GetLastXTextLOGQ              0
     GetOnTotalContact             8
     GetPort                      16
     GetShortInfo                 20
     GetTempName                  20
     Get_Online_total              0
     IlluminationOff               8
     IlluminationOn               24
     InputAwayMsg                 88
     IsUrl                        44
     LastLOGQ                      0
     LoadTemplates               332
     NewLOGQ                      12
     OpenLogfile                  20
     ParseAnswer                  36
     ParseXStatusText             20
     Pinger2                      16
     Play                        236
     ProcessPacket               344
     Quote                       152
     ReadDefSettings             156
     RecountMenu                  16
     Remind_Timer2                 8
     Reminder_timer                4
     RemoveLOGQ                    4
     ReqAddMsgToChat              16
     RequestXText                  8
     SLI_Off                       4
     SLI_On                        8
     SLI_Timer                     4
     SLI_check                     4
     SMART_REDRAW                  8
     SaveAnswer                   12
     SendAnswer                   28
     SendAuthGrant                44
     SendAuthReq                  44
     SendMSGACK                    8
     UpdateCLheader               40
     UpdateCSMname                 4
     WriteDefSettings            152
     addIconBar                    4
     ask_my_info                   0
     atoi                          4
     away_timer                   24
     begin_to_develop              4
     contactlist_menu_ghook        8
     contactlist_menu_iconhndl   668
     contactlist_menu_onkey       52
     create_connect              312
     create_contactlist_menu      24
     do_ping                       4
     do_reconnect                  4
     ec_menu                      68
     ecmenu_ghook                  4
     ed_options_handler           64
     edchat_ghook                 72
     edchat_locret                 0
     edchat_onkey                344
     end_socket                    8
     free_ICONS                   16
     get_answer                 1096
     init_time_zone                4
     input_awaymsg_ghook           4
     input_awaymsg_locret          0
     input_awaymsg_onkey          72
     main                         64
     maincsm_onclose               8
     maincsm_oncreate             20
     maincsm_onmessage           108
     method0                      96
     method1                       8
     method2                       8
     method3                       8
     method4                       0
     method5                      24
     method8                       0
     method9                       0
     my_ed_redraw                 12
     my_keyhook                   16
     process_active_timer         12
     recon                         8
     send_login                   36
     set_my_status                 4
     set_my_xstatus               48
     set_my_xstatus2              36
     setup_ICONS                  12
     show_pp_sender               56
     start_vibra                   8
     start_vibra2                  4
     stop_vibra                    4
     stop_vibra2                   4
     to_develop                    4
     wstrstr                      32
     x_zstatus                    20
     xstatuse                      0


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     popups                             4
     Pinger2                          144
     SLI_TYPE                           4
     SMART_REDRAW                      48
     away_msg_time2                    64
     timeh                              4
     timemin                            4
     away_timer                       260
     init_time_zone                   356
     Draw                              80
     Remind_Timer2                     68
     Reminder_timer                    32
     xstatuse                          64
     x_zstatus                        156
     Draw2                            148
     DrawAutoMSG                      124
     input_awaymsg_onkey              336
     input_awaymsg_ghook               68
     input_awaymsg_locret               4
     InputAwayMsg                     472
     SLI_On                            60
     SLI_Off                           72
     SLI_check                         32
     SLI_Timer                         36
     setup_ICONS                       72
     free_ICONS                        44
     IlluminationOff                   60
     IlluminationOn                   112
     ReadDefSettings                  372
     WriteDefSettings                 372
     Play                             304
     start_vibra                      100
     stop_vibra                        88
     start_vibra2                      60
     stop_vibra2                       88
     ChangeVibra                       56
     ChangeSound                       56
     FreeTemplates                     56
     LoadTemplates                    396
     RXbuf                          16392
     TXbuf                          16392
     ElfKiller                         32
     NewLOGQ                           52
     LastLOGQ                          36
     FreeLOGQ                          48
     RemoveLOGQ                        52
     AddLOGQ                           44
     GetLastXTextLOGQ                  72
     GetIconIndex                     228
     FindContactLOGQByAck              88
     UpdateCLheader                   368
     ClearContactT9Key                 24
     AddContactT9Key                   36
     BackSpaceContactT9                36
     create_contactlist_menu          108
     contactlist_menu_ghook            68
     RecountMenu                      148
     contactlist_menu_onkey          1380
     GetOnTotalContact                 92
     contactlist_menu_iconhndl        600
     GetHost                          192
     atoi                              84
     GetPort                          268
     GetHostsCount                    120
     create_connect                   712
     ClearSendQ                        32
     end_socket                        40
     SendAnswer                       388
     send_login                       148
     do_ping                           52
     SendMSGACK                        52
     RequestXText                      52
     get_answer                      1384
     AddToMain                        540
     AddStringToLog                   564
     ParseXStatusText                 152
     AddMsgToChat                     832
     DrawAck                          340
     ask_my_info                        4
     set_my_status                     68
     set_my_xstatus                   532
     set_my_xstatus2                  244
     to_develop                        80
     ReqAddMsgToChat                  120
     begin_to_develop                  52
     AutobotInit                       72
     CheckComand                     1964
     INC_Nick                          32
     show_pp_sender                   284
     Get_Online_total                  92
     ProcessPacket                   2228
     process_active_timer             144
     method0                          836
     method1                           44
     method2                           36
     method3                           24
     method4                           20
     method5                          204
     method8                            8
     method9                            8
     my_keyhook                       164
     ?<Constant "\302\373 \340\342\362\356\360\350\
                                     1388
     ipc_test_name                      8
     S_OFFLINE                          8
     S_INVISIBLE                       12
     S_AWAY                             8
     S_NA                               4
     S_OCCUPIED                        12
     S_DND                              4
     S_ONLINE                           8
     S_FFC                              4
     icons_names                      112
     input_awaymsg_desc               128
     def_setting                       20
     key_clmenu_sk_r                   84
     contactlist_menuhdr               68
     menusoftkeys                      12
     menu_sk                           24
     clmenu_sk                         24
     menu_skt                           8
     clmenu_skt                         8
     color                              4
     maincsm_oncreate                 252
     maincsm_onclose                  280
     do_reconnect                      40
     CheckDoubleRun                   104
     maincsm_onmessage               2660
     addIconBar                        36
     minus11                            4
     maincsm_name_body                280
     UpdateCSMname                     36
     main                             408
     edchat_locret                      4
     ExtractAnswer                    280
     ??FindNextActiveContact_0         64
     FindPrevActiveContact             88
     ed_options_handler               436
     wstrstr                          124
     IsUrl                            424
     ParseAnswer                      548
     SaveAnswer                        36
     recon                             52
     GetTempName                      172
     DMonth                            52
     edchat_onkey                    1124
     my_ed_redraw                     112
     edchat_ghook                     552
     edchat_desc                       84
     sk                                16
     CreateEditChat                  1184
     Quote                            416
     GetShortInfo                     164
     AddCurContact                     52
     SendAuthReq                      200
     SendAuthGrant                    192
     OpenLogfile                      168
     ClearLog                         236
     ecmenu_ghook                      20
     ecmenu_ITEMS                     224
     ecmenu_HNDLS                      32
     S_ICONS                         7184
     sk                                 8
     input_awaymsg_sk                  24
     input_awaymsg_skt                  8
     ecmenu_HDR                        64
     ec_menu                          320
     AskNickAndAddContact               8
     AddSmile                          24
     ??DataTable1                       4
     ??DataTable2                       4
     ??DataTable3                       4
     ??DataTable5                       4
     ??DataTable11                      4
     ??DataTable14                      4
     ??DataTable19                      4
     ??DataTable20                      4
     ??DataTable22                      4
     ??DataTable26                      4
     ??DataTable31                      4
     ??DataTable32                      4
     ??DataTable33                      4
     ??DataTable34                      4
     ??DataTable40                      4
     ??DataTable43                      4
     ??DataTable47                      4
     ??DataTable50                      4
     ??DataTable54                      4
     ??DataTable56                      4
     ??DataTable57                      4
     ??DataTable59                      4
     ??DataTable60                      4
     ??DataTable61                      4
     ??DataTable62                      4
     ??DataTable63                      4
     ??DataTable65                      4
     ??DataTable71                      4
     ??DataTable72                      4
     ??DataTable74                      4
     ??DataTable75                      4
     ??DataTable76                      4
     ??DataTable77                      4
     ??DataTable80                      4
     ??DataTable82                      4
     ??DataTable83                      4
     ??DataTable84                      4
     ??DataTable92                      4
     ??DataTable93                      4
     ??DataTable95                      4
     ??DataTable96                      4
     ??DataTable97                      4
     ??DataTable98                      4
     ??DataTable99                      4
     ??DataTable100                     4
     ??DataTable101                     4
     ??DataTable102                     4
     ??DataTable103                     4
     ??DataTable107                     4
     ??DataTable112                     4
     ??DataTable114                     4
     ??DataTable115                     4
     ??DataTable116                     4
     ??DataTable117                     4
     ??DataTable118                     4
     ??DataTable120                     4
     ??DataTable123                     4
     ??DataTable124                     4
     ??DataTable125                     4
     ??DataTable126                     4
     ??DataTable127                     4
     ??DataTable128                     4
     ??DataTable129                     4
     ??DataTable133                     4
     ??DataTable134                     4
     ??DataTable135                     4
     ??DataTable139                     4
     ??DataTable140                     4
     ??DataTable143                     4
     ??DataTable154                     4
     ??DataTable157                     4
     ??DataTable160                     4
     ??DataTable162                     4
     ??DataTable163                     4
     ??DataTable168                     4
     ??DataTable169                     4
     ??DataTable170                     4
     ??DataTable172                     4
     ??DataTable173                     4
     ??DataTable174                     4
     ??DataTable175                     4
     ??DataTable177                     4
     ??DataTable178                     4
     ??DataTable179                     4
     ??DataTable180                     4
     ??DataTable181                     4
     ??DataTable182                     4
     ??DataTable183                     4
     ??DataTable184                     4
     ??DataTable185                     4
     ??DataTable187                     4
     ??DataTable190                     4
     ??DataTable191                     4
     ??DataTable193                     4
     ??DataTable195                     4
     ??DataTable198                     4
     ??DataTable199                     4
     ??DataTable201                     4
     ??DataTable202                     4
     ??DataTable203                     4
     ??DataTable204                     4
     ??DataTable205                     4
     ??DataTable206                     4
     ??DataTable207                     4
     ??DataTable208                     4
     ??DataTable209                     4
     ??DataTable210                     4
     ??DataTable211                     4
     ??DataTable212                     4
     ??DataTable213                     4
     ??DataTable214                     4
     ??DataTable215                     4
     ??DataTable217                     4
     ??DataTable223                     4
     ??DataTable225                     4
     ??DataTable226                     4
     ??DataTable227                     4
     ??DataTable228                     4
     ??DataTable229                     4
     ??DataTable230                     4
     ?<Initializer for S_ICONS>      7184
     ?<Initializer for sk>              8
     ?<Initializer for input_awaymsg_sk>
                                       24
     ?<Initializer for input_awaymsg_skt>
                                        8
     ?<Constant "\317\360\340\342">     8
     ?<Constant "\316\357\366\350\350">
                                        8
     ?<Constant "\307\340\352\360\373\362\374">
                                        8
     ?<Constant "\326\350\362\350\360\356\342\340\3
                                       12
     ?<Constant "\302\361\362\340\342\350\362\374 \
                                       16
     ?<Constant "\317\356\353\363\367\350\362\374 \
                                       16
     ?<Constant "\304\356\341\340\342./\350\354\377
                                       12
     ?<Constant "\307\340\357\360\356\361 \340\342\
                                       16
     ?<Constant "\300\342\362\356\360\350\347\356\3
                                       16
     ?<Constant "\316\362\352\360\373\362\374 \350\
                                       16
     ?<Constant "\316\367\350\361\362\350\362\374 \
                                       16
     ?<Constant "%02d:%02d">           52
     ?<Constant "GMT -12:00">         396
     ?<Constant "online: %02d:%02d:%02d">
                                       32
     ?<Constant "Away from [%s]">      16
     ?<Constant "\321\356\365\360\340\355\350\362\3
                                       12
     ?<Constant "%t">                   3
     ?<Constant "\302\350\341\360\340 \356\362\352\
                                       36
     ?<Constant "\307\342\363\352\350 \356\362\352\
                                       36
     ?<Constant "\\%d.txt">            16
     ?<Constant "[A]">                  4
     ?<Constant "[I]">                  4
     ?<Constant "[V]">                  4
     ?<Constant "[S]">                  4
     ?<Constant "Waiting for GPRS up...">
                                      204
     ?<Constant "\n">                   2
     ?<Constant "send res %d">         40
     ?<Constant "Sie_%04d">            12
     ?<Constant "%s">                   3
     ?<Constant "%s: %s">               8
     ?<Constant "%02d:%02d %02d-%02d %...">
                                       52
     ?<Constant "Autobot Off">         24
     ?<Constant "\363\343\363">         4
     ?<Constant ":\n">                  3
     ?<Constant "null.png">            12
     ?<Constant "NATICQ: %d">          12
     ?<Constant "\321\353\345\344\363\376\371\350\3
                                       32
     ?<Constant "abcdefghijklmnopqrstu...">
                                      164
     ?<Constant "\314\345\355\376">     8
     ?<Constant "\300\342\362\356\360\350\347\363\3
                                       20
     ?<Constant "%s\\%u\\%s(%d).txt">
                                       36
     ?<Constant "%u">                   3
     ?<Constant "offline.png">         12
     ?<Constant "invisible.png">       16
     ?<Constant "away.png">            12
     ?<Constant "na.png">               8
     ?<Constant "occupied.png">        16
     ?<Constant "dnd.png">              8
     ?<Constant "depression.png">      16
     ?<Constant "evil.png">            12
     ?<Constant "home.png">            12
     ?<Constant "lunch.png">           12
     ?<Constant "work.png">            12
     ?<Constant "online.png">          12
     ?<Constant "ffc.png">              8
     ?<Constant "message.png">         12
     ?<Constant "unknown.png">         12
     ?<Constant "groupon.png">         12
     ?<Constant "groupoff.png">        16
     ?<Constant "addcont.png">         12
     ?<Constant "head.png">            12
     ?<Constant "logo.png">            12
     ?<Constant "ping.png">            12
     ?<Constant "settings.png">        16
     ?<Constant "vis1.png">            12
     ?<Constant "vis2.png">            12
     ?<Constant "vis3.png">            12
     ?<Constant "vis4.png">            12
     ?<Constant "vis5.png">            12
     ?<Constant "Input away msg">      16
     ?<Constant "\313\345\342">         4
      Others                          996

 
 33 756 bytes in segment CODE
  4 178 bytes in segment DATA_C
  7 224 bytes in segment DATA_I
  7 224 bytes in segment DATA_ID
 33 172 bytes in segment DATA_Z
     24 bytes in segment INITTAB
 
 32 784 bytes of CODE  memory (+ 996 bytes shared)
 11 402 bytes of CONST memory
 40 396 bytes of DATA  memory

Errors: none
Warnings: none
